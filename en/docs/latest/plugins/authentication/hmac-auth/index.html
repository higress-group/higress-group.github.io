<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar data-theme="dark" class="astro-bguv2lll"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"> <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>HMAC Authentication-HigressOfficial Website</title><link rel="canonical" href="https://higress.cn/en/docs/latest/plugins/authentication/hmac-auth/"/><link rel="alternate" hreflang="zh-CN" href="https://higress.cn/docs/latest/plugins/authentication/hmac-auth/"/><link rel="alternate" hreflang="en" href="https://higress.cn/en/docs/latest/plugins/authentication/hmac-auth/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/higress_logo.png" type="image/png"/><meta name="aplus-core" content="aplus.js"/><meta property="og:title" content="HMAC Authentication"/><meta property="og:type" content="article"/><meta property="og:url" content="https://higress.cn/en/docs/latest/plugins/authentication/hmac-auth/"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="Higress"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="HMAC Authentication"/><meta name="baidu-site-verification" content="codeva-x6yW4DqCn3"/><meta name="msvalidate.01" content="418883CE9AE2CAD01E7FC1A7B9F20801"/><meta name="twitter:description" content="HMAC Authentication plugin configuration reference"/><meta name="description" content="HMAC Authentication plugin configuration reference"/><meta property="og:description" content="HMAC Authentication plugin configuration reference"/><meta property="keywords" content="higress,hmac auth"/> <!--初始化SDK-->   <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-YHS75WKFBR"></script> <script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/index.1tR2vmQZ.css">
<link rel="stylesheet" href="/_astro/index.DWJuVaWc.css">
<link rel="stylesheet" href="/_astro/_page_.BwWph3Ek.css">
<style>.table-of-contents-wrapper ul{padding:0;list-style:none}.table-of-contents-wrapper a{--pad-inline: .5rem;display:block;border-radius:.25rem;padding-block:.25rem;padding-inline:calc(1rem * var(--depth) + var(--pad-inline)) var(--pad-inline);line-height:1.25}.table-of-contents-wrapper a[aria-current=true],.table-of-contents-wrapper a[aria-current=true]:hover,.table-of-contents-wrapper a[aria-current=true]:focus{color:var(--fallback-n,oklch(var(--n)/1))!important;background-color:var(--fallback-s,oklch(var(--s)/1))!important;border-left-style:solid;border-left-width:3px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important;font-weight:400!important;border-radius:0!important}.table-of-contents-wrapper .isMobile a{--pad-inline: 1rem;display:flex;justify-content:space-between;gap:var(--pad-inline);border-top:1px solid var(--sl-color-gray-6);border-radius:0;padding-block:.5rem;color:var(--sl-color-text);font-size:var(--sl-text-sm);text-decoration:none;outline-offset:var(--sl-outline-offset-inside)}.table-of-contents-wrapper .isMobile:first-child>li:first-child>a{border-top:0}.table-of-contents-wrapper .isMobile a[aria-current=true],.table-of-contents-wrapper .isMobile a[aria-current=true]:hover,.table-of-contents-wrapper .isMobile a[aria-current=true]:focus{color:var(--sl-color-white);background-color:unset}.table-of-contents-wrapper .isMobile a[aria-current=true]:after{content:"";width:1rem;background-color:var(--sl-color-text-accent);-webkit-mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;flex-shrink:0}
.badge-wrapper .sl-badge{display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-size:.75rem;padding:.125rem .375rem;line-height:1;color:var(--sl-color-bg-badge);overflow-wrap:anywhere;transform:scale(.83);transform-origin:0 0}.badge-wrapper .outline{outline-style:none!important;--sl-color-bg-badge: var(--fallback-wa,oklch(var(--wa)/1));--sl-color-border-badge: var(--fallback-p,oklch(var(--p)/1))}.badge-wrapper .default{--sl-color-bg-badge: var(--sl-color-accent-low);--sl-color-border-badge: var(--sl-color-accent)}.badge-wrapper .note{--sl-color-bg-badge: var(--sl-color-blue-low);--sl-color-border-badge: var(--sl-color-blue)}.badge-wrapper .danger{--sl-color-bg-badge: var(--sl-color-red-low);--sl-color-border-badge: var(--sl-color-red)}.badge-wrapper .success{--sl-color-bg-badge: var(--sl-color-green-low);--sl-color-border-badge: var(--sl-color-green)}.badge-wrapper .caution{--sl-color-bg-badge: var(--sl-color-orange-low);--sl-color-border-badge: var(--sl-color-orange)}.badge-wrapper .tip{--sl-color-bg-badge: var(--sl-color-purple-low);--sl-color-border-badge: var(--sl-color-purple)}.badge-wrapper [data-theme=light] .default{--sl-color-bg-badge: var(--sl-color-accent-high)}.badge-wrapper [data-theme=light] .note{--sl-color-bg-badge: var(--sl-color-blue-high)}.badge-wrapper [data-theme=light] .danger{--sl-color-bg-badge: var(--sl-color-red-high)}.badge-wrapper [data-theme=light] .success{--sl-color-bg-badge: var(--sl-color-green-high)}.badge-wrapper [data-theme=light] .caution{--sl-color-bg-badge: var(--sl-color-orange-high)}.badge-wrapper [data-theme=light] .tip{--sl-color-bg-badge: var(--sl-color-purple-high)}.sidebar-sublist-wrapper ul{--sl-sidebar-item-padding-inline: .5rem;list-style:none;padding:0}.sidebar-sublist-wrapper li{overflow-wrap:anywhere}.sidebar-sublist-wrapper ul ul li{margin-inline-start:var(--sl-sidebar-item-padding-inline);border-inline-start:1px solid var(--sl-color-hairline-light);padding-inline-start:var(--sl-sidebar-item-padding-inline)}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-lg);font-weight:600;color:var(--sl-color-white)}.sidebar-sublist-wrapper .top-level>li+li{margin-top:.75rem}.sidebar-sublist-wrapper summary{display:flex;align-items:center;justify-content:space-between;padding:.2em var(--sl-sidebar-item-padding-inline);line-height:1.4;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-sublist-wrapper summary::marker,.sidebar-sublist-wrapper summary::-webkit-details-marker{display:none}.sidebar-sublist-wrapper .caret{transition:transform .2s ease-in-out;flex-shrink:0}.sidebar-sublist-wrapper [dir=rtl] .caret{transform:rotate(180deg)}.sidebar-sublist-wrapper [open]>summary .caret{transform:rotate(90deg)}.sidebar-sublist-wrapper a{display:block;border-radius:.25rem;text-decoration:none;color:var(--sl-color-gray-2);padding:.3em var(--sl-sidebar-item-padding-inline);line-height:1.4}.sidebar-sublist-wrapper a:hover,.sidebar-sublist-wrapper a:focus{color:var(--sl-color-white)}.sidebar-sublist-wrapper [aria-current=page],.sidebar-sublist-wrapper [aria-current=page]:hover,.sidebar-sublist-wrapper [aria-current=page]:focus{color:var(--fallback-n,oklch(var(--n)/1));background-color:var(--fallback-er,oklch(var(--er)/1));border-left-style:solid;border-left-width:4px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important}.sidebar-sublist-wrapper a>*:not(:last-child),.sidebar-sublist-wrapper .group-label>*:not(:last-child){margin-inline-end:.25em}@media (min-width: 50rem){.sidebar-sublist-wrapper .top-level>li+li{margin-top:.5rem}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-base)}.sidebar-sublist-wrapper a{font-size:var(--sl-text-sm)}}
.header-wrapper my-layout{--header-content-width: var(--width);--logo-height: 2rem;--header-height: var(--height);--header-xl-padding: var(--xpadding)}.header-wrapper .header-content{width:var(--header-content-width);padding-left:var(--header-xl-padding);padding-right:var(--header-xl-padding)}.header-wrapper .left-content .logo{vertical-align:sub;height:var(--logo-height)}.header-wrapper .left-content .mobile-navbar{display:none}@media (max-width: 85.125rem){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}}@media (max-width: 1070px){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}.header-wrapper .left-content .mobile-navbar{display:block}.header-wrapper .center-content{display:none}.header-wrapper .code-toggle{padding:0!important;background-color:transparent!important}.header-wrapper .code-toggle span{display:none}.header-wrapper .code-toggle svg{width:1.5rem;height:1.5rem}}
.link-icon:where(.astro-ld27styo){transition:width .3s ease}
toggle-content:where(.astro-bxjx6km4){--toggle-ml-width: 7rem;--toggle-xl-width: 7.5rem;--toggle-ml-height: 2rem;--toggle-xl-height: 2.5rem;--toggle-ml-font: .75rem;--toggle-xl-font: .85rem;--toggle-ml-switch-width: 3.5rem;--toggle-xl-switch-width: 3.75rem;--toggle-ml-switch-height: 1.5rem;--toggle-xl-switch-height: 2rem}.switch:where(.astro-bxjx6km4){width:var(--toggle-ml-width)}.switch-inner:where(.astro-bxjx6km4){width:200%;margin-left:-100%}.switch-inner:where(.astro-bxjx6km4):before,.switch-inner:where(.astro-bxjx6km4):after{display:block;float:right;width:50%;height:var(--toggle-ml-height);padding:0;line-height:var(--toggle-ml-height);font-size:var(--toggle-ml-font);box-sizing:border-box}.switch-inner:where(.astro-bxjx6km4):after{content:attr(data-on);padding-left:1.25rem}.switch-inner:where(.astro-bxjx6km4):before{content:attr(data-off);padding-right:1.25rem;text-align:right}.switch-switch:where(.astro-bxjx6km4){height:var(--toggle-ml-switch-height);width:var(--toggle-ml-switch-width);bottom:.25rem;border-radius:2rem;transition:all .3s ease-in 0s;text-align:right}.switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-off);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-inner:where(.astro-bxjx6km4){margin-left:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4){right:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-on);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}
.link-text:where(.astro-zb5a5pg4) .link-icon:where(.astro-zb5a5pg4){width:0;opacity:0;transition:transform .5s ease,width .3s ease,opacity .3s ease}.link-text:where(.astro-zb5a5pg4):hover .link-icon:where(.astro-zb5a5pg4){transform:translate(3px);opacity:1;width:8px}
</style>
<link rel="stylesheet" href="/_astro/tailwind.Bou2P1xi.css">
<link rel="stylesheet" href="/_astro/style.DrAKQua4.css"><script type="module" src="/_astro/hoisted.CqU_BacW.js"></script>
<script type="module" src="/_astro/page.CIklkdzg.js"></script></head> <body class="astro-bguv2lll"> <a class="skip-link-wrapper" href="#_top">Skip to content</a>  <div class="page sl-flex"> <header class="header"><span class="header-wrapper" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="alert-bar w-full  h-12 flex align-center justify-between top-0 bg-cover bg-[url('https://img.alicdn.com/imgextra/i3/O1CN010OMCW91rMde4sifaA_!!6000000005617-0-tps-828-52.jpg')] md:bg-[url('https://img.alicdn.com/imgextra/i4/O1CN01wkq3Nl1O9FCjTbQNk_!!6000000001662-0-tps-2880-96.jpg')]" client:load><div class="md:text-base text-sm m-auto leading-6 "><span class=" text-muted mr-4 md:mr-6 opacity-30 hidden md:inline-block">&lt;/&gt;</span><span class="alert-text hidden md:inline-block bg-gradient-to-r from-link to-success font-medium">HiMarket 开源，打造开箱即用的 AI 开放平台</span><span class="alert-text bg-gradient-to-r from-link to-success text-muted  md:hidden font-medium">HiMarket 开源，打造开箱即用的 AI 开放平台</span><a href="https://github.com/higress-group/himarket" target="_blank" class="mx-auto flex justify-center md:inline text-primary font-medium md:ml-4 no-underline">Know more</a></div><button class="close-button text-muted bg-transparent border-none cursor-pointer text-lg leading-6 mr-1 md:mr-4">
&times;
</button></div> <my-layout style="position: sticky; height: 3.5rem; --width: 100%;--height: 3.5rem;--xpadding: 1.5rem;" class="w-full backdrop-blur-md top-0 z-[10] bg-neutral flex justify-center"> <!-- 方便控制header宽度 --> <div class="header-content flex items-center justify-between" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="left-content h-full flex flex-1 items-center after:content-[''] after:grow after:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <a class="no-underline flex" href="/en" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <img class="logo" src="https://img.alicdn.com/imgextra/i1/O1CN01aIB6n51zcgTM5vhku_!!6000000006735-2-tps-156-48.png" alt="Higress-logo" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> </a> <span class="mobile-navbar-wrapper" style="--top: 3.5rem;"> <div class="mobile-navbar mobile-navbar h-full ml-4" style="--top: 3.5rem;"> <mobile-menu-button style="--top: 3.5rem;"> <button aria-expanded="false" aria-label="mobile-menu-button" style="--top: 3.5rem;"> <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6304" width="28" height="28" style="--top: 3.5rem;"> <path d="M192.037 287.953h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32zM832.161 479.169H438.553c-17.673 0-32 14.327-32 32s14.327 32 32 32h393.608c17.673 0 32-14.327 32-32s-14.327-32-32-32zM832.161 735.802H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32zM319.028 351.594l-160 160 160 160z" class="fill-secondary" p-id="6305" style="--top: 3.5rem;"></path> </svg> </button> </mobile-menu-button> <div class="navbar-panel bg-secondary" style="--top: 3.5rem;"> <div class="navbar-content flex" style="--top: 3.5rem;"> <span class="mobile-nav-sublist-wrapper"> <ul class="top-level"> <li> <a href="https://higress.ai/" class="large flex items-center"> <span>AI 网关</span> </a> </li><li> <a href="/docs/latest/overview/what-is-higress/" class="large flex items-center"> <span>文档</span> </a> </li><li> <a href="/plugin/" class="large flex items-center"> <span>插件</span> </a> </li><li> <a href="/cloud/" class="large flex items-center"> <span>企业版 Higress</span> </a> </li><li> <a href="/blog/" class="large flex items-center"> <span>博客</span> </a> </li><li> <details> <summary> <div class="group-label"> <span class="large undefined">社区</span> </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-color: #818598;--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="mobile-nav-sublist-wrapper"> <ul>  </ul> </span>  </details> </li><li> <a href="/docs/developers/developers_dev/" class="large flex items-center"> <span>开发者</span> </a> </li><li> <a href="http://demo.higress.io/" class="large flex items-center"> <span>控制台样例</span> </a> </li><li> <a href="/faq/wuyi-intro/" class="large flex items-center"> <span>答疑样例</span> </a> </li> </ul> </span>  </div> </div> </div> </span>   </div> <div class="center-content justify-center flex-2 h-full" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <span class="navbar-wrapper"> <navbar-component class="navbar-component h-full"> <div class="pc-navbar pc-navbar h-full"> <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="https://higress.ai/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> Latest  <span class="toggle-text-ailogo text-xs text-center rounded-xl absolute top-[0.5rem] right-[-0.5rem] text-white bg-[red] w-[2rem] h-[1rem] font-medium">
NEW
</span> </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/en/docs/latest/overview/what-is-higress/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> DOCS   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/en/plugin/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  toggle-text-aiwrapper relative"> PLUGIN <span class="toggle-text-ailogo text-center rounded-xl absolute top-[0] right-[-1.5rem] text-white bg-[red] w-[2rem] h-[1.25rem] font-bold">
AI
</span>  </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/en/cloud/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> HIGRESS CLOUD   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/en/blog/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> BLOG   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="hover" class="toggle-component h-full static"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <div class="toggle-text flex items-center justify-center h-full  "> COMMUNITY </div>  <svg width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg" data-updown class="ml-2"> <path d="M8.05264 2L5.05264 5.00649L2.05264 2" stroke="#a3a6b3" stroke-width="1.25" stroke-linecap="square"></path> </svg> </div> <div class="toggle-dropdown w-fit inset-x-0 absolute t-3.5rem">   <menu-container class="menu-container dropdown-docs w-screen h-screen flex flex-col justify-start items-center"> <div class="bg-neutral p-10 w-full flex justify-center "> <div class="w-fit"> <div class="flex justify-between mb-[3.5rem]"> <div class="flex"> <!-- 社区label --> <div class="border-l border-warning flex flex-col px-7 min-w-[12rem]"> <span class="text-xs text-warning mb-2">COMMUNITY</span> <a href="https://github.com/higress-group/higress-group.github.io/issues" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> Report a doc issue  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/developers/contributor-guide/guide_dev/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> Contribute community  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="https://github.com/alibaba/higress/graphs/contributors" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> Contributors  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> <!-- 事件、资源label --> <div class="border-l border-warning flex flex-col px-7 mr-10"> <span class="text-xs text-warning mb-2">Resources</span> <a href="/blog/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> Blog  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/ebook/wasm14/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> E-book  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> </div> <div class="flex" id="blog-card-container"> <div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01bGnAVW1pFeLFnlaQL_!!6000000005331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> API赋能AI，AI网关零代码解决AI幻觉问题 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_im44tpldqyt8c97d/?source=blog_case">READ ARTICLE</a></span> </div><div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01zfayJW1Lhe4kliPv9_!!6000000001331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> Higress 发布 v1.4，开放 AI 网关能力，增强云原生能力 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_picigqfume3k5lf3/?source=blog_article">READ ARTICLE</a></span> </div> </div>  </div> <!-- 联系我们 --> <div class="w-[70rem] contact-us flex items-center justify-between rounded-2xl h-9 pl-10 pr-[8.5rem]"> <span class="text-success text-xs leading-9 tracking-[0.15em]"> CONTACT US </span> <div class="flex items-center cursor-pointer"> <a target="_blank" href="https://github.com/alibaba/higress" class="mr-16 flex items-center no-underline"> <svg viewBox="0 80 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3233" width="16" height="16"> <path d="M20.48 503.72608c0 214.4256 137.4208 396.73856 328.94976 463.6672 25.8048 6.5536 21.87264-11.8784 21.87264-24.33024v-85.07392c-148.93056 17.44896-154.86976-81.1008-164.94592-97.52576-20.23424-34.52928-67.91168-43.33568-53.69856-59.76064 33.91488-17.44896 68.48512 4.42368 108.46208 63.61088 28.95872 42.88512 85.44256 35.6352 114.15552 28.4672a138.8544 138.8544 0 0 1 38.0928-66.7648c-154.25536-27.60704-218.60352-121.77408-218.60352-233.79968 0-54.31296 17.94048-104.2432 53.0432-144.54784-22.36416-66.43712 2.08896-123.24864 5.3248-131.6864 63.81568-5.7344 130.00704 45.6704 135.168 49.68448 36.2496-9.78944 77.57824-14.9504 123.82208-14.9504 46.4896 0 88.064 5.3248 124.5184 15.23712 12.288-9.4208 73.80992-53.53472 133.12-48.128 3.15392 8.43776 27.0336 63.93856 6.02112 129.4336 35.59424 40.38656 53.69856 90.76736 53.69856 145.24416 0 112.18944-64.7168 206.4384-219.42272 233.71776a140.0832 140.0832 0 0 1 41.7792 99.9424v123.4944c0.86016 9.87136 0 19.6608 16.50688 19.6608 194.31424-65.49504 334.2336-249.15968 334.2336-465.5104C1002.57792 232.48896 782.66368 12.77952 511.5904 12.77952 240.18944 12.65664 20.48 232.40704 20.48 503.72608z" fill="currentColor" p-id="3234"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">GitHub</span> </a> <div class="mr-16 hoverable relative"> <img class="tooltip hidden w-40 absolute bottom-9" src="/img/dingding_3.jpg" alt="Higress Dingding Code"> <span class="text-neutral flex items-center"> <svg class="icon" viewBox="0 50 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4747" width="16" height="16"> <path d="M0 0h1024v1024H0z" class="secondary-fill" fill-opacity="0" p-id="4748"></path><path d="M786.978133 481.6896c-153.770667-117.5552-327.133867-273.237333-517.188266-440.183467-14.984533-13.141333-28.2624-7.953067-34.952534 9.5232-42.8032 111.957333-1.297067 211.421867 65.774934 268.731734 67.345067 57.582933 167.492267 110.592 228.829866 138.683733 2.389333 1.092267 0.3072 4.573867-2.116266 3.515733-112.674133-49.152-191.044267-84.650667-297.3696-165.819733-11.434667-8.738133-23.04-5.3248-24.405334 11.707733-8.704 107.042133 60.484267 191.146667 137.728 219.5456 47.786667 17.6128 100.0448 27.3408 148.548267 33.109334 2.525867 0.341333 1.9456 4.027733-0.580267 4.027733-62.498133 0.2048-138.001067-14.609067-203.332266-39.458133-13.789867-5.256533-18.5344 5.632-16.418134 14.267733 11.1616 45.226667 67.652267 114.346667 157.5936 128.887467 16.827733 2.730667 34.747733 3.072 50.722134 2.628266 3.7888-0.136533 4.7104 1.9456 3.4816 4.846934 0 0-61.098667 103.6288-63.761067 108.066133-2.082133 3.447467-0.8192 6.212267 3.515733 6.212267h80.622934c3.754667 0 6.0416 2.389333 4.096 5.5296-1.877333 3.140267-107.656533 176.7424-112.64 185.0368-4.369067 7.202133 0.785067 12.731733 8.942933 6.826666 8.192-5.9392 346.180267-250.88 355.805867-257.911466 4.437333-3.208533 3.413333-7.5776-2.833067-7.5776h-72.2944c-4.744533 0-5.768533-3.140267-2.56-6.314667 3.242667-3.1744 82.090667-80.964267 110.08-110.08 29.184-30.378667 44.100267-86.050133-5.290667-123.8016" class="secondary-fill" p-id="4749"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">DingDing</span> </span> </div> </div> </div> </div> </div> <div class="dropdown-overlay w-full flex-1 bg-neutral-900/[.4]"></div> </menu-container>    </div> </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/en/docs/developers/developers_dev/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> DEVELOPER   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="http://demo.higress.io/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> DEMO   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item item-last-child">  <a href="/en/faq/wuyi-intro/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> FAQ   </a>   </div>  </toggle-component> </span>   </div> </navbar-component> </span>  </div> <div class="right-content flex flex-1 items-center md:gap-4  before:content-[''] before:grow before:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="astro-bxjx6km4"> <!-- pc --> <toggle-content class="switch float-left relative m-0 rounded-[2rem] max-md:hidden astro-bxjx6km4"> <input disabled data-switch class="switch-checkbox hidden astro-bxjx6km4" id="pc-toggle-switch" type="checkbox" checked="true"> <!-- container --> <label class="switch-label block overflow-hidden cursor-pointer rounded-[2rem]  
                bg-language
             astro-bxjx6km4" for="pc-toggle-switch"> <!-- static --> <span class="switch-inner block 
                    text-language-button
                 astro-bxjx6km4" data-on="中文" data-off="EN"></span> <!-- active --> <span class="switch-switch absolute float-right mx-1 
                    text-language-button-active
                    bg-language-button
                 astro-bxjx6km4" data-on="EN" data-off="中文"></span> </label> </toggle-content> <!-- mobile --> <div data-switch class="w-[3.5rem] h-[1.5rem] leading-[1.5rem] text-xs text-center rounded-2xl bg-gray-12 max-md:inline-block md:hidden border astro-bxjx6km4" id="pc-toggle-switch"> EN </div> </div>   <sl-doc-search data-translations="{&#34;translations&#34;:{&#34;button&#34;:{},&#34;modal&#34;:{&#34;searchBox&#34;:{},&#34;startScreen&#34;:{},&#34;errorScreen&#34;:{},&#34;footer&#34;:{},&#34;noResultsScreen&#34;:{}}}}"> <button type="button" class="DocSearch DocSearch-Button"> <span class="DocSearch-Button-Container"> <svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"> <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <span class="DocSearch-Button-Placeholder"></span> </span> <span class="DocSearch-Button-Keys"></span> </button> </sl-doc-search>   </div> </div> </my-layout> </span>     <script>
function setLightMode(document) {
    const html = document.documentElement;
    html.setAttribute('data-theme', 'light');
}

setLightMode(document);

document.addEventListener('astro:before-swap', ev => {
    console.log("=======astro:before-swap=======")
    setLightMode(ev.newDocument);
});
</script></header> <nav class="sidebar" aria-label="Main"> <starlight-menu-button class="astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane"> <div class="sidebar-content sl-flex"> <blog-theme> <span class="sidebar-sublist-wrapper"> <ul class="top-level"> <li> <details open> <summary> <div class="group-label"> <span class="large">Overview</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/overview/faq/" class="flex items-center"> <span>Higress FAQ</span>   </a> </li><li> <a href="/en/docs/latest/overview/roadmap/" class="flex items-center"> <span>Roadmap</span>   </a> </li><li> <a href="/en/docs/latest/overview/terminology/" class="flex items-center"> <span>Higress Terminology</span>   </a> </li><li> <a href="/en/docs/latest/overview/what-is-higress/" class="flex items-center"> <span>What Is Higress?</span>   </a> </li> </ul> </span>  </details> </li><li> <details open> <summary> <div class="group-label"> <span class="large">User Doc</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/user/quickstart/" class="flex items-center"> <span>Quick Start</span>   </a> </li><li> <details open> <summary> <div class="group-label"> <span class="large">Reference</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/user/configmap/" class="flex items-center"> <span>Global Configuration</span>   </a> </li><li> <a href="/en/docs/latest/user/annotation/" class="flex items-center"> <span>Nginx Ingress Annotation Compatibility</span>   </a> </li><li> <a href="/en/docs/latest/user/annotation-use-case/" class="flex items-center"> <span>Advanced Traffic Management with Ingress Annotations</span>   </a> </li><li> <a href="/en/docs/latest/user/configurations/" class="flex items-center"> <span>Higress Configuration</span>   </a> </li><li> <a href="/en/docs/latest/user/mcp-bridge/" class="flex items-center"> <span>Mcp Bridge Configuration</span>   </a> </li><li> <a href="/en/docs/latest/user/dubbo-http2rpc/" class="flex items-center"> <span>HTTP to Dubbo</span>   </a> </li><li> <a href="/en/docs/latest/user/wasm-image-spec/" class="flex items-center"> <span>Wasm Plugin Image Specification</span>   </a> </li> </ul> </span>  </details> </li><li> <details open> <summary> <div class="group-label"> <span class="large">Plugin Doc</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <details> <summary> <div class="group-label"> <span class="large">AI</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <details> <summary> <div class="group-label"> <span class="large">LLM API Provide</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/ai/api-provider/ai-cache/" class="flex items-center"> <span>AI Cache</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-provider/ai-prompt-decorator/" class="flex items-center"> <span>AI Prompts</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-provider/ai-proxy/" class="flex items-center"> <span>AI Proxy</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-provider/ai-security-guard/" class="flex items-center"> <span>AI Content Security</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">LLM API Consume</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/ai/api-consumer/ai-data-masking/" class="flex items-center"> <span>AI Data Masking</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-consumer/ai-quota/" class="flex items-center"> <span>AI Quota Management</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-consumer/ai-token-ratelimit/" class="flex items-center"> <span>AI Token Rate Limiting</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">LLM API Develop</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/ai/api-dev/ai-agent/" class="flex items-center"> <span>AI Agent</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-dev/ai-json-resp/" class="flex items-center"> <span>AI JSON Formatting</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-dev/ai-prompt-template/" class="flex items-center"> <span>AI Prompt Template</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-dev/ai-search/" class="flex items-center"> <span>AI Search Enhancement</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">LLM API Observe</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/ai/api-o11y/ai-statistics/" class="flex items-center"> <span>AI Statistics</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/api-o11y/geo-ip/" class="flex items-center"> <span>IP Geolocation</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">others</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/ai/others/ai-history/" class="flex items-center"> <span>AI History Dialogue</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/others/ai-intent/" class="flex items-center"> <span>AI Intent Recognition</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/others/ai-rag/" class="flex items-center"> <span>AI RAG</span>   </a> </li><li> <a href="/en/docs/latest/plugins/ai/others/ai-transformer/" class="flex items-center"> <span>AI Request-Response Transformation</span>   </a> </li> </ul> </span>  </details> </li> </ul> </span>  </details> </li><li> <details open> <summary> <div class="group-label"> <span class="large">Authentication Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/authentication/basic-auth/" class="flex items-center"> <span>Basic Authentication</span>   </a> </li><li> <a href="/en/docs/latest/plugins/authentication/ext-auth/" class="flex items-center"> <span>External Authentication</span>   </a> </li><li> <a href="/en/docs/latest/plugins/authentication/hmac-auth/" aria-current="page" class="flex items-center"> <span>HMAC Authentication</span>   </a> </li><li> <a href="/en/docs/latest/plugins/authentication/jwt-auth/" class="flex items-center"> <span>JWT Authentication</span>   </a> </li><li> <a href="/en/docs/latest/plugins/authentication/key-auth/" class="flex items-center"> <span>Key Authentication</span>   </a> </li><li> <a href="/en/docs/latest/plugins/authentication/oauth/" class="flex items-center"> <span>OAuth2 Authentication</span>   </a> </li><li> <a href="/en/docs/latest/plugins/authentication/opa/" class="flex items-center"> <span>OPA</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">Transformation Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/transformation/cache-control/" class="flex items-center"> <span>Browser Cache Control</span>   </a> </li><li> <a href="/en/docs/latest/plugins/transformation/custom-response/" class="flex items-center"> <span>Custom Response</span>   </a> </li><li> <a href="/en/docs/latest/plugins/transformation/de-graphql/" class="flex items-center"> <span>DeGraphQL</span>   </a> </li><li> <a href="/en/docs/latest/plugins/transformation/frontend-gray/" class="flex items-center"> <span>Frontend Gray</span>   </a> </li><li> <a href="/en/docs/latest/plugins/transformation/transformer/" class="flex items-center"> <span>Request Response Transformation</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">Traffic Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/traffic/cluster-key-rate-limit/" class="flex items-center"> <span>Cluster Rate Limiting Based on Key</span>   </a> </li><li> <a href="/en/docs/latest/plugins/traffic/key-rate-limit/" class="flex items-center"> <span>Key-based Local Rate Limiting</span>   </a> </li><li> <a href="/en/docs/latest/plugins/traffic/request-block/" class="flex items-center"> <span>request blocking</span>   </a> </li><li> <a href="/en/docs/latest/plugins/traffic/request-validation/" class="flex items-center"> <span>Request Protocol Validation</span>   </a> </li><li> <a href="/en/docs/latest/plugins/traffic/traffic-tag/" class="flex items-center"> <span>Traffic Tagging</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">Security Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/plugins/security/bot-detect/" class="flex items-center"> <span>Bot Detect</span>   </a> </li><li> <a href="/en/docs/latest/plugins/security/cors/" class="flex items-center"> <span>Cross-Origin Resource Sharing</span>   </a> </li><li> <a href="/en/docs/latest/plugins/security/ip-restriction/" class="flex items-center"> <span>IP Access Restriction</span>   </a> </li><li> <a href="/en/docs/latest/plugins/security/replay-protection/" class="flex items-center"> <span>Replay Attack Prevention</span>   </a> </li><li> <a href="/en/docs/latest/plugins/security/request-block/" class="flex items-center"> <span>Request Blocking</span>   </a> </li><li> <a href="/en/docs/latest/plugins/security/waf/" class="flex items-center"> <span>WAF</span>   </a> </li> </ul> </span>  </details> </li><li> <a href="/en/docs/latest/plugins/intro/" class="flex items-center"> <span>Wasm Plugin Doc</span>   </a> </li><li> <a href="/en/docs/latest/plugins/custom/" class="flex items-center"> <span>Custom Plugin</span>   </a> </li> </ul> </span>  </details> </li><li> <details> <summary> <div class="group-label"> <span class="large">Best Practices</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/user/wasm-go/" class="flex items-center"> <span>Developing a WASM Plugin with Golang</span>   </a> </li><li> <a href="/en/docs/latest/user/kruise-rollout/" class="flex items-center"> <span>Canary Release with OpenKruise Rollout</span>   </a> </li><li> <a href="/en/docs/latest/user/nacos-route/" class="flex items-center"> <span>Configuring Ingress to Forward to Services Registered in Nacos</span>   </a> </li><li> <a href="/en/docs/latest/user/spring-cloud/" class="flex items-center"> <span>Implementing SpringCloud Service Discovery and Routing</span>   </a> </li><li> <a href="/en/docs/latest/user/dubbo/" class="flex items-center"> <span>Integrating Dubbo Services with Higress</span>   </a> </li><li> <a href="/en/docs/latest/user/prometheus/" class="flex items-center"> <span>Ingress Traffic Monitoring with Prometheus</span>   </a> </li><li> <a href="/en/docs/latest/user/waf/" class="flex items-center"> <span>Best Practices for Enabling WAF Protection</span>   </a> </li> </ul> </span>  </details> </li> </ul> </span>  </details> </li><li> <details open> <summary> <div class="group-label"> <span class="large">Ops</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <details open> <summary> <div class="group-label"> <span class="large">Deploy</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/ops/hgctl/" class="flex items-center"> <span>hgctl</span>   </a> </li><li> <a href="/en/docs/latest/ops/deploy-by-helm/" class="flex items-center"> <span>Deploy Higress by Helm</span>   </a> </li><li> <a href="/en/docs/latest/ops/deploy-by-docker-compose/" class="flex items-center"> <span>Deploy Higress by Docker Compose</span>   </a> </li><li> <a href="/en/docs/latest/ops/deploy-by-aliyun-computenest/" class="flex items-center"> <span>Rapid deployment through Aliyun ComputeNest</span>   </a> </li> </ul> </span>  </details> </li><li> <details open> <summary> <div class="group-label"> <span class="large">How-tos</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/ops/how-tos/view-logs/" class="flex items-center"> <span>View Logs</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/view-configs/" class="flex items-center"> <span>View Runtime Configs</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/grpc-upstream/" class="flex items-center"> <span>Configure a route with gRPC upstream</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/https-upstream/" class="flex items-center"> <span>Configure a route with HTTP upstream</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/tcp-route/" class="flex items-center"> <span>Configure a TCP route</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/gateway-ports/" class="flex items-center"> <span>Modify gateway ports</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/builtin-plugin-url/" class="flex items-center"> <span>Modify image URLs of built-in plugins</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/load-wasm-with-http/" class="flex items-center"> <span>Load Wasm plugins with HTTP/HTTPS protocol</span>   </a> </li><li> <a href="/en/docs/latest/ops/how-tos/enable-swagger/" class="flex items-center"> <span>Enable Swagger UI</span>   </a> </li> </ul> </span>  </details> </li><li> <a href="/en/docs/latest/ops/upgrade/" class="flex items-center"> <span>Upgrade</span>   </a> </li><li> <a href="/en/docs/latest/ops/log/" class="flex items-center"> <span>Log</span>   </a> </li> </ul> </span>  </details> </li><li> <details open> <summary> <div class="group-label"> <span class="large">Developer Guide</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/en/docs/latest/dev/architecture/" class="flex items-center"> <span>Component Compilation Instructions</span>   </a> </li><li> <a href="/en/docs/latest/dev/code/" class="flex items-center"> <span>Code Reading Guide</span>   </a> </li><li> <a href="/en/docs/latest/dev/customresourcedefinition/" class="flex items-center"> <span>Higress Custom CRD Development Guidelines</span>   </a> </li> </ul> </span>  </details> </li> </ul> </span>  </blog-theme>  </div> </div> </nav> <div class="main-frame">  <div class="lg:sl-flex two-column-content-wrapper"> <aside class="right-sidebar-container"> <div id="toggle-sidebar"> <span class="not-content"><a class="btn btn btn-secondary px-2 no-underline" id="toggle-btn"> <svg aria-hidden="true" class="right_caret text-lg align-middle rotate-180 astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </a></span> </div> <div class="right-sidebar"> <div class="page-sidebar-wrapper"><div class="lg:sl-hidden"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><div class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#function-description" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Function Description</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#running-attributes" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Running Attributes</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#configuration-fields" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Configuration Fields</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#authentication-configuration" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Authentication Configuration</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#authorization-configuration-optional" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Authorization Configuration (Optional)</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#configuration-example" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Configuration Example</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#global-configuration-authentication-and-route-granular-authorization" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Global Configuration Authentication and Route Granular Authorization</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#gateway-instance-level-activation" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Gateway Instance Level Activation</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#signature-mechanism-description" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Signature Mechanism Description</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#configuration-preparation" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Configuration Preparation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#client-signature-generation-process" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Client Signature Generation Process</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#server-side-signature-verification-method" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Server-side Signature Verification Method</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#signature-troubleshooting-method" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Signature Troubleshooting Method</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#related-error-codes" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Related Error Codes</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block"><div class="sl-container"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><div class="starlight__on-this-page"><h2 id="starlight__on-this-page" class="heading">On this page</h2><span class="table-of-contents-wrapper" style="--depth: 0;"> <ul style="--depth: 0;"> <li style="--depth: 0;"> <a href="#_top" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Overview</span> </a>  </li><li style="--depth: 0;"> <a href="#function-description" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Function Description</span> </a>  </li><li style="--depth: 0;"> <a href="#running-attributes" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Running Attributes</span> </a>  </li><li style="--depth: 0;"> <a href="#configuration-fields" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Configuration Fields</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#authentication-configuration" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Authentication Configuration</span> </a>  </li><li style="--depth: 1;"> <a href="#authorization-configuration-optional" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Authorization Configuration (Optional)</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#configuration-example" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Configuration Example</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#global-configuration-authentication-and-route-granular-authorization" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Global Configuration Authentication and Route Granular Authorization</span> </a>  </li><li style="--depth: 1;"> <a href="#gateway-instance-level-activation" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Gateway Instance Level Activation</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#signature-mechanism-description" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Signature Mechanism Description</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#configuration-preparation" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Configuration Preparation</span> </a>  </li><li style="--depth: 1;"> <a href="#client-signature-generation-process" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Client Signature Generation Process</span> </a>  </li><li style="--depth: 1;"> <a href="#server-side-signature-verification-method" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Server-side Signature Verification Method</span> </a>  </li><li style="--depth: 1;"> <a href="#signature-troubleshooting-method" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Signature Troubleshooting Method</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#related-error-codes" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Related Error Codes</span> </a>  </li> </ul> </span> <h2 class="mt-4 text-lg font-semibold leading-[var(--sl-line-height-headings)] mb-2 text-warning">Contribute</h2> <ul class="p-0 list-none"> <li> <div class="flex items-center not-content"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="mr-1 text-warning" data-icon="tabler:book">  <symbol id="ai:tabler:book"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0M3 6v13m9-13v13m9-13v13"/></symbol><use xlink:href="#ai:tabler:book"></use>  </svg> <a class="link group no-underline text-warning hover:underline astro-ld27styo" href="/en/developers/contributor-guide/guide_dev/" target="_self"> Contributor Guides  </a>  </div><div class="flex items-center not-content"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="mr-1 text-warning" data-icon="tabler:pencil">  <symbol id="ai:tabler:pencil"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 20h4L18.5 9.5a2.828 2.828 0 1 0-4-4L4 16zm9.5-13.5l4 4"/></symbol><use xlink:href="#ai:tabler:pencil"></use>  </svg> <a class="link group no-underline text-warning hover:underline astro-ld27styo" href="https://github.com/higress-group/higress-group.github.io/blob/develop-astro-higress/src/content/docs/latest/en/plugins/authentication/hmac-auth.md" target="_blank"> Edit this page  </a>  </div><div class="flex items-center not-content"> <svg width="1em" height="1em" viewBox="0 0 1024 1024" class="mr-1 text-warning" data-icon="ant-design:github-filled">  <symbol id="ai:ant-design:github-filled"><path fill="currentColor" d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5C64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9c26.4 39.1 77.9 32.5 104 26c5.7-23.5 17.9-44.5 34.7-60.8c-140.6-25.2-199.2-111-199.2-213c0-49.5 16.3-95 48.3-131.7c-20.4-60.5 1.9-112.3 4.9-120c58.1-5.2 118.5 41.6 123.2 45.3c33-8.9 70.7-13.6 112.9-13.6c42.4 0 80.2 4.9 113.5 13.9c11.3-8.6 67.3-48.8 121.3-43.9c2.9 7.7 24.7 58.3 5.5 118c32.4 36.8 48.9 82.7 48.9 132.3c0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9c177.1-59.7 304.6-227 304.6-424.1c0-247.2-200.4-447.3-447.5-447.3"/></symbol><use xlink:href="#ai:ant-design:github-filled"></use>  </svg> <a class="link group no-underline text-warning hover:underline astro-ld27styo" href="https://github.com/higress-group/higress-group.github.io/blob/develop-astro-higress/src/content/docs/latest/en/plugins/authenticatio/issues/new?title=关于文档【HMAC Authentication】的反馈&body=%0A%5B%E5%9C%A8%E6%AD%A4%E5%A4%84%E8%BE%93%E5%85%A5%E5%8F%8D%E9%A6%88%5D%0A%0A%0A---%0A%23%23%23%23%20%E6%96%87%E6%A1%A3%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%0A%0A%E2%9A%A0%20*%E8%AF%B7%E5%8B%BF%E7%BC%96%E8%BE%91%E6%AD%A4%E9%83%A8%E5%88%86%E3%80%82higress.cn%20%E2%9E%9F%20GitHub%20%E9%97%AE%E9%A2%98%E9%93%BE%E6%8E%A5%E5%BF%85%E9%A1%BB%E5%85%B7%E6%9C%89%E6%AD%A4%E9%83%A8%E5%88%86%E3%80%82*%0A%0A*%20Version%20%20ID%3A%202bac3769-2613-f739-4796-0737c7cd8919%0A*%20Content%3A%20%5BHMAC%20Authentication%5D(https%3A%2F%2Fhigress.cn%2Fen%2Fdocs%2Flatest%2Fplugins%2Fauthentication%2Fhmac-auth%2F)%0A*%20Content%20Source%3A%20https%3A%2F%2Fgithub.com%2Fhigress-group%2Fhigress-group.github.io%2Fblob%2Fdevelop-astro-higress%2Fsrc%2Fcontent%2Fdocs%2Flatest%2Fen%2Fplugins%2Fauthentication%2Fhmac-auth.md%0A*%20Service%3A%20**%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97%2F%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97%2F%E8%BF%90%E7%BB%B4%E6%8C%87%E5%8D%97**%0A" target="_blank"> Feedback this page  </a>  </div> </li> </ul><h2 class="mt-4 text-lg font-semibold leading-[var(--sl-line-height-headings)] mb-2 text-warning">Community</h2> <ul class="p-0 list-none"> <li> <div class="flex items-center not-content"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="mr-1 text-warning" data-icon="basil:document-outline">  <symbol id="ai:basil:document-outline"><path fill="currentColor" d="M15.75 13a.75.75 0 0 0-.75-.75H9a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 .75-.75m0 4a.75.75 0 0 0-.75-.75H9a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 .75-.75"/><path fill="currentColor" fill-rule="evenodd" d="M7 2.25A2.75 2.75 0 0 0 4.25 5v14A2.75 2.75 0 0 0 7 21.75h10A2.75 2.75 0 0 0 19.75 19V7.968c0-.381-.124-.751-.354-1.055l-2.998-3.968a1.75 1.75 0 0 0-1.396-.695zM5.75 5c0-.69.56-1.25 1.25-1.25h7.25v4.397c0 .414.336.75.75.75h3.25V19c0 .69-.56 1.25-1.25 1.25H7c-.69 0-1.25-.56-1.25-1.25z" clip-rule="evenodd"/></symbol><use xlink:href="#ai:basil:document-outline"></use>  </svg> <a class="link group no-underline text-warning hover:underline astro-ld27styo" href="/blog/" target="_self"> Read our blog posts  </a>  </div><div class="flex items-center not-content"> <svg width="1em" height="1em" viewBox="0 0 1024 1024" class="mr-1 text-warning" data-icon="ant-design:github-filled">  <use xlink:href="#ai:ant-design:github-filled"></use>  </svg> <a class="link group no-underline text-warning hover:underline astro-ld27styo" href="https://github.com/higress-group/higress-group.github.io/tree/develop-astro-higress/src/content/docs" target="_blank"> Higress Docs on GitHub  </a>  </div> </li> </ul></div></nav></starlight-toc></div></div></div> </div> </aside> <div class="main-pane"> <div id="back-btn" class="pt-12 pl-6"> <span class="not-content"><a class="btn btn btn-secondary rounded-3xl no-underline" target="_self" rel="noopener noreferrer"> <svg aria-hidden="true" class="text-lg align-middle astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span>BACK</span> </a></span> </div>   <main data-pagefind-body lang="en" dir="ltr" class="astro-bguv2lll">    <div class="content-panel content-panel-wrapper large-screen-width"> <div class="sl-container"> <h1 class="page-title-wrapper" id="_top"> HMAC Authentication </h1>  </div> </div>  <div class="content-panel content-panel-wrapper large-screen-width"> <div class="sl-container"> <div class="sl-markdown-content"> <h2 id="function-description">Function Description</h2>
<p>The <code dir="auto">hmac-auth</code> plugin implements the generation of tamper-proof signatures for HTTP requests based on the HMAC algorithm, and performs authentication and authorization based on the signature.</p>
<h2 id="running-attributes">Running Attributes</h2>
<p>Plugin execution phase: <code dir="auto">Authentication phase</code>
Plugin execution priority: <code dir="auto">330</code></p>
<h2 id="configuration-fields">Configuration Fields</h2>
<p><strong>Note:</strong></p>
<ul>
<li>In a rule, authentication and authorization configurations cannot coexist.</li>
<li>For requests that pass authentication and authorization, the request header will be added with an <code dir="auto">X-Mse-Consumer</code> field to identify the caller’s name.</li>
</ul>
<h3 id="authentication-configuration">Authentication Configuration</h3>

































<table><thead><tr><th>Name</th><th>Data Type</th><th>Requirement</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code dir="auto">global_auth</code></td><td>bool</td><td>Optional (<strong>Instance level configuration only</strong>)</td><td>-</td><td>Can only be configured at the instance level. If set to true, it acts globally; if false, only applies to configured domains and routes. If not configured, it will apply globally only when there are no domain and route configurations (to accommodate old user habits).</td></tr><tr><td><code dir="auto">consumers</code></td><td>array of object</td><td>Mandatory</td><td>-</td><td>Configures the callers of the service for request authentication.</td></tr><tr><td><code dir="auto">date_offset</code></td><td>number</td><td>Optional</td><td>-</td><td>Configures the maximum allowed client time offset, in seconds; parsed based on the request header <code dir="auto">Date</code>; can be used to prevent request replay; no validation is performed if not configured.</td></tr></tbody></table>
<p>The configuration fields for each item in <code dir="auto">consumers</code> are as follows:</p>

































<table><thead><tr><th>Name</th><th>Data Type</th><th>Requirement</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code dir="auto">key</code></td><td>string</td><td>Mandatory</td><td>-</td><td>Configures the key extracted from the <code dir="auto">x-ca-key</code> header of the request.</td></tr><tr><td><code dir="auto">secret</code></td><td>string</td><td>Mandatory</td><td>-</td><td>Configures the secret used to generate the signature.</td></tr><tr><td><code dir="auto">name</code></td><td>string</td><td>Mandatory</td><td>-</td><td>Configures the name of the consumer.</td></tr></tbody></table>
<h3 id="authorization-configuration-optional">Authorization Configuration (Optional)</h3>



















<table><thead><tr><th>Name</th><th>Data Type</th><th>Requirement</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code dir="auto">allow</code></td><td>array of string</td><td>Optional (<strong>Non-instance level configuration</strong>)</td><td>-</td><td>Can only be configured on granular rules such as routes or domains. For requests that match the conditions, configure the allowed consumers to achieve fine-grained permission control.</td></tr></tbody></table>
<h2 id="configuration-example">Configuration Example</h2>
<h3 id="global-configuration-authentication-and-route-granular-authorization">Global Configuration Authentication and Route Granular Authorization</h3>
<p>Configure the following plugin settings at the instance level. Note that the <code dir="auto">key</code> field cannot be duplicated:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.1vui4.css"><script type="module" src="/_astro/ec.dy9ns.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">global_auth</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">false</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">consumers</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">key</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appKey-example-1</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">secret</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appSecret-example-1</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">consumer-1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">key</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appKey-example-2</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">secret</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appSecret-example-2</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">consumer-2</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="global_auth: falseconsumers:- key: appKey-example-1  secret: appSecret-example-1  name: consumer-1- key: appKey-example-2  secret: appSecret-example-2  name: consumer-2"><div></div></button></div></figure></div>
<p>For route-a and route-b, configure the plugin as follows:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">allow</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#9ECBFF">consumer1</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="allow:- consumer1"><div></div></button></div></figure></div>
<p>For the two domains *.example.com and test.com, configure as follows:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">allow</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#9ECBFF">consumer2</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="allow:- consumer2"><div></div></button></div></figure></div>
<p>If configured in the console, the specified route names route-a and route-b correspond to the route names filled in when creating the gateway routes. When matched to these two routes, access will be allowed for the caller named consumer1, while other callers will not be allowed access.</p>
<p>The specified *.example.com and test.com are used to match the domains of the requests. When a domain match is found, access will be allowed for the caller named consumer2, while other callers will not be allowed access.</p>
<h3 id="gateway-instance-level-activation">Gateway Instance Level Activation</h3>
<p>The following configuration will enable HMAC Auth authentication at the gateway instance level, requiring all requests to undergo authentication before access.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">global_auth</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">consumers</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">key</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appKey-example-1</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">secret</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appSecret-example-1</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">consumer-1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">key</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appKey-example-2</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">secret</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">appSecret-example-2</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">consumer-2</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="global_auth: trueconsumers:- key: appKey-example-1  secret: appSecret-example-1  name: consumer-1- key: appKey-example-2  secret: appSecret-example-2  name: consumer-2"><div></div></button></div></figure></div>
<h2 id="signature-mechanism-description">Signature Mechanism Description</h2>
<h3 id="configuration-preparation">Configuration Preparation</h3>
<p>As mentioned above, configure the credentials required for generating and verifying signatures in the plugin settings.</p>
<ul>
<li>key: to be set in the request header <code dir="auto">x-ca-key</code>.</li>
<li>secret: used for generating request signatures.</li>
</ul>
<h3 id="client-signature-generation-process">Client Signature Generation Process</h3>
<h4 id="overview">Overview</h4>
<p>The client generates a signature through three main steps:</p>
<ol>
<li>Extract key data from the original request to create a string for signing.</li>
<li>Encrypt the key data signing string using the algorithm and the configured <code dir="auto">secret</code> to obtain the signature.</li>
<li>Include all relevant headers for the signature into the original HTTP request to form the final HTTP request.</li>
</ol>
<p>As shown in the figure below:
<img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1745707061/p188113.png" alt="" referrerpolicy="no-referrer"></p>
<h4 id="signing-string-extraction-process">Signing String Extraction Process</h4>
<p>The client needs to extract key data from the HTTP request, combine it into a signing string, which has the following format:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">HTTPMethod</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Accept</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Content-MD5</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Content-Type</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Date</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Headers</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">PathAndParameters</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="HTTPMethodAcceptContent-MD5Content-TypeDateHeadersPathAndParameters"><div></div></button></div></figure></div>
<p>The seven fields above constitute the entire signing string, separated by newline characters <code dir="auto">\n</code>. If Headers is empty, no newline is needed; other fields should retain <code dir="auto">\n</code> if empty. The signature is case-sensitive. Below are the extraction rules for each field:</p>
<ul>
<li>HTTPMethod: The HTTP method, all uppercase (e.g., POST).</li>
<li>Accept: The value of the Accept header in the request, can be empty. It is recommended to explicitly set the Accept Header. When Accept is empty, some HTTP clients may set a default value of <code dir="auto">*/*</code>, resulting in a signature verification failure.</li>
<li>Content-MD5: The value of the Content-MD5 header in the request, can be empty. It is calculated only if there is a Body in the request and it is not in Form format. Here’s a reference calculation method for the Content-MD5 value in Java:</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">String content</span><span style="--0:#F97583">-</span><span style="--0:#E1E4E8">MD5 </span><span style="--0:#F97583">=</span><span style="--0:#E1E4E8"> Base64.</span><span style="--0:#B392F0">encodeBase64</span><span style="--0:#E1E4E8">(</span><span style="--0:#B392F0">MD5</span><span style="--0:#E1E4E8">(bodyStream.</span><span style="--0:#B392F0">getBytes</span><span style="--0:#E1E4E8">(</span><span style="--0:#9ECBFF">"UTF-8"</span><span style="--0:#E1E4E8">)));</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="String content-MD5 = Base64.encodeBase64(MD5(bodyStream.getBytes(&#x22;UTF-8&#x22;)));"><div></div></button></div></figure></div>
<ul>
<li>Content-Type: The value of the Content-Type header in the request, can be empty.</li>
<li>Date: The value of the Date header in the request. If the <code dir="auto">date_offset</code> configuration is not turned on, it can be empty; otherwise, it will be used for time offset verification.</li>
<li>Headers: Users can select specific headers to participate in the signature. The rules for concatenating the signing header string are as follows:
<ul>
<li>The Keys of the headers participating in the signature calculation are concatenated after being sorted lexicographically, as follows:</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">HeaderKey1 + ":" + HeaderValue1 + "\n" +</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">HeaderKey2 + ":" + HeaderValue2 + "\n" +</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">HeaderKeyN + ":" + HeaderValueN + "\n"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="HeaderKey1 + &#x22;:&#x22; + HeaderValue1 + &#x22;\n&#x22; +HeaderKey2 + &#x22;:&#x22; + HeaderValue2 + &#x22;\n&#x22; +...HeaderKeyN + &#x22;:&#x22; + HeaderValueN + &#x22;\n&#x22;"><div></div></button></div></figure></div>
<ul>
<li>If the Value of a certain header is empty, use HeaderKey + ”:” + “\n” to participate in the signature, retaining the Key and the colon.</li>
<li>The collection of all participating header Keys is placed in the Header with the key X-Ca-Signature-Headers, separated by commas.</li>
<li>The following headers are not included in the header signature calculation: X-Ca-Signature, X-Ca-Signature-Headers, Accept, Content-MD5, Content-Type, Date.</li>
</ul>
</li>
<li>PathAndParameters: This field includes Path, Query, and all parameters in Form, specifically organized as follows:</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Path + "?" + Key1 + "=" + Value1 + "&#x26;" + Key2 + "=" + Value2 + ... "&#x26;" + KeyN + "=" + ValueN</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="Path + &#x22;?&#x22; + Key1 + &#x22;=&#x22; + Value1 + &#x22;&#x26;&#x22; + Key2 + &#x22;=&#x22; + Value2 + ... &#x22;&#x26;&#x22; + KeyN + &#x22;=&#x22; + ValueN"><div></div></button></div></figure></div>
<p>Note:</p>
<ol>
<li>The Key of Query and Form parameters should be sorted lexicographically before being concatenated as above.</li>
<li>If Query and Form parameters are empty, just use Path without adding <code dir="auto">?</code>.</li>
<li>If the Value of parameters is empty, only the Key should be retained in the signature, the equal sign does not need to be added.</li>
<li>In the case of array parameters (parameters with the same key but different values), only the first Value should be used for signature calculation.</li>
</ol>
<h4 id="signing-string-extraction-example">Signing String Extraction Example</h4>
<p>Initial HTTP request:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">POST /http2test/test?param1=test HTTP/1.1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">host:api.aliyun.com</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">accept:application/json; charset=utf-8</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">ca_version:1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">content-type:application/x-www-form-urlencoded; charset=utf-8</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-timestamp:1525872629832</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">date:Wed, 09 May 2018 13:30:29 GMT+00:00</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">user-agent:ALIYUN-ANDROID-DEMO</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-nonce:c9f15cbf-f4ac-4a6c-b54d-f51abf4b5b44</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">content-length:33</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">username=xiaoming&#x26;password=123456789</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="POST /http2test/test?param1=test HTTP/1.1host:api.aliyun.comaccept:application/json; charset=utf-8ca_version:1content-type:application/x-www-form-urlencoded; charset=utf-8x-ca-timestamp:1525872629832date:Wed, 09 May 2018 13:30:29 GMT+00:00user-agent:ALIYUN-ANDROID-DEMOx-ca-nonce:c9f15cbf-f4ac-4a6c-b54d-f51abf4b5b44content-length:33username=xiaoming&#x26;password=123456789"><div></div></button></div></figure></div>
<p>The generated correct signing string is:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">POST</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">application/json; charset=utf-8</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">application/x-www-form-urlencoded; charset=utf-8</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Wed, 09 May 2018 13:30:29 GMT+00:00</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-key:203753385</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-nonce:c9f15cbf-f4ac-4a6c-b54d-f51abf4b5b44</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-signature-method:HmacSHA256</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-timestamp:1525872629832</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">/http2test/test?param1=test&#x26;password=123456789&#x26;username=xiaoming</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="POSTapplication/json; charset=utf-8application/x-www-form-urlencoded; charset=utf-8Wed, 09 May 2018 13:30:29 GMT+00:00x-ca-key:203753385x-ca-nonce:c9f15cbf-f4ac-4a6c-b54d-f51abf4b5b44x-ca-signature-method:HmacSHA256x-ca-timestamp:1525872629832/http2test/test?param1=test&#x26;password=123456789&#x26;username=xiaoming"><div></div></button></div></figure></div>
<h4 id="signature-calculation-process">Signature Calculation Process</h4>
<p>After the client assembles the key data extracted from the HTTP request into a signing string, it needs to encrypt the signing string and encode it to form the final signature.</p>
<p>The specific encryption form is as follows, where <code dir="auto">stringToSign</code> is the extracted signing string, <code dir="auto">secret</code> is the one filled in the plugin configuration, and <code dir="auto">sign</code> is the final generated signature:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">Mac hmacSha256 </span><span style="--0:#F97583">=</span><span style="--0:#E1E4E8"> Mac.</span><span style="--0:#B392F0">getInstance</span><span style="--0:#E1E4E8">(</span><span style="--0:#9ECBFF">"HmacSHA256"</span><span style="--0:#E1E4E8">);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F97583">byte</span><span style="--0:#E1E4E8">[] secretBytes </span><span style="--0:#F97583">=</span><span style="--0:#E1E4E8"> secret.</span><span style="--0:#B392F0">getBytes</span><span style="--0:#E1E4E8">(</span><span style="--0:#9ECBFF">"UTF-8"</span><span style="--0:#E1E4E8">);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">hmacSha256.</span><span style="--0:#B392F0">init</span><span style="--0:#E1E4E8">(</span><span style="--0:#F97583">new</span><span style="--0:#E1E4E8"> </span><span style="--0:#B392F0">SecretKeySpec</span><span style="--0:#E1E4E8">(secretBytes, </span><span style="--0:#79B8FF">0</span><span style="--0:#E1E4E8">, secretBytes.length, </span><span style="--0:#9ECBFF">"HmacSHA256"</span><span style="--0:#E1E4E8">));</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F97583">byte</span><span style="--0:#E1E4E8">[] result </span><span style="--0:#F97583">=</span><span style="--0:#E1E4E8"> hmacSha256.</span><span style="--0:#B392F0">doFinal</span><span style="--0:#E1E4E8">(stringToSign.</span><span style="--0:#B392F0">getBytes</span><span style="--0:#E1E4E8">(</span><span style="--0:#9ECBFF">"UTF-8"</span><span style="--0:#E1E4E8">));</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">String sign </span><span style="--0:#F97583">=</span><span style="--0:#E1E4E8"> Base64.</span><span style="--0:#B392F0">encodeBase64String</span><span style="--0:#E1E4E8">(result);</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="Mac hmacSha256 = Mac.getInstance(&#x22;HmacSHA256&#x22;);byte[] secretBytes = secret.getBytes(&#x22;UTF-8&#x22;);hmacSha256.init(new SecretKeySpec(secretBytes, 0, secretBytes.length, &#x22;HmacSHA256&#x22;));byte[] result = hmacSha256.doFinal(stringToSign.getBytes(&#x22;UTF-8&#x22;));String sign = Base64.encodeBase64String(result);"><div></div></button></div></figure></div>
<p>To summarize, the <code dir="auto">stringToSign</code> is decoded using UTF-8 to obtain a Byte array, then the encryption algorithm is applied to the Byte array, and finally, the Base64 algorithm is used for encoding, forming the final signature.</p>
<h4 id="adding-the-signature-process">Adding the Signature Process</h4>
<p>The client needs to include the following four headers in the HTTP request to transmit to the API gateway for signature verification:</p>
<ul>
<li>x-ca-key: The APP Key, mandatory.</li>
<li>x-ca-signature-method: The signature algorithm, can be HmacSHA256 or HmacSHA1, optional, default is HmacSHA256.</li>
<li>x-ca-signature-headers: The collection of all signature header Keys, separated by commas, optional.</li>
<li>x-ca-signature: The signature, mandatory.</li>
</ul>
<p>Below is an example of the entire HTTP request carrying the signature:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">POST /http2test/test?param1=test HTTP/1.1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">host:api.aliyun.com</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">accept:application/json; charset=utf-8</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">ca_version:1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">content-type:application/x-www-form-urlencoded; charset=utf-8</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-timestamp:1525872629832</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">date:Wed, 09 May 2018 13:30:29 GMT+00:00</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">user-agent:ALIYUN-ANDROID-DEMO</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-nonce:c9f15cbf-f4ac-4a6c-b54d-f51abf4b5b44</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-key:203753385</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-signature-method:HmacSHA256</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-signature-headers:x-ca-timestamp,x-ca-key,x-ca-nonce,x-ca-signature-method</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">x-ca-signature:xfX+bZxY2yl7EB/qdoDy9v/uscw3Nnj1pgoU+Bm6xdM=</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">content-length:33</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">username=xiaoming&#x26;password=123456789</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="POST /http2test/test?param1=test HTTP/1.1host:api.aliyun.comaccept:application/json; charset=utf-8ca_version:1content-type:application/x-www-form-urlencoded; charset=utf-8x-ca-timestamp:1525872629832date:Wed, 09 May 2018 13:30:29 GMT+00:00user-agent:ALIYUN-ANDROID-DEMOx-ca-nonce:c9f15cbf-f4ac-4a6c-b54d-f51abf4b5b44x-ca-key:203753385x-ca-signature-method:HmacSHA256x-ca-signature-headers:x-ca-timestamp,x-ca-key,x-ca-nonce,x-ca-signature-methodx-ca-signature:xfX+bZxY2yl7EB/qdoDy9v/uscw3Nnj1pgoU+Bm6xdM=content-length:33username=xiaoming&#x26;password=123456789"><div></div></button></div></figure></div>
<h3 id="server-side-signature-verification-method">Server-side Signature Verification Method</h3>
<h4 id="overview-1">Overview</h4>
<p>The server verifies the client signature through four main steps:</p>
<ol>
<li>Extract key data from the received request to create a signing string.</li>
<li>Read the <code dir="auto">key</code> from the received request and query the corresponding <code dir="auto">secret</code>.</li>
<li>Encrypt the key data signing string using the algorithm and the <code dir="auto">secret</code> to obtain the signature.</li>
<li>Read the client signature from the received request and compare the server-side signature with the client-side signature for consistency.</li>
</ol>
<p>As shown in the figure below:
<img src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1745707061/p188116.png" alt="" referrerpolicy="no-referrer"></p>
<h3 id="signature-troubleshooting-method">Signature Troubleshooting Method</h3>
<p>When the gateway signature verification fails, the server’s signing string (StringToSign) will be returned in the HTTP Response header to the client, with the key: X-Ca-Error-Message. The user only needs to compare the locally computed signing string (StringToSign) with the signing string returned by the server to find the issue.</p>
<p>If the StringToSign from the server and the client are consistent, please check whether the APP Secret used for signature calculation is correct.</p>
<p>Since HTTP headers cannot express line breaks, the line breaks in the StringToSign have been replaced with <code dir="auto">#</code>, as shown below:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">X-Ca-Error-Message:  Server StringToSign:`GET#application/json##application/json##X-Ca-Key:200000#X-Ca-Timestamp:1589458000000#/app/v1/config/keys?keys=TEST`</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="X-Ca-Error-Message:  Server StringToSign:&#x60;GET#application/json##application/json##X-Ca-Key:200000#X-Ca-Timestamp:1589458000000#/app/v1/config/keys?keys=TEST&#x60;"><div></div></button></div></figure></div>
<h2 id="related-error-codes">Related Error Codes</h2>


















































<table><thead><tr><th>HTTP Status Code</th><th>Error Message</th><th>Reasoning</th></tr></thead><tbody><tr><td>401</td><td>Invalid Key</td><td>The request header did not provide x-ca-key, or x-ca-key is invalid.</td></tr><tr><td>401</td><td>Empty Signature</td><td>The request header did not provide the x-ca-signature signing string.</td></tr><tr><td>400</td><td>Invalid Signature</td><td>The x-ca-signature signing string in the request header does not match the signature calculated by the server.</td></tr><tr><td>400</td><td>Invalid Content-MD5</td><td>The Content-MD5 header in the request is incorrect.</td></tr><tr><td>400</td><td>Invalid Date</td><td>The time offset calculated based on the Date header in the request exceeds the configured date_offset.</td></tr><tr><td>413</td><td>Request Body Too Large</td><td>The request Body exceeds the maximum size of 32 MB.</td></tr><tr><td>413</td><td>Payload Too Large</td><td>The request Body exceeds the global configured DownstreamConnectionBufferLimits.</td></tr><tr><td>403</td><td>Unauthorized Consumer</td><td>The calling party does not have access permissions for the request.</td></tr></tbody></table> </div> <footer class="astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n"> <a href="https://github.com/higress-group/higress-group.github.io/blob/develop-astro-higress/src/content/docs/latest/en/plugins/authentication/hmac-auth.md" class="sl-flex astro-eez2twj6"><svg aria-hidden="true" class="astro-eez2twj6 astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg> Edit page</a>  </div> <div class="pagination-links-wrapper" dir="ltr"> <a href="/en/docs/latest/plugins/authentication/ext-auth/" rel="prev"> <svg aria-hidden="true" class=" astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span> Previous <br> <span class="link-title">External Authentication</span> </span> </a> <a href="/en/docs/latest/plugins/authentication/jwt-auth/" rel="next"> <svg aria-hidden="true" class=" astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span> Next <br> <span class="link-title">JWT Authentication</span> </span> </a> </div>  </footer>  </div> </div>   </main>  </div> </div>   </div> </div>  </body></html>