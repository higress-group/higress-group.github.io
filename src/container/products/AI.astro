---
import ProductHeader from "./Header.astro";
import Button from "../../components/button/Button.astro";
import Section from "../common/section.astro";
import Layout from "./Layout.astro";
import { LINKS } from "@/constant";

import { useTranslations } from "@/i18n/utils";

const locale = Astro.currentLocale || 'root';
const t = useTranslations(locale);
const isEn = locale === "en";

const products = [
  {
    label: t('ai.product.multi_model'),
    desc: t('ai.product.multi_model.desc'),
    link: "",
    img: "https://img.alicdn.com/imgextra/i1/O1CN01Uxoq401e7RfpOjX2N_!!6000000003824-55-tps-132-132.svg",
  },
  {
    label: t('ai.product.mcp_management'),
    desc: t('ai.product.mcp_management.desc'),
    link: "",
    img: "https://img.alicdn.com/imgextra/i2/O1CN01sIsWY91nzKojOShZk_!!6000000005160-55-tps-280-181.svg"
  },
  {
    label: t('ai.product.token_management'),
    desc: t('ai.product.token_management.desc'),
    link: "",
    img: isEn ? "https://img.alicdn.com/imgextra/i3/O1CN01aU0Wqp1qm08Mzdb3W_!!6000000005537-55-tps-256-155.svg" : "https://img.alicdn.com/imgextra/i3/O1CN01BOjI971Uh2IFz9NiT_!!6000000002548-55-tps-256-155.svg",
  },
  {
    label: t('ai.product.scalability'),
    desc: t('ai.product.scalability.desc'),
    link: "",
    img: isEn ? "https://img.alicdn.com/imgextra/i2/O1CN016ePFQY20VBkjw8uqS_!!6000000006854-55-tps-246-120.svg" : "https://img.alicdn.com/imgextra/i2/O1CN01S5ZrXp1kEDDh9LZno_!!6000000004651-55-tps-246-120.svg",
  },
];

const imgSrc = isEn ? "https://img.alicdn.com/imgextra/i3/O1CN01rZX1sk1IPq23nQKIB_!!6000000000886-55-tps-1360-776.svg" : "https://img.alicdn.com/imgextra/i4/O1CN01bLiBYH28SuiBVSqC4_!!6000000007932-55-tps-1360-776.svg";
---

<ProductHeader title={t('page.header.ai.gateway')} />
<Layout>
  <Section
    title={t('api.product.intro.title')}
    desc={t('ai.product.intro.desc')}
  >
    <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto" slot="buttonGroup">
      <Button href={LINKS.higressGithub} target="_blank" class="w-full md:w-59.5">
        <span class="mr-3">Github</span>
        <svg class="fill-white" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="8" height="8" viewBox="0 0 12 12">
          <g transform="matrix(-1,0,0,1,24,0)">
            <path d="M13.9085488,3.2445331L13.9085488,10.49702Q13.9085488,10.902587,13.633718,11.177418Q13.358887,11.177418,12.954274,11.151293Q12.54870754,11.451293,12.27483088,11.176462Q12.00095420511,10.90163,12,10.49702L12,0.95427454Q12,0.54870796,12.27483088,0.27483124Q12.54966176,0.0009545465,12.954274,0L22.497017,0Q22.902583999999997,0,23.177414,0.27483088Q23.452244,0.54966176,23.451292000000002,0.95427454Q23.451292000000002,1.3598411,23.17646,1.6346719Q22.901628000000002,1.909503,22.497017,1.9085487L15.2445326,1.9085487L23.737576,10.401592Q24,10.664019,24,11.069584Q24,11.475149,23.737576,11.737576Q23.475149000000002,12,23.069584,12Q22.664019,12,22.401592,11.737576L13.9085488,3.2445331Z" fill-opacity="1"/>
          </g>
        </svg>
      </Button>
      <Button href={LINKS.higressConsole} target="_blank" class="w-full md:w-59.5" mode="normal">
        {t('api.product.button.experience')}
      </Button>
    </div>
    <img slot="content" class="max-w-full" src={imgSrc} alt="AI Gateway Feature" />
  </Section>
  <Section
    title={t('api.product.advantage.title')}
    desc={t('ai.product.advantage.desc')}
  >
    <div slot="content" class="w-full">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-10">
        {
          products.map(s => {
            return (
            <div class="card flex flex-col gap-3">
              <div class="card-header rounded-lg">
                <div class="flex justify-center items-center w-full h-full">
                  <img src={s.img} alt="Feature Icon">
                </div>
              </div>
              <div class="flex flex-col gap-3">
                <div class="text-black text-lg font-normal">{s.label}</div>
                <div class="text-black text-sm leading-9">
                  {s.desc}
                </div>
              </div>
            </div>
            )
          })
        }
      </div>
      <div class="mt-12 pt-12 border-t border-gray-200">
        <div class="flex flex-col items-center justify-center gap-4">
          <p class="text-gray-600 text-base">{t('ai.product.integrations.supported')}</p>
          <a href="/ai-gateway/integrations/" class="detail-link inline-flex items-center text-primary font-medium text-base group">
            <span>{t('ai.product.integrations.view_directory')}</span>
            <svg class="detail-arrow ml-2 w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </Section>
</Layout>
<style>
.card {
  .card-header {
    background-image: url("https://img.alicdn.com/imgextra/i1/O1CN01L0NG3P1VgrlKrpDqR_!!6000000002683-2-tps-312-197.png");
    background-repeat: no-repeat;
    background-size: cover;
    height: 200px;
  }
}

.detail-link {
  position: relative;
  transition: all 0.3s ease;
  width: fit-content;
}

.detail-link::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 1px;
  background-color: currentColor;
  transition: width 0.3s ease;
}

.detail-link:hover::after {
  width: 100%;
}

.detail-link:hover {
  opacity: 0.8;
}

.detail-arrow {
  transition: transform 0.3s ease;
}

.detail-link:hover .detail-arrow {
  transform: translateX(4px);
}
</style>
