---
import type { GetStaticPathsOptions } from "astro";
import { getCollection } from "astro:content";
import BlogLayout from "../../../container/blog/BlogLayout.astro";
import { useTranslations } from "../../../i18n/utils";
const locale = Astro.currentLocale || 'root';
const t = useTranslations(locale);
const { page } = Astro.props;

export async function getStaticPaths({ paginate }: GetStaticPathsOptions) {
    const posts = await getCollection("blog");

    const sortedPosts = posts.sort(
        (a, b) =>
            new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf(),
    );

    const casePosts = sortedPosts.filter((post) => {
        return post.data.category === "case";
    });
    return paginate(casePosts, { pageSize: 10 });
}
---

<BlogLayout title={t("blog.article.case.best.practices")} page={page} currentCategory="case" />
