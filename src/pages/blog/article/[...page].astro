---
import type { GetStaticPathsOptions } from "astro";
import { getCollection } from "astro:content";
import BlogLayout from "../../../container/blog/BlogLayout.astro";
import { useTranslations } from "../../../i18n/utils";
const locale = Astro.currentLocale || 'root';
const t = useTranslations(locale);

const { page } = Astro.props;

export async function getStaticPaths({ paginate }: GetStaticPathsOptions) {
    const posts = await getCollection("blog");

    const sortedPosts = posts.sort(
        (a, b) =>
            new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf(),
    );

    const articlePosts = sortedPosts.filter((post) => {
        return post.data.category === "article";
    });
    return paginate(articlePosts, { pageSize: 9 });
}
---

<BlogLayout title={t("blog.article.technical")} page={page} currentCategory="article" />
