<!DOCTYPE html><span class="blog-slug-wrapper"> <html lang="zh-cn" data-theme="light"> <head><meta charset="utf-8"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"> <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>多层网关统一成趋势，如何构建全能型网关_博客-Higress官网</title><link rel="canonical" href="https://higress.cn/blog/higress-gvr7dx_awbbpb_dxp91huk34ts4nik/"/><link rel="alternate" hreflang="zh-CN" href="https://higress.cn/blog/higress-gvr7dx_awbbpb_dxp91huk34ts4nik/"/><link rel="alternate" hreflang="en" href="https://higress.cn/en/blog/higress-gvr7dx_awbbpb_dxp91huk34ts4nik/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/higress_logo.png" type="image/png"/><meta name="aplus-core" content="aplus.js"/><meta property="og:title" content="多层网关统一成趋势，如何构建全能型网关_博客"/><meta property="og:type" content="article"/><meta property="og:url" content="https://higress.cn/blog/higress-gvr7dx_awbbpb_dxp91huk34ts4nik/"/><meta property="og:locale"/><meta property="og:site_name" content="Higress"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="多层网关统一成趋势，如何构建全能型网关_博客"/><meta name="baidu-site-verification" content="codeva-x6yW4DqCn3"/><meta name="msvalidate.01" content="418883CE9AE2CAD01E7FC1A7B9F20801"/><meta name="twitter:description" content="多层网关统一成趋势，如何构建全能型网关"/><meta name="description" content="多层网关统一成趋势，如何构建全能型网关"/><meta property="og:description" content="多层网关统一成趋势，如何构建全能型网关"/><meta property="keywords" content="Higress"/> <!--初始化SDK-->   <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-YHS75WKFBR"></script> <meta name="generator" content="Astro v4.9.1"><meta name="robots" content="index, follow"><meta name="applicable-device" content="pc,mobile"><meta property="og:image" content="https://img.alicdn.com/imgextra/i1/O1CN01Q9UWyF23bY1R0U0KE_!!6000000007274-2-tps-2560-1440.png"><link data-rh="true" rel="icon" href="https://img.alicdn.com/imgextra/i4/O1CN01AViQMJ1J2lY4OPRgv_!!6000000000971-2-tps-376-375.png"><link rel="stylesheet" href="/_astro/_page_.8CUVaieU.css">
<style>.table-of-contents-wrapper ul{padding:0;list-style:none}.table-of-contents-wrapper a{--pad-inline: .5rem;display:block;border-radius:.25rem;padding-block:.25rem;padding-inline:calc(1rem * var(--depth) + var(--pad-inline)) var(--pad-inline);line-height:1.25}.table-of-contents-wrapper a[aria-current=true],.table-of-contents-wrapper a[aria-current=true]:hover,.table-of-contents-wrapper a[aria-current=true]:focus{color:var(--fallback-n,oklch(var(--n)/1))!important;background-color:var(--fallback-s,oklch(var(--s)/1))!important;border-left-style:solid;border-left-width:3px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important;font-weight:400!important;border-radius:0!important}.table-of-contents-wrapper .isMobile a{--pad-inline: 1rem;display:flex;justify-content:space-between;gap:var(--pad-inline);border-top:1px solid var(--sl-color-gray-6);border-radius:0;padding-block:.5rem;color:var(--sl-color-text);font-size:var(--sl-text-sm);text-decoration:none;outline-offset:var(--sl-outline-offset-inside)}.table-of-contents-wrapper .isMobile:first-child>li:first-child>a{border-top:0}.table-of-contents-wrapper .isMobile a[aria-current=true],.table-of-contents-wrapper .isMobile a[aria-current=true]:hover,.table-of-contents-wrapper .isMobile a[aria-current=true]:focus{color:var(--sl-color-white);background-color:unset}.table-of-contents-wrapper .isMobile a[aria-current=true]:after{content:"";width:1rem;background-color:var(--sl-color-text-accent);-webkit-mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;flex-shrink:0}
</style>
<link rel="stylesheet" href="/_astro/index.BNvWlo8S.css">
<style>.badge-wrapper .sl-badge{display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-size:.75rem;padding:.125rem .375rem;line-height:1;color:var(--sl-color-bg-badge);overflow-wrap:anywhere;transform:scale(.83);transform-origin:0 0}.badge-wrapper .outline{outline-style:none!important;--sl-color-bg-badge: var(--fallback-wa,oklch(var(--wa)/1));--sl-color-border-badge: var(--fallback-p,oklch(var(--p)/1))}.badge-wrapper .default{--sl-color-bg-badge: var(--sl-color-accent-low);--sl-color-border-badge: var(--sl-color-accent)}.badge-wrapper .note{--sl-color-bg-badge: var(--sl-color-blue-low);--sl-color-border-badge: var(--sl-color-blue)}.badge-wrapper .danger{--sl-color-bg-badge: var(--sl-color-red-low);--sl-color-border-badge: var(--sl-color-red)}.badge-wrapper .success{--sl-color-bg-badge: var(--sl-color-green-low);--sl-color-border-badge: var(--sl-color-green)}.badge-wrapper .caution{--sl-color-bg-badge: var(--sl-color-orange-low);--sl-color-border-badge: var(--sl-color-orange)}.badge-wrapper .tip{--sl-color-bg-badge: var(--sl-color-purple-low);--sl-color-border-badge: var(--sl-color-purple)}.badge-wrapper [data-theme=light] .default{--sl-color-bg-badge: var(--sl-color-accent-high)}.badge-wrapper [data-theme=light] .note{--sl-color-bg-badge: var(--sl-color-blue-high)}.badge-wrapper [data-theme=light] .danger{--sl-color-bg-badge: var(--sl-color-red-high)}.badge-wrapper [data-theme=light] .success{--sl-color-bg-badge: var(--sl-color-green-high)}.badge-wrapper [data-theme=light] .caution{--sl-color-bg-badge: var(--sl-color-orange-high)}.badge-wrapper [data-theme=light] .tip{--sl-color-bg-badge: var(--sl-color-purple-high)}.sidebar-sublist-wrapper ul{--sl-sidebar-item-padding-inline: .5rem;list-style:none;padding:0}.sidebar-sublist-wrapper li{overflow-wrap:anywhere}.sidebar-sublist-wrapper ul ul li{margin-inline-start:var(--sl-sidebar-item-padding-inline);border-inline-start:1px solid var(--sl-color-hairline-light);padding-inline-start:var(--sl-sidebar-item-padding-inline)}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-lg);font-weight:600;color:var(--sl-color-white)}.sidebar-sublist-wrapper .top-level>li+li{margin-top:.75rem}.sidebar-sublist-wrapper summary{display:flex;align-items:center;justify-content:space-between;padding:.2em var(--sl-sidebar-item-padding-inline);line-height:1.4;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-sublist-wrapper summary::marker,.sidebar-sublist-wrapper summary::-webkit-details-marker{display:none}.sidebar-sublist-wrapper .caret{transition:transform .2s ease-in-out;flex-shrink:0}.sidebar-sublist-wrapper [dir=rtl] .caret{transform:rotate(180deg)}.sidebar-sublist-wrapper [open]>summary .caret{transform:rotate(90deg)}.sidebar-sublist-wrapper a{display:block;border-radius:.25rem;text-decoration:none;color:var(--sl-color-gray-2);padding:.3em var(--sl-sidebar-item-padding-inline);line-height:1.4}.sidebar-sublist-wrapper a:hover,.sidebar-sublist-wrapper a:focus{color:var(--sl-color-white)}.sidebar-sublist-wrapper [aria-current=page],.sidebar-sublist-wrapper [aria-current=page]:hover,.sidebar-sublist-wrapper [aria-current=page]:focus{color:var(--fallback-n,oklch(var(--n)/1));background-color:var(--fallback-er,oklch(var(--er)/1));border-left-style:solid;border-left-width:4px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important}.sidebar-sublist-wrapper a>*:not(:last-child),.sidebar-sublist-wrapper .group-label>*:not(:last-child){margin-inline-end:.25em}@media (min-width: 50rem){.sidebar-sublist-wrapper .top-level>li+li{margin-top:.5rem}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-base)}.sidebar-sublist-wrapper a{font-size:var(--sl-text-sm)}}
.blog-slug-wrapper .sidebar-content{height:100%;padding:1rem var(--sl-sidebar-pad-x) 0;flex-direction:column;gap:1rem}.blog-slug-wrapper .right-sidebar-panel{flex-direction:column;justify-content:space-between;height:calc(100vh - 3.5rem);width:0px;overflow:hidden}.blog-slug-wrapper .right-sidebar-panel h2{color:var(--sl-color-white);font-size:var(--sl-text-h5);font-weight:600;line-height:var(--sl-line-height-headings);margin-bottom:.5rem}.blog-slug-wrapper .right-sidebar-panel a{display:block;font-size:var(--sl-text-xs);text-decoration:none;color:var(--sl-color-gray-3);overflow-wrap:anywhere}.blog-slug-wrapper .right-sidebar-panel a:hover{color:var(--sl-color-white)}.blog-slug-wrapper #toggle-sidebar{display:none}@media (min-width: 72rem){.blog-slug-wrapper #toggle-sidebar{display:block;position:fixed;top:40%;z-index:2;transform:translate(-35px)}.blog-slug-wrapper #toggle-sidebar a{padding-top:8px}.blog-slug-wrapper .rotate{transform:rotate(0)}.blog-slug-wrapper .collapsed{width:18%;padding:1rem var(--sl-sidebar-pad-x)}.blog-slug-wrapper .blog-fold{width:60%!important}}
</style>
<link rel="stylesheet" href="/_astro/index.B0a9OMnn.css">
<link rel="stylesheet" href="/_astro/_page_.BwWph3Ek.css">
<style>.header-wrapper my-layout{--header-content-width: var(--width);--logo-height: 2rem;--header-height: var(--height);--header-xl-padding: var(--xpadding)}.header-wrapper .header-content{width:var(--header-content-width);padding-left:var(--header-xl-padding);padding-right:var(--header-xl-padding)}.header-wrapper .left-content .logo{vertical-align:sub;height:var(--logo-height)}.header-wrapper .left-content .mobile-navbar{display:none}@media (max-width: 85.125rem){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}}@media (max-width: 1070px){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}.header-wrapper .left-content .mobile-navbar{display:block}.header-wrapper .center-content{display:none}.header-wrapper .code-toggle{padding:0!important;background-color:transparent!important}.header-wrapper .code-toggle span{display:none}.header-wrapper .code-toggle svg{width:1.5rem;height:1.5rem}}
.link-icon:where(.astro-ld27styo){transition:width .3s ease}
toggle-content:where(.astro-bxjx6km4){--toggle-ml-width: 7rem;--toggle-xl-width: 7.5rem;--toggle-ml-height: 2rem;--toggle-xl-height: 2.5rem;--toggle-ml-font: .75rem;--toggle-xl-font: .85rem;--toggle-ml-switch-width: 3.5rem;--toggle-xl-switch-width: 3.75rem;--toggle-ml-switch-height: 1.5rem;--toggle-xl-switch-height: 2rem}.switch:where(.astro-bxjx6km4){width:var(--toggle-ml-width)}.switch-inner:where(.astro-bxjx6km4){width:200%;margin-left:-100%}.switch-inner:where(.astro-bxjx6km4):before,.switch-inner:where(.astro-bxjx6km4):after{display:block;float:right;width:50%;height:var(--toggle-ml-height);padding:0;line-height:var(--toggle-ml-height);font-size:var(--toggle-ml-font);box-sizing:border-box}.switch-inner:where(.astro-bxjx6km4):after{content:attr(data-on);padding-left:1.25rem}.switch-inner:where(.astro-bxjx6km4):before{content:attr(data-off);padding-right:1.25rem;text-align:right}.switch-switch:where(.astro-bxjx6km4){height:var(--toggle-ml-switch-height);width:var(--toggle-ml-switch-width);bottom:.25rem;border-radius:2rem;transition:all .3s ease-in 0s;text-align:right}.switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-off);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-inner:where(.astro-bxjx6km4){margin-left:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4){right:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-on);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}
.link-text:where(.astro-zb5a5pg4) .link-icon:where(.astro-zb5a5pg4){width:0;opacity:0;transition:transform .5s ease,width .3s ease,opacity .3s ease}.link-text:where(.astro-zb5a5pg4):hover .link-icon:where(.astro-zb5a5pg4){transform:translate(3px);opacity:1;width:8px}
</style>
<link rel="stylesheet" href="/_astro/tailwind.D1OAr-9K.css">
<link rel="stylesheet" href="/_astro/style.Czao6FyS.css"><script type="module" src="/_astro/hoisted.CP58EMB0.js"></script>
<script type="module" src="/_astro/page.CIklkdzg.js"></script><script src="/_astro/Alert.astro_astro_type_script_index_0_lang.DaW0fwsv.js" type="module"></script><script src="/_astro/LanguageToggle.astro_astro_type_script_index_0_lang.C1TXaPhW.js" type="module"></script><script src="/_astro/Particles.astro_astro_type_script_index_0_lang.BiyDd7c3.js" type="module"></script></head> <body> <!-- <HomeHeader align="home" position={position} lang={Astro.props.lang} {...Astro.props} /> --> <span class="header-wrapper" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="alert-bar w-full  h-12 flex align-center justify-between top-0 bg-cover bg-[url('https://img.alicdn.com/imgextra/i3/O1CN010OMCW91rMde4sifaA_!!6000000005617-0-tps-828-52.jpg')] md:bg-[url('https://img.alicdn.com/imgextra/i4/O1CN01wkq3Nl1O9FCjTbQNk_!!6000000001662-0-tps-2880-96.jpg')]" client:load><div class="md:text-base text-sm m-auto leading-6 "><span class=" text-muted mr-4 md:mr-6 opacity-30 hidden md:inline-block">&lt;/&gt;</span><span class="alert-text hidden md:inline-block bg-gradient-to-r from-link to-success font-medium">新一代 Agentic Coding 平台 Qoder 来了</span><span class="alert-text bg-gradient-to-r from-link to-success text-muted  md:hidden font-medium">新一代 Agentic Coding 平台 Qoder 来了</span><a href="https://qoder.com/" target="_blank" class="mx-auto flex justify-center md:inline text-primary font-medium md:ml-4 no-underline">点此了解</a></div><button class="close-button text-muted bg-transparent border-none cursor-pointer text-lg leading-6 mr-1 md:mr-4">
&times;
</button></div> <my-layout style="position: sticky; height: 3.5rem; --width: 100%;--height: 3.5rem;--xpadding: 1.5rem;" class="w-full backdrop-blur-md top-0 z-[10] bg-neutral flex justify-center"> <!-- 方便控制header宽度 --> <div class="header-content flex items-center justify-between" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="left-content h-full flex flex-1 items-center after:content-[''] after:grow after:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <a class="no-underline flex" href="/" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <img class="logo" src="https://img.alicdn.com/imgextra/i1/O1CN01aIB6n51zcgTM5vhku_!!6000000006735-2-tps-156-48.png" alt="Higress-logo" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> </a> <span class="mobile-navbar-wrapper" style="--top: 3.5rem;"> <div class="mobile-navbar mobile-navbar h-full ml-4" style="--top: 3.5rem;"> <mobile-menu-button style="--top: 3.5rem;"> <button aria-expanded="false" aria-label="mobile-menu-button" style="--top: 3.5rem;"> <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6304" width="28" height="28" style="--top: 3.5rem;"> <path d="M192.037 287.953h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32zM832.161 479.169H438.553c-17.673 0-32 14.327-32 32s14.327 32 32 32h393.608c17.673 0 32-14.327 32-32s-14.327-32-32-32zM832.161 735.802H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32zM319.028 351.594l-160 160 160 160z" class="fill-secondary" p-id="6305" style="--top: 3.5rem;"></path> </svg> </button> </mobile-menu-button> <div class="navbar-panel bg-secondary" style="--top: 3.5rem;"> <div class="navbar-content flex" style="--top: 3.5rem;"> <span class="mobile-nav-sublist-wrapper"> <ul class="top-level"> <li> <a href="https://higress.ai/" class="large flex items-center"> <span>AI 网关</span> </a> </li><li> <a href="/docs/latest/overview/what-is-higress/" class="large flex items-center"> <span>文档</span> </a> </li><li> <a href="/plugin/" class="large flex items-center"> <span>插件</span> </a> </li><li> <a href="/cloud/" class="large flex items-center"> <span>企业版 Higress</span> </a> </li><li> <a href="/blog/" class="large flex items-center"> <span>博客</span> </a> </li><li> <details> <summary> <div class="group-label"> <span class="large undefined">社区</span> </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-color: #818598;--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="mobile-nav-sublist-wrapper"> <ul>  </ul> </span>  </details> </li><li> <a href="/docs/developers/developers_dev/" class="large flex items-center"> <span>开发者</span> </a> </li><li> <a href="http://demo.higress.io/" class="large flex items-center"> <span>控制台样例</span> </a> </li><li> <a href="/faq/wuyi-intro/" class="large flex items-center"> <span>答疑样例</span> </a> </li> </ul> </span>  </div> </div> </div> </span>   </div> <div class="center-content justify-center flex-2 h-full" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <span class="navbar-wrapper"> <navbar-component class="navbar-component h-full"> <div class="pc-navbar pc-navbar h-full"> <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="https://higress.ai/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> AI 网关  <span class="toggle-text-ailogo text-xs text-center rounded-xl absolute top-[0.5rem] right-[-0.5rem] text-white bg-[red] w-[2rem] h-[1rem] font-medium">
NEW
</span> </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/docs/latest/overview/what-is-higress/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 文档   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/plugin/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  toggle-text-aiwrapper relative"> 插件 <span class="toggle-text-ailogo text-center rounded-xl absolute top-[0] right-[-1.5rem] text-white bg-[red] w-[2rem] h-[1.25rem] font-bold">
AI
</span>  </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/cloud/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 企业版 Higress   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/blog/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full toggle-text-active "> 博客   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="hover" class="toggle-component h-full static"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <div class="toggle-text flex items-center justify-center h-full toggle-text-active "> 社区 </div>  <svg width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg" data-updown class="ml-2"> <path d="M8.05264 2L5.05264 5.00649L2.05264 2" stroke="#a3a6b3" stroke-width="1.25" stroke-linecap="square"></path> </svg> </div> <div class="toggle-dropdown w-fit inset-x-0 absolute t-3.5rem">   <menu-container class="menu-container dropdown-docs w-screen h-screen flex flex-col justify-start items-center"> <div class="bg-neutral p-10 w-full flex justify-center "> <div class="w-fit"> <div class="flex justify-between mb-[3.5rem]"> <div class="flex"> <!-- 社区label --> <div class="border-l border-warning flex flex-col px-7 min-w-[12rem]"> <span class="text-xs text-warning mb-2">社区</span> <a href="https://github.com/higress-group/higress-group.github.io/issues" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 报告文档问题  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/developers/contributor-guide/guide_dev/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 贡献社区  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="https://github.com/alibaba/higress/graphs/contributors" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 贡献者  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> <!-- 事件、资源label --> <div class="border-l border-warning flex flex-col px-7 mr-10"> <span class="text-xs text-warning mb-2">资源</span> <a href="/blog/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 博客  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/ebook/wasm14/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 电子书  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> </div> <div class="flex" id="blog-card-container"> <div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01bGnAVW1pFeLFnlaQL_!!6000000005331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> API赋能AI，AI网关零代码解决AI幻觉问题 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_im44tpldqyt8c97d/?source=blog_case">阅读文章</a></span> </div><div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01zfayJW1Lhe4kliPv9_!!6000000001331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> Higress 发布 v1.4，开放 AI 网关能力，增强云原生能力 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_picigqfume3k5lf3/?source=blog_article">阅读文章</a></span> </div> </div>  </div> <!-- 联系我们 --> <div class="w-[70rem] contact-us flex items-center justify-between rounded-2xl h-9 pl-10 pr-[8.5rem]"> <span class="text-success text-xs leading-9 tracking-[0.15em]"> 联系我们 </span> <div class="flex items-center cursor-pointer"> <a target="_blank" href="https://github.com/alibaba/higress" class="mr-16 flex items-center no-underline"> <svg viewBox="0 80 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3233" width="16" height="16"> <path d="M20.48 503.72608c0 214.4256 137.4208 396.73856 328.94976 463.6672 25.8048 6.5536 21.87264-11.8784 21.87264-24.33024v-85.07392c-148.93056 17.44896-154.86976-81.1008-164.94592-97.52576-20.23424-34.52928-67.91168-43.33568-53.69856-59.76064 33.91488-17.44896 68.48512 4.42368 108.46208 63.61088 28.95872 42.88512 85.44256 35.6352 114.15552 28.4672a138.8544 138.8544 0 0 1 38.0928-66.7648c-154.25536-27.60704-218.60352-121.77408-218.60352-233.79968 0-54.31296 17.94048-104.2432 53.0432-144.54784-22.36416-66.43712 2.08896-123.24864 5.3248-131.6864 63.81568-5.7344 130.00704 45.6704 135.168 49.68448 36.2496-9.78944 77.57824-14.9504 123.82208-14.9504 46.4896 0 88.064 5.3248 124.5184 15.23712 12.288-9.4208 73.80992-53.53472 133.12-48.128 3.15392 8.43776 27.0336 63.93856 6.02112 129.4336 35.59424 40.38656 53.69856 90.76736 53.69856 145.24416 0 112.18944-64.7168 206.4384-219.42272 233.71776a140.0832 140.0832 0 0 1 41.7792 99.9424v123.4944c0.86016 9.87136 0 19.6608 16.50688 19.6608 194.31424-65.49504 334.2336-249.15968 334.2336-465.5104C1002.57792 232.48896 782.66368 12.77952 511.5904 12.77952 240.18944 12.65664 20.48 232.40704 20.48 503.72608z" fill="currentColor" p-id="3234"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">GitHub</span> </a> <div class="mr-16 hoverable relative"> <img class="tooltip hidden w-40 absolute bottom-9" src="/img/dingding_3.jpg" alt="Higress Dingding Code"> <span class="text-neutral flex items-center"> <svg class="icon" viewBox="0 50 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4747" width="16" height="16"> <path d="M0 0h1024v1024H0z" class="secondary-fill" fill-opacity="0" p-id="4748"></path><path d="M786.978133 481.6896c-153.770667-117.5552-327.133867-273.237333-517.188266-440.183467-14.984533-13.141333-28.2624-7.953067-34.952534 9.5232-42.8032 111.957333-1.297067 211.421867 65.774934 268.731734 67.345067 57.582933 167.492267 110.592 228.829866 138.683733 2.389333 1.092267 0.3072 4.573867-2.116266 3.515733-112.674133-49.152-191.044267-84.650667-297.3696-165.819733-11.434667-8.738133-23.04-5.3248-24.405334 11.707733-8.704 107.042133 60.484267 191.146667 137.728 219.5456 47.786667 17.6128 100.0448 27.3408 148.548267 33.109334 2.525867 0.341333 1.9456 4.027733-0.580267 4.027733-62.498133 0.2048-138.001067-14.609067-203.332266-39.458133-13.789867-5.256533-18.5344 5.632-16.418134 14.267733 11.1616 45.226667 67.652267 114.346667 157.5936 128.887467 16.827733 2.730667 34.747733 3.072 50.722134 2.628266 3.7888-0.136533 4.7104 1.9456 3.4816 4.846934 0 0-61.098667 103.6288-63.761067 108.066133-2.082133 3.447467-0.8192 6.212267 3.515733 6.212267h80.622934c3.754667 0 6.0416 2.389333 4.096 5.5296-1.877333 3.140267-107.656533 176.7424-112.64 185.0368-4.369067 7.202133 0.785067 12.731733 8.942933 6.826666 8.192-5.9392 346.180267-250.88 355.805867-257.911466 4.437333-3.208533 3.413333-7.5776-2.833067-7.5776h-72.2944c-4.744533 0-5.768533-3.140267-2.56-6.314667 3.242667-3.1744 82.090667-80.964267 110.08-110.08 29.184-30.378667 44.100267-86.050133-5.290667-123.8016" class="secondary-fill" p-id="4749"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">钉钉</span> </span> </div> </div> </div> </div> </div> <div class="dropdown-overlay w-full flex-1 bg-neutral-900/[.4]"></div> </menu-container>    </div> </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/docs/developers/developers_dev/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 开发者   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="http://demo.higress.io/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> 控制台样例   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item item-last-child">  <a href="/faq/wuyi-intro/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 答疑样例   </a>   </div>  </toggle-component> </span>   </div> </navbar-component> </span>  </div> <div class="right-content flex flex-1 items-center md:gap-4  before:content-[''] before:grow before:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="astro-bxjx6km4"> <!-- pc --> <toggle-content class="switch float-left relative m-0 rounded-[2rem] max-md:hidden astro-bxjx6km4"> <input disabled data-switch class="switch-checkbox hidden astro-bxjx6km4" id="pc-toggle-switch" type="checkbox"> <!-- container --> <label class="switch-label block overflow-hidden cursor-pointer rounded-[2rem]  
                bg-language
             astro-bxjx6km4" for="pc-toggle-switch"> <!-- static --> <span class="switch-inner block 
                    text-language-button
                 astro-bxjx6km4" data-on="中文" data-off="EN"></span> <!-- active --> <span class="switch-switch absolute float-right mx-1 
                    text-language-button-active
                    bg-language-button
                 astro-bxjx6km4" data-on="EN" data-off="中文"></span> </label> </toggle-content> <!-- mobile --> <div data-switch class="w-[3.5rem] h-[1.5rem] leading-[1.5rem] text-xs text-center rounded-2xl bg-gray-12 max-md:inline-block md:hidden border astro-bxjx6km4" id="pc-toggle-switch"> 中文 </div> </div>   <sl-doc-search data-translations="{&#34;translations&#34;:{&#34;button&#34;:{},&#34;modal&#34;:{&#34;searchBox&#34;:{},&#34;startScreen&#34;:{},&#34;errorScreen&#34;:{},&#34;footer&#34;:{},&#34;noResultsScreen&#34;:{}}}}"> <button type="button" class="DocSearch DocSearch-Button"> <span class="DocSearch-Button-Container"> <svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"> <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <span class="DocSearch-Button-Placeholder"></span> </span> <span class="DocSearch-Button-Keys"></span> </button> </sl-doc-search>   </div> </div> </my-layout> </span>      <div class="w-full"> <div class="w-[20%] sidebar-content fixed overflow-auto h-full hidden 2xl:inline-block xl:inline-block lg:inline-block md:inline-block"> <blog-theme> <span class="sidebar-sublist-wrapper"> <ul class="top-level"> <li> <details open> <summary> <div class="group-label"> <span class="large">技术文章</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/blog/higress-gvr7dx_awbbpb_ed66rgr81ritgw7l/" class="flex items-center"> <span>Dify 性能瓶颈？Higress AI 网关为它注入「高可用之魂」！</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_bliqlsc51y8h7prl/" class="flex items-center"> <span>从体验到系统工程｜上手评测国内首款 AI 电商 APP</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_rlfz1bpof225nc9w/" class="flex items-center"> <span>Higress v2.1.6：31 项引擎更新 + 12 项控制台更新</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_qg6l3tk0zc4dughn/" class="flex items-center"> <span>不增加 GPU，首 Token 延迟下降50%｜LLM 服务负载均衡的新实践</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_qoy3r8sai9kfspve/" class="flex items-center"> <span>Higress 入选《AI Cloud 大模型推理与交互典型案例》</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_ctf6uxyzat7wvipe/" class="flex items-center"> <span>Higress v2.1.5：41 项引擎更新 + 8 项控制台更新</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_hi9x7swfqgq1nqn2/" class="flex items-center"> <span>AI Gateway 分析：OpenRouter vs Higress</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_lup4w7e1cv6wktac/" class="flex items-center"> <span>手把手带你玩转基于 Nacos + Higress 的 MCP 开发新范式</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_nvygddyr4wff1g5v/" class="flex items-center"> <span>Higress MCP 服务管理，助力构建私有 MCP 市场</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_ccb4wd51pyu5zuwt/" class="flex items-center"> <span>这家公司对网关性能的优化历程，在 Reddit 上爆了</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_pem8xsmhq1u0qqkp/" class="flex items-center"> <span>Higress 开源 Plugin Server，简化 Wasm 插件私有化部署难题</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_fnvq97dw8yrobq9v/" class="flex items-center"> <span>AI Agent 的工程化被低估了</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_ggr2myyqe89ag3pv/" class="flex items-center"> <span>企业生产环境中，实现 MCP 服务的统一管理和智能路由的实践</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_lz2r5rwoshl3cyy8/" class="flex items-center"> <span>AI Agent 工程师绕不开的必修课：API 网关 vs API 管理</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_bwzuqa3vvxw3wrvs/" class="flex items-center"> <span>回归开源，Java 和 Go 程序员贡献 AI 的内心独白</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_xfxkvwg29c18g7hn/" class="flex items-center"> <span>Higress MCP Server 安全再升级：API 认证为 AI 连接保驾护航</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_vetuzf7sbuixi2b2/" class="flex items-center"> <span>阿里巴巴 MCP 分布式落地实践：快速转换 HSF 到 MCP server</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_mfm8mgpsfrkay78a/" class="flex items-center"> <span>MCP 最新版本 9 大差异解读：授权机制、传输协议、批处理、工具元数据...</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_fx38umcid680pvck/" class="flex items-center"> <span>API-to-MCP，并在 Dify 实现调用的实践</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_eq780z2lfai8p396/" class="flex items-center"> <span>AI Agent 十问十答，降低认知摩擦</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_vt50nsm76qkpi78w/" class="flex items-center"> <span>MCP 协议：为什么 Streamable HTTP 是最佳选择？</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_zs1iqivea02x8fl9/" class="flex items-center"> <span>Lobechat使用WolframAlpha MCP工具减少LLM幻觉</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_igk8hdx9xt83ptqg/" class="flex items-center"> <span>API 即 MCP｜Higress 发布 MCP Marketplace，加速存量 API 跨入 MCP 时代</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_zburfn8cw9ydu150/" class="flex items-center"> <span>MCP 架构下，提示词工程和标准化数据结构越加重要</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_mpavtgoff5h3odvq/" class="flex items-center"> <span>实用工具来了，存量 OpenAPI 批量转化为 MCP Server</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_zixhqugf2dp99bz8/" class="flex items-center"> <span>万字长文告诉你企业如何基于MCP实现AI应用架构新范式转型</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_xq8kol5ncmllabkk/" class="flex items-center"> <span>Higress 开源 Remote MCP Server 托管方案，并将上线 MCP 市场</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_adgy9xp3ktqf278s/" class="flex items-center"> <span>IngressNightmare：Ingress Nginx 再曝5个安全漏洞，可接管你的 K8s 集群</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_bangn9vn6pwzo5ar/" class="flex items-center"> <span>Java版Manus实现来了，Spring AI Alibaba发布开源OpenManus实现</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_bh9o6nnuri31ygvx/" class="flex items-center"> <span>大模型上下文协议 MCP 带来了哪些货币化机会</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_xscgcfbshtcv14hz/" class="flex items-center"> <span>Higress.ai 站点全新发布，轻松解锁 AI 新能力，开启全球服务！</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_kv7s0g9dy0g7p25z/" class="flex items-center"> <span>AI 网关代理LLMs最佳实践</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_hwuzgkuzpuru076d/" class="flex items-center"> <span>大模型 Token 的消耗可能是一笔糊涂账</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_yp80oe1sr5ryy3g0/" class="flex items-center"> <span>大模型带火 API 后，分享我对 API 安全之认证鉴权的实践</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_kbgwaftgw8315v0l/" class="flex items-center"> <span>大模型无缝切换，QwQ-32B 和 DeepSeek-R1  全都要</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_kr6gxodg2m79af28/" class="flex items-center"> <span>教程：使用开源Higress实现DeepSeek联网搜索</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_hlsz3id8cec7z1m3/" class="flex items-center"> <span>AI 网关需要具备的10大基本能力</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_sphafiske3o0xnqx/" class="flex items-center"> <span>玩转 DeepSeek：和 ChatGPT 对弈中国象棋</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_ad4xkcyo1xtafkqg/" class="flex items-center"> <span>浏览量超10w的热图，描述 RAG 的主流架构</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_vl5iak7vsi3s1kpx/" class="flex items-center"> <span>大模型推理服务全景图</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_glmivtz04x6p3k91/" class="flex items-center"> <span>为何最近谈论 SSE 和 WebSocket 的人越来越多了？</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_qragv9vlxcxly5y1/" class="flex items-center"> <span>警惕！2万星开源AI工具遭挖矿木马入侵，这些隐患你必须知道！</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_fca2piud7gdu32ho/" class="flex items-center"> <span>Envoy HTTP2 404 如何解决</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_auo7gh99bhwwahxm/" class="flex items-center"> <span>活动回顾丨云原生开源开发者沙龙，AI 应用工程化专场</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_ss3ok5o9er9it0nb/" class="flex items-center"> <span>应用网关的演进历程和分类</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_ghwthc4xkdshgqgp/" class="flex items-center"> <span>上新｜统一多层网关架构系列视频课程</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_veqvz22q07nx7m2z/" class="flex items-center"> <span>AI 时代，网关的发展趋势和实践</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_dxp91huk34ts4nik/" aria-current="page" class="flex items-center"> <span>多层网关统一成趋势，如何构建全能型网关</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_bo9gbceraxmft62n/" class="flex items-center"> <span>Wasm 实现 Higress 扩展，性能是 Spring Cloud Gateway 的 3 倍！</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_rggp2v9saa6gehsg/" class="flex items-center"> <span>Higress全新Wasm运行时，性能大幅提升</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_sgavomwlumko3kl7/" class="flex items-center"> <span>Higress 开源后，我们整理了开发者最关心的 15 个问题</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_xdxim253zzta4bun/" class="flex items-center"> <span>Higress + Nacos 微服务网关最佳实践</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_uddq0l7v5a5vadc6/" class="flex items-center"> <span>如何使用 Higress 快速构建 AI 应用？</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_picigqfume3k5lf3/" class="flex items-center"> <span>Higress 发布 v1.4，开放 AI 网关能力，增强云原生能力</span>   </a> </li><li> <a href="/blog/pilot-debug/" class="flex items-center"> <span>教程：如何在本地开发和调试 Higress Pilot</span>   </a> </li><li> <a href="/blog/console-dev/" class="flex items-center"> <span>教程：如何在本地开发和调试 Higress 控制台</span>   </a> </li><li> <a href="/blog/admin-sdk-intro/" class="flex items-center"> <span>如何使用 Higress Admin SDK 进行配置管理</span>   </a> </li><li> <a href="/blog/higress-code/" class="flex items-center"> <span>higress-core源码分析</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_tp0pgbnsg4bef0x1-copy/" class="flex items-center"> <span>迅速get云原生网关，阿里云商业版Ingress</span>   </a> </li><li> <a href="/blog/e2e-debug/" class="flex items-center"> <span>教程：如何在本地进行higress调试和端到端测试</span>   </a> </li><li> <a href="/blog/release-13/" class="flex items-center"> <span>Higress 开源一周年：新版本，新标准，新工具，新征程</span>   </a> </li><li> <a href="/blog/plugin-transformer/" class="flex items-center"> <span>通过 Higress Wasm 插件 3 倍性能实现 Spring-cloud-gateway 功能</span>   </a> </li><li> <a href="/blog/config-with-file/" class="flex items-center"> <span>基于文件配置实现 Higress 极简独立部署</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_un7afz9yhq61u2fk/" class="flex items-center"> <span>下一代云原生网关Higress：基于Wasm开发JWT认证插件</span>   </a> </li><li> <a href="/blog/configmap/" class="flex items-center"> <span>Higress 全局配置控制面原理分析</span>   </a> </li><li> <a href="/blog/ai_plugin/" class="flex items-center"> <span>Higress助力AI大模型企业级应用落地</span>   </a> </li><li> <a href="/blog/release-100/" class="flex items-center"> <span>上线控制台，降低使用门槛 ｜ Higress 1.0.0 RC 版本发布</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_gk5nkrhm7uvuulgg/" class="flex items-center"> <span>Higress GitHub star 突破 1k ，来自社区开发者和用户的寄语</span>   </a> </li><li> <a href="/blog/release-070/" class="flex items-center"> <span>Higress 0.7.0 版本发布：GA 进入倒计时</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_uwbg4wym8snz2m0z/" class="flex items-center"> <span>Higress 0.6.0 版本发布：更简单，更易用</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_fi4t7317cvughlzh/" class="flex items-center"> <span>Higress 实战：30 行代码写一个 Wasm Go插件</span>   </a> </li><li> <a href="/blog/higress-gvr7dx_awbbpb_pcctqnntrosrhh0d/" class="flex items-center"> <span>Higress 社区周会记要（2022/11/26）</span>   </a> </li><li> <a href="/blog/higress/" class="flex items-center"> <span>阿里巴巴重磅开源云原生网关</span>   </a> </li> </ul> </span>  </details> </li> </ul> </span>  </blog-theme>  </div> <div class="blog-slug-container w-full 2xl:ml-[20%] xl:ml-[20%] lg:ml-[20%] md:ml-[20%] md:w-[80%] inline-block"> <div id="back-btn" class="pt-4 pl-6"> <span class="not-content"><a class="btn btn btn-secondary rounded-3xl no-underline" target="_self" rel="noopener noreferrer"> <svg aria-hidden="true" class="text-lg align-middle astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="ml-0.5">BACK</span> </a></span> </div> <span class="markdown-detail-wrapper"> <div class="sl-markdown-content"> <div class="hero-image">  </div> <main> <div class="website-prose mx-auto"> <div class="title"> <h1 id="_top">多层网关统一成趋势，如何构建全能型网关</h1> <div></div> <p class="text-left">发布时间 2024-08-19</p> <hr> </div>  <p>作者：问思、望宸<br/>网关承载了业务开发和后端运维的诸多需求，例如路由管理、流量调度、API 管理、入口安全管理等，另外网关侧也需要结合服务治理来保障全链路的稳定性。这就造成了大部分企业采用多层网关架构，对性能优化、成本管理、运维监控、故障排查都带来了诸多挑战。因此，多层网关的统一成了基础架构、运维、开发等团队均会关注的趋势和架构演进选项。</p>
<p>本文整理自阿里云云原生 API 网关的公测直播，分享了作为一款全能型网关【云原生 API 网关】是如何帮助企业落地统一网关架构的。</p>
<a name="PiGe9"></a>
<h2 id="一应用网关的发展历程与未来趋势">一、应用网关的发展历程与未来趋势</h2>
<p>随着应用架构的演进，对应用入口模块的要求也在不断变化。上世纪90年代初尚处于 Web 1.0单体应用阶段，这时候在入口层只需要对后端应用做健康检查，在不同的实例之间做流量路由。像 F5，HA proxy这样的硬件或软件负载均衡即可满足用户的需求。到2004年左右，Web 2.0的应用开始成熟，这时客户端与后端服务的交互量及安全要求增大，除了流量路由以外，入口层的安全通信以及访问性能优化，比如 SSL 卸载、缓存、压缩就尤为重要。Nginx 也是在这个阶段逐渐奠定了这个场景的霸主地位。随着后面 SOA 架构以及 Restful API 的兴起，动态路由、认证鉴权、协议转换、API 管理和开放成为新的课题，API 网关应运而生。</p>
<p>近十年，微服务架构愈发流行，为了在网关层实现服务自动发现、灰度、无损上下线、可观测，用户开始使用 Zuul、Spring Cloud Gateway 这样的微服务网关来满足业务需要。而这几年随着容器化、Serverless 化的落地，像 Higress 这种基于 Envoy 技术，能够和 K8s 深度集成的云原生网关，或者是像 AWS API 和 Lambda 的组合，受到广大开发者的推崇。<br/><img src="/img/1728551747418.png" alt="image.png" referrerpolicy="no-referrer"/><br/>回顾完历史再面向未来，新一代网关的技术趋势是什么呢？我们认为有以下三点。第一是以开发者为中心，像 K8s CRD 一样，通过标准化、声明式的配置来管理 API 和路由规则，并将它们和应用代码的变更管理统一到一个 CI/CD 流程中，并提供多版本的灰度能力，提高整个业务迭代的效率。第二点是要顺应当今 AI 时代的需求。一方面网关要作为 AI 应用稳定、高性能、高弹性的流量入口，另一方面要激活更多传统应用的 API，让他们可以便捷地被 AI 应用作为插件调用，实现 API 经济。第三，当 AI 自动化席卷一切之后，安全问题会更加突出。网关在入口层面除了要做流量清洗以及认证鉴权之外，也需要针对 API 接口的漏洞、非法篡改、高频访问、暴力破解，进行更加有效地管理和防护。</p>
<a name="JAWhl"></a>
<h2 id="二规范的-api-带来的业务价值">二、规范的 API 带来的业务价值</h2>
<p>对于企业来说，一套定义和管理规范的 API 能带来哪些价值呢？<br/>首先是提高效率，在应用开发初期，当 API 定义好之后，就可以进行前后端分离并行开发，来缩短迭代周期。另外，应用和系统之间可以通过 API 接口进行解耦，只要 API 的约定不变，各系统就可以进行独立的升级和改造。<br/>第二，企业内外部的能力通过 API 进行暴露，就可以实现快速集成，不需要再重复造轮子，降低组织的总体成本。<br/>第三，各个组织之间通过 API 进行功能和数据互访并做有效管控下，可以激发更多的业务创新。特别是在当下，大模型相当于我们人的大脑，让应用有了认知和推理能力。而 API 就像我们的手脚，让应用可以操作周边的系统，使 AI 应用有了无限的想象空间。通过组合跨界应用产生化学反应，让 AI 能够被越来越多的场景使用。<br/>最后，API 可以让企业构建更广泛的生态。很多大公司把 API 看作是核心资产，像 Twitter 和 SaaS 服务巨头 Salesforce 都是通过 API 开放获得了巨大的流量。而当下炙手可热的 OpenAI，据分析他们的 API 服务年度经常收入达到了5亿美元，有三百多万开发者围绕他们的 API 创建 AI 应用，这些都是 API 经济的经典案例。<br/><img src="/img/1728551747858.png" alt="image.png" referrerpolicy="no-referrer"/></p>
<p>然而，我们也看到，很多企业和组织并没有对 API 这一核心资产进行很好的管理，在放养式的开发模式下，如果API设计随意而且没有管理工具，会导致版本混乱，上下游对接摩擦不断。我们有一个客户的技术总监反馈，公司可能有上万个API接口，但哪些在线上，哪些是测试，哪些废弃不用根本说不清楚，管理成本太高。对技术人员来说，各参与方使用不同的API设计、测试工具，数据互通难，API定义容易不一致，会极大影响协同效率。<br/><img src="/img/1728551748320.png" alt="image.png" referrerpolicy="no-referrer"/><br/>而对于运维同学来说，后端应用架构和业务需求是多样的，就需要部署和维护多种网关组件，监控告警、问题诊断都是很大的工作负担，也很难实现全链路的灰度发布。</p>
<p>最后是线上业务看重的性能和稳定性，多层网关会导致访问链路过长，响应时间变慢，在大流量下，开源自建网关的稳定性和性能堪忧，配置或发布变更会造成业务抖动，最终影响业务发展。</p>
<p>根据 CSDN 2023年中国开发者调查报告，有40%多的开发者认为规范 API 接口是排在待改善问题的首位。而 Gartner 2023年API 管理中国市场分析报告也指出，随着云原生化的深入，API 数量增加，标准化程度也需要增高。到了2027年，大概会有50%以上的企业会使用 API 管理工具。</p>
<a name="qdTEu"></a>
<h2 id="三阿里云-api-网关产品的演进历程">三、阿里云 API 网关产品的演进历程</h2>
<p>为了解决这些问题，阿里云也演进出了不同的网关产品，2016推出了API网关，它覆盖了API从设计、测试、发布、运维、下线全生命周期的管理，也帮助用户快速建设以API为核心，将后端服务或数据对外开放并进行鉴权流控，特别是和FC、Dataworks进行了深度集成。为了适应云原生时代下微服务架构和容器部署要求，</p>
<p>2021年我们推出了MSE 网关，它以路由为核心，兼容K8s Ingress标准，支持多种服务发现方式，提供丰富的认证鉴权、服务治理和插件能力。</p>
<p>今天，我们进一步将两个产品融合为 云原生 API 网关，它MSE网关的能力之上，叠加了API全生命周期管理功能，帮助用户以统一规范进行API设计，并支持多版本迭代、多环境发布。近期我们也会提供API开放平台，助力用户进行 API 资产的创建、订阅审批、鉴权及配额管理。另外，网关引擎使用的是阿里云基于Envoy开发的Higress开源项目，多云或混合云用户在阿里云上用商业化网关，在其他环境可以使用 Higress自建，我们也在规划 API的统一管理和发布能力，便于用户保持技术栈和API管理过程的统一。<br/><img src="/img/1728551748839.png" alt="image.png" referrerpolicy="no-referrer"/><br/>上图是融合后云原生API网关的功能大图，白框是已发布功能，黄框是开发中即将推出的功能，灰框是未来3～6个月内规划中能力。在基本的服务发现、路由配置、域名环境设置、安全认证、监控告警之外，用户可以进行API的设计和发布，并通过开放平台与第三方和开发者进行协同。丰富的策略可以定义在API接口或路由不同层面，用户也可以通过官方或自定义插件来进行二次扩展。 对于有弹性需求的用户，未来我们也会提供定时和基于指标自动伸缩的能力，不需要在日常预留很多机器资源，从而节省成本。最后，在使用原API网关或MSE网关的用户可能会问，现有产品的实例怎么办？ 对于这两个存量产品我们依然会保证商业化的支持，并在未来几个月提供迁移方案协助用户平滑地转移到新的网关实例。</p>
<p>那云原生 API 网关带来的最大价值是什么呢？首先，就是帮助用户进行网关架构的升级。下方左边的图是传统模式下，用户为了部署在容器上的微服务应用构建 Nginx Ingress 和 springcloud gateway两层网关，前者做流量入口，后者做南北向业务网关，也负责东西向流量。对安全有要求的用户还要在前面加上WAF。 对于C端业务，一般通过路由将服务暴露出去，并在之上进行权限和流量管控即可，用户是通过 URL 访问就可以路由到后面的正确的服务上。而对于B端业务，需要经过API网关产品进行接口细粒度的认证和限流。然后根据服务部署情况，直连后端，或者经由 ingress流量网关和微服务网关访问后端，这就导致网关的架构和部署非常复杂，徒增性能损耗，出现故障时排查难度也大增。 <br/><img src="/img/1728551749235.png" alt="image.png" referrerpolicy="no-referrer"/><br/>新网关将 API 管理、流量网关、微服务网关、安全网关合一，无论后端服务部署在哪个平台，客户业务是toC还是toB，用一套网关技术栈就搞定了，同时它集成了阿里云WAF 3.0的 数据面，流量直接在网关引擎内清洗，请求链路更短。通过这种高集成的产品，用户不需要多层网关，只需根据业务特点创建对应的实例，并进行一站式地策略设置、观测分析和问题诊断。即使有问题也不需要去摇好几波人来解决。不仅将网关的整体资源成本下降60%以上，性能和运维效率还能提升一倍以上。 另外，它基于开源项目 Higress 构建，用户无须担心厂商锁定，还能将其他云的网关进行统一纳管。</p>
<p>新网关带来的价值之二就是提升研发效率。当前开发测试同学可能会根据自身工作需要使用各种工具，比如 APIDoc、YAPI、Mockjs灯等，多个系统及工具会造成 API 规范不统一、版本错乱、文档不一致的问题。新网关使不同角色围绕在同一个平台操作，使用同一份 API 定义。它遵循 openapi 规划，支持控制台编辑和 Swagger文件导入导出，一次 API 定义，测试/预发/生产/灾备 等多个环境可以重复使用。API 各个版本的信息、发布记录也一目了然。我们还提供大语言模型辅助的API 设计、Mock 数据生成、插件代码开发、请求错误诊断，减轻开发测试同学的负担。</p>
<p><img src="/img/1728551749598.png" alt="image.png" referrerpolicy="no-referrer"/><br/>在开发流程上，一般有API优先和代码优先两种模式，前者是先设计好API，然后前后端分离，根据API约定独立开发，这时后端服务还没准备好，前端就用Mock方式进行验证。然后后端开发完毕在测试环境部署，前后端开始联调及测试，最后在生产环境进行发布。这种模式对于中大型的团队或项目，能减少开发互相等待时间。</p>
<p>而代码优先的模式，就是先做后端开发，自动或手动生成API定义，然后开发前端，再进行联调、测试最后发布线上。很多开发者习惯这种方式，对于小团队项目，确实更加敏捷。 那云原生API网关呢，也提供了不同的操作路径对这两种模式分别进行了支持，帮助用户在各阶段把 API 管控起来，促进其规范性。</p>
<a name="cCchp"></a>
<h2 id="四云原生-api-网关产品的适用场景">四、云原生 API 网关产品的适用场景</h2>
<p>下面我们来看下云原生API网关适用的场景。首先是服务暴露及流量管控。对于部署于容器上的微服务，可以一键导入K8s service 或 Nacos上注册的服务。它兼容 K8s Ingress 标准，也支持Nginx Ingress 核心注解扩展，提供精细化的路由或API管控。访问请求直连容器 Pod IP，并提供限流、预热、灰度等微服务治理能力。<br/><img src="/img/1728551749973.png" alt="image.png" referrerpolicy="no-referrer"/><br/>对于Serverless应用，云原生API网关与函数计算结合，一个函数对应一个API快速对外提供服务，并提供强大易用的鉴权和流控能力，搭建完美的Serverless计算平台。</p>
<p>另外，它支持 ACK、MSE Nacos，FC，DNS域名，IP固定地址等多种服务来源，可用于多种后端，多个集群的统一接入层，流量可以按比例或者按请求内容精准路由到不同集群，不同服务，辅以服务健康检测，fallback功能，可实现容灾多活等功能。</p>
<p>场景二是通过 API 的生命周期管理，来提升研发效率。云原生 API 网关将 API 设计和运行解耦。设计阶段，用户在控制台输入 API 定义或者导入已有的 Swagger 文件，生成 API 文档和 SDK，大家在同一个约定下进行开发、Mock、联调。利用多环境管理能力，支持不同环境归属于不同的网关实例，从而实现一套 API 定义可以发布到不同的环境，对接不同环境中的后端服务。针对 API 及其接口，支持设置不同的认证和流控策略，实现接口级别的访问控制。通过版本管理功能，可以支持 API 的升级迭代，并提供发布历史列表以便查看和回滚。最后，如果有 API 废弃不用，还可以进行下线的操作。</p>
<p><img src="/img/1728551750374.png" alt="image.png" referrerpolicy="no-referrer"/></p>
<p>第三个场景是 AI 应用的流量入口和集成平台。云原生 API 网关支持 AI 应用常见的 SSE 和 WebSocket 协议，配置更新毫秒级生效。如果使用 Ngnix Ingress，每次新增或更新一个路由，就要做Reload，造成客户端到后端服务的长链接流量受损，用户正和大模型聊着天，出现中断，非常影响体验。使用云原生 API 网关就不会出现这种情况。此外，它支持流式传输，尤其像图片、视频这种多模态，数据量是非常大的。网关通过流式处理能力能减少带宽消耗并降低响应延迟，其良好的内存回收机制可避免OOM，通过 IP/Cookie 等多维度的 CC 防护能力也可防范黑客构造慢请求进行并发攻击。<br/><img src="/img/1728551750802.png" alt="image.png" referrerpolicy="no-referrer"/><br/>另外，我们上线了丰富的 AI 插件。</p>
<ul>
<li>AI 代理插件：不同大模型，都有限速或者出现访问不稳定的情况，AI 代理插件支持主流大模型服务的协议转换，</li>
<li><strong>AI 代理插件</strong>：支持对接多数主流大型模型厂商的协议，并封装了重试、fallback 等功能，从而屏蔽底层差异。当出现被模型服务限流，或访问不稳定的情况，可按需切换模型服务。</li>
<li><strong>AI 内容审核插件</strong>：支持对接阿里云内容安全云服务，可以拦截有害语言、误导信息、歧视性言论、违法违规等内容。</li>
<li><strong>AI 统计插件</strong>：支持统计 Token 吞吐，支持实时生成 Promethus Metrics，在访问日志以及链路追踪的Span中打印相关信息。</li>
<li><strong>AI 限流插件</strong>：支持基于 Token 吞吐进行后端保护式限流，也支持面向调用租户配置精确的调用额度限制。</li>
<li><strong>AI 开发插件集</strong>：提供包含 LLM 结果缓存、提示词装饰等相关能力，可以助力AI应用的开发构建</li>
</ul>
<p>对于 AI Native 应用，除了调用大模型，还需要利用插件工具访问企业内外部的传统应用，并通过编排定义业务工作流，以呈现更丰富易用的产品形态。传统应用通过云原生 API 网关注册接口描述和提示，开放 API 能力，并屏蔽认证鉴权等复杂的细节，这样就方便大模型进行推理识别，找到合适的API进行调用，完成 Reasoning and Action 整个流程。</p>
<a name="tdku8"></a>
<h2 id="五云原生-api-网关产品的核心优势">五、云原生 API 网关产品的核心优势</h2>
<p>接下来，我们将介绍云原生 API 网关的核心优势。</p>
<a name="WnNPy"></a>
<h3 id="性能更强劲">性能更强劲</h3>
<p><img src="/img/1728551751223.png" alt="image.png" referrerpolicy="no-referrer"/></p>
<ul>
<li>常规场景下，相比 Nginx ingress，云原生 API 网关性能高出接近90%。</li>
<li>HTTPS 场景下，我们借助软硬一体技术将 TLS 处理卸载到硬件中执行，HTTPS QPS 性能提升了约112%，RT 下降约50%。</li>
<li>大数据、大流量场景下，GZip压缩可大幅降低带宽消耗，但同时也很消耗CPU资源，通过硬件加速可将 压缩/解压缩性能再提升 300%。</li>
<li>结合阿里集团内部和商业化大客户的大规模生产经验，我们从操作系统/网络/内核多个维度进行了深度调优，性能又提升了40%。</li>
</ul>
<p>所以，使用云原生 API 网关以后，不仅架构更简单、访问链路变短，并且性能要比自建高出1到5倍，实现了总体拥有成本的下降。</p>
<a name="Wtq9U"></a>
<h3 id="稳定更可靠">稳定更可靠</h3>
<p>在稳定性方面，我们在不同的阶段，也对网关进行了高可用的保障。<br/><img src="/img/1728551751634.png" alt="image.png" referrerpolicy="no-referrer"/></p>
<ul>
<li>开发态：支持内存异常检测、静态代码分析、混沌测试等。</li>
<li>运行态：支持过载保护、本地文件缓存、推空保护。例如，用户的流量突然变大，在没有做限流或者告警提示的情况下，云原生 API 网关会提供过载保护机制。另外，云原生 API 网关是控制面和数据分离的，一旦控制面发生一些小概率的故障问题，我们会通过缓存和推空保护机制，使数据面能够正常的运转，不让业务流量受到损失。同时，云原生 API 网关默认多可用区容灾，</li>
<li>变更态：云原生 API 网关在后台有很多巡检任务，能及时发现高风险事件，并提供了大盘监控和报警功能，以及滚动升级、灰度和回滚机制，来保证变更过程的稳定性。</li>
</ul>
<p>云原生 API 网关从2020年就开始服务阿里集团的内部电商业务，历经了多年双十一的海量请求和考验，每秒可以承接数10万笔请求，日请求量可达到百万级别。此外也支撑了阿里云多个 AI 业务，例如通义千问、百炼、PAI 等云产品的统一接入层，数年来无任何故障。</p>
<a name="JZzao"></a>
<h3 id="安全防护">安全防护</h3>
<p>除了稳定性，网关的安全防护能力也是用户选型网关关心较多的因素。在入口层，我们支持双向的 mTLS 认证，并集成了阿里云证书服务，对证书进行轮转更新，防止证书过期没及时更新的情况出现。默认集成并自动开启硬件加速，即将 TLS 证书的验证和卸载转移到硬件中执行，大幅提高 HTTPS 请求的性能。在登录认证上，云原生 API 网关支持 JWT/OIDC/自定义鉴权等多种认证登录机制，也提供黑白名单功能。<br/><img src="/img/1728551751955.png" alt="image.png" referrerpolicy="no-referrer"/><br/>另外，云原生 API 网关集成了阿里云的 Web 应用防火墙 (简称 WAF)，将 WAF 的数据面下沉到网关引擎中，由 WAF 来下发防护规则。这样流量就不需要到 WAF 做一次清洗，而是直接在网关上处理，清洗粒度可以控制在路由级别，并且整个流量链路更短，减少性能损耗、降低故障排查难度。此外插件市场提供了多种鉴权和防护插件，用户也可自行编程来扩展安全能力，比如请求/响应的加解密等。最后，云原生 API  网关采用数据面和控制面分离的架构，可以防止控制面的风险外溢到数据面，进一步提升安全能力。</p>
<a name="bvIo9"></a>
<h3 id="多语言扩展">多语言扩展</h3>
<p>云原生 API 网关能力扩展方面，提供了以下能力：</p>
<ul>
<li>提供了插件市场，网关的二次扩展功能均通过插件形式提供给用户，按需使用。</li>
<li>插件采用热更新机制，在沙盒中执行，插件出现问题对网关自身稳定性无影响。</li>
<li>借助 Webassembly 特性，用户可以使用多语言编写插件，同时支持 Lua 脚本。</li>
<li>网关 Wasm 插件与开源 Envoy 100%兼容，不存在锁定。</li>
<li>提供 WebIDE，可一键拉起开发环境，基于模版快速开发，以及编辑、调试，发布插件。</li>
<li>提供基于 LLM 的 AI助手，根据用户描述自动生成插件代码，降低用户门槛。</li>
</ul>
<p><img src="/img/1728551752281.png" alt="image.png" referrerpolicy="no-referrer"/></p>
<a name="P1KiV"></a>
<h3 id="api-管理中的-ai-智能化">API 管理中的 AI 智能化</h3>
<p>大家定义或测试复杂API时肯定会有很多繁杂的人工操作，比如在填写 API 响应body的JSON Schema时，一旦结构复杂非常耗时。在这里用户只需要提供一个示例，我们网关的AI助手就可以自动生成这个Json schema。而在mock的时候，AI助手又会根据 Schema自动生成各种各样的数据帮助开发进行验证。我们还在不断探索新的AI助手能力，比如API接口自动生成，插件代码生成，智能诊断近期都会与大家见面，持续地为开发和运维同学提高工作效率。</p>
<a name="TT7BV"></a>
<h2 id="六云原生-api-网关产品的最佳实践">六、云原生 API 网关产品的最佳实践</h2>
<a name="mamXD"></a>
<h3 id="api-多环境发布">API 多环境发布</h3>
<p>一个业务应用正式上线前，需要在开发/测试/预发/生产环境依次部署并完成验证，如果用户在每个环境的网关实例都去配置API接口，做版本管理，对接后端服务那就太复杂了。在云原生API网关上，可以通过 “环境”允许相同的API指向不同的后端服务。用户创建网关后系统自动提供一个默认环境，用户也可以添加新的环境，这里网关实例与环境是 1:N
的关系，比如下图里，开发和测试共用一个实例，预发使用个实例，生产环境用一个实例。每个环境系统都会提供一个二级域名，用户再将自定义的业务域名分别cname到二级域名，比如生产使用mypet.com 这个对外域名，预发和测试分别加上pre和test的前缀，测试就直接使用开发环境的二级域名。这样 API 设计是一份，发布的时候选择环境和域名，请求流量就会根据URL 自动通过对应的网关实例访问到正确的后端服务。如果搭配函数计算 FC，它可通过别名屏蔽版本变更，各环境无需重复添加函数。比如开发环境总是指向 LATEST版本，而测试、预发、生产环境的发布总是指向对应的别名，测试同学要验证的版本从v1.1.0切到v1.1.1，这时只需要更新别名到版本的映射，不需要重新发布API更改后端服务，简化操作流程。<br/><img src="/img/1728551752627.png" alt="image.png" referrerpolicy="no-referrer"/></p>
<a name="goqHM"></a>
<h3 id="构建入口高可用防线">构建入口高可用防线</h3>
<p>云原生 API 网关提供多种服务和流量治理能力，帮助用户在入口层构建业务稳定性防线。</p>
<p>网关可以支持蓝绿发布，并和 MSE 微服务治理结合实现全链路灰度，例如，后端服务发布新版本后，网关可以按照比例，或者请求的 Header 或 Cookie，将特定的流量引到灰度版本，以快速验证。遇到问题再切回基线版本，以避免发版引起的故障。<br/><img src="/img/1728551753073.png" alt="image.png" referrerpolicy="no-referrer"/><br/>在服务运行的时候，云原生 API 网关支持无损上下线。当服务提供者的部分节点正在下线时，网关能主动将下线的服务节点剔除掉，将所有的请求流量路由到了正常运行的节点中，实现流量无损。针对发布或扩容场景，Java 应用节点在启动时会有类加载、连接池预热的过程比较耗时间，一开始就承载很大的业务流量可能会被打挂。网关服务管理中的负载均衡策略中可设置预热时间，将流量逐渐增大，给予新节点足够的预热时间保证其稳定性。</p>
<p>此外，云原生 API 网关支持限流策略，包括路由、服务、甚至针对 API 接口颗粒度进行流量限制，用户还可以通过插件实现自定义的限流策略。比如刚刚我们提到的针对大语言模型的 Token 限流能力。路由规则、插件的更新，均支持热更新，以保证 AI 场景下长连接的不受损。</p>
<a name="tGWVi"></a>
<h2 id="七云原生-api-网关产品的创建过程">七、云原生 API 网关产品的创建过程</h2>
<p>最后，我们再来简单介绍云原生 API 网关的两种创建过程。</p>
<a name="TyyuO"></a>
<h3 id="通过路由对外提供服务">通过路由对外提供服务</h3>
<p>创建网关实例之后，用户可以将自定义域名绑定到网关的访问地址，然后根据后端服务是否通过 ACK 或 Nacos 来提供服务发现，决定是否要先创建服务来源。有了服务后，开始创建路由，配置限流、重启、超时等策略，并根据业务需要配置认证方式，最后发布路由，并进行测试。<br/><img src="/img/1728551753525.png" alt="image.png" referrerpolicy="no-referrer"/><br/>云原生 API 网关提供了两种配置方式，一种是白屏化控制台，一种是 K8s Yaml 来创建路由资源。如果使用后者，用户在网关控制台创建服务来源时选中监听 K8s Ingress 资源，在容器服务侧配置的 Ingress 规则会自动同步到 云原生 API 网关 生效。云原生 API 网关兼容 K8s Ingress 规范，支持 Nginx Ingress 核心注解的无缝转换。用户可以像使用 Nginx Ingress 一样在容器服务侧进行路由管理。</p>
<a name="U4DBi"></a>
<h3 id="设计-api-并通过接口对外提供服务">设计 API 并通过接口对外提供服务</h3>
<p>如果用户需要进行 API 优先的开发流程，那么需要先设计 API，然后通过 API 接口对外提供服务。<br/><img src="/img/1728551753922.png" alt="image.png" referrerpolicy="no-referrer"/><br/>用户在 API 的管理页面，创建 API 并添加接口，研发就能以 API 文档为中心，进行前后端和测试的协同。开发完后，我们将服务添加到网关。如果是 ACK Service 或 Nacos 的服务来源，就先创建服务来源，再添加服务。如果不是，则可以在发布 API 的时候，直接指向后端的服务，然后去配置相应的认证和 API 限流策略，最后发布并测试。在 API 列表的页面，我们可以看到各个接口的统一视图，进行多版本的查看和编辑，并设置丰富的策略。以便以统一的视角去管理不同环境的 API，提高开发和发布效率。</p>  </div> </main> </div> </span> <div class="pb-6"> <div class="pagination-links astro-u2l5gyhi"> <a href="/blog/higress-gvr7dx_awbbpb_veqvz22q07nx7m2z/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-u2l5gyhi"> 上一篇 <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">AI 时代，网关的发展趋势和实践</span> </span> </a> <a href="/blog/higress-gvr7dx_awbbpb_bo9gbceraxmft62n/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> 下一篇 <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Wasm 实现 Higress 扩展，性能是 Spring Cloud Gateway 的 3 倍！</span> </span> </a> </div>  </div> </div> <div class="right-sidebar-panel fixed h-full hidden 2xl:inline-block xl:inline-block"> <div id="toggle-sidebar"> <span class="not-content"><a class="btn btn btn-secondary px-2 no-underline" id="toggle-btn"> <svg aria-hidden="true" class="right_caret text-lg align-middle rotate-180 astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </a></span> </div> <span class="toc-component-wrapper" style="--depth: 0;"> <markdown-toc data-min-h="1" data-max-h="4" class="isMobile" style="--depth: 0;"> <nav aria-labelledby="starlight__on-this-page" class="starlight__on-this-page" style="--depth: 0;"> <h2 id="starlight__on-this-page" class="heading" style="--depth: 0;"> 本页内容 </h2> <span class="table-of-contents-wrapper" style="--depth: 0;"> <ul style="--depth: 0;"> <li style="--depth: 0;"> <a href="#_top" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">概述</span> </a>  </li><li style="--depth: 0;"> <a href="#一应用网关的发展历程与未来趋势" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">一、应用网关的发展历程与未来趋势</span> </a>  </li><li style="--depth: 0;"> <a href="#二规范的-api-带来的业务价值" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">二、规范的 API 带来的业务价值</span> </a>  </li><li style="--depth: 0;"> <a href="#三阿里云-api-网关产品的演进历程" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">三、阿里云 API 网关产品的演进历程</span> </a>  </li><li style="--depth: 0;"> <a href="#四云原生-api-网关产品的适用场景" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">四、云原生 API 网关产品的适用场景</span> </a>  </li><li style="--depth: 0;"> <a href="#五云原生-api-网关产品的核心优势" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">五、云原生 API 网关产品的核心优势</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#性能更强劲" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">性能更强劲</span> </a>  </li><li style="--depth: 1;"> <a href="#稳定更可靠" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">稳定更可靠</span> </a>  </li><li style="--depth: 1;"> <a href="#安全防护" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">安全防护</span> </a>  </li><li style="--depth: 1;"> <a href="#多语言扩展" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">多语言扩展</span> </a>  </li><li style="--depth: 1;"> <a href="#api-管理中的-ai-智能化" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">API 管理中的 AI 智能化</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#六云原生-api-网关产品的最佳实践" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">六、云原生 API 网关产品的最佳实践</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#api-多环境发布" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">API 多环境发布</span> </a>  </li><li style="--depth: 1;"> <a href="#构建入口高可用防线" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">构建入口高可用防线</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#七云原生-api-网关产品的创建过程" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">七、云原生 API 网关产品的创建过程</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#通过路由对外提供服务" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">通过路由对外提供服务</span> </a>  </li><li style="--depth: 1;"> <a href="#设计-api-并通过接口对外提供服务" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">设计 API 并通过接口对外提供服务</span> </a>  </li> </ul> </span>  </li> </ul> </span>  </nav> </markdown-toc> </span>   </div> </div>   </body> </html> </span>  