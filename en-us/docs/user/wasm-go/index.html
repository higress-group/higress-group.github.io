<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-user/wasm-go">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Developing a WASM plugin with Golang | Higress</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://higress.io/en-us/img/higress_logo_small.png"><meta data-rh="true" name="twitter:image" content="https://higress.io/en-us/img/higress_logo_small.png"><meta data-rh="true" property="og:url" content="https://higress.io/en-us/docs/user/wasm-go"><meta data-rh="true" name="docusaurus_locale" content="en-us"><meta data-rh="true" name="docsearch:language" content="en-us"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developing a WASM plugin with Golang | Higress"><meta data-rh="true" name="description" content="Developing a WASM plugin with Golang"><meta data-rh="true" property="og:description" content="Developing a WASM plugin with Golang"><meta data-rh="true" name="keywords" content="wasm"><link data-rh="true" rel="icon" href="/en-us/img/higress_logo_small.png"><link data-rh="true" rel="canonical" href="https://higress.io/en-us/docs/user/wasm-go"><link data-rh="true" rel="alternate" href="https://higress.io/en-us/docs/user/wasm-go" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://higress.io/zh-cn/docs/user/wasm-go" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://higress.io/docs/user/wasm-go" hreflang="default"><link data-rh="true" rel="alternate" href="https://higress.io/docs/user/wasm-go" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/en-us/blog/rss.xml" title="Higress RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en-us/blog/atom.xml" title="Higress Atom Feed">




<link rel="stylesheet" href="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.css">
<script src="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.js"></script>
<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-YHS75WKFBR" async></script><link rel="stylesheet" href="/en-us/assets/css/styles.d24e4978.css">
<link rel="preload" href="/en-us/assets/js/runtime~main.9a9c6132.js" as="script">
<link rel="preload" href="/en-us/assets/js/main.a78e6811.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en-us/"><div class="navbar__logo"><img src="//img.alicdn.com/imgextra/i1/O1CN01I7WjVs1K33EQjInid_!!6000000001107-2-tps-960-290.png" alt="Higress logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="//img.alicdn.com/imgextra/i1/O1CN01I7WjVs1K33EQjInid_!!6000000001107-2-tps-960-290.png" alt="Higress logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/en-us/">HOME</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en-us/docs/overview/what-is-higress">DOCS</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">HIGRESS IN CLOUD</a><ul class="dropdown__menu"><li><a href="https://www.aliyun.com/product/aliware/mse?spm=higress-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="dropdown__link">INTRO</a></li><li><a href="https://developer.aliyun.com/mission/higress" target="_blank" rel="noopener noreferrer" class="dropdown__link">PRODUCT REVIEW</a></li><li><a href="https://free.aliyun.com/?searchKey=云原生网关&amp;spm=higress-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="dropdown__link">CLOUD FREE TRIAL</a></li></ul></div><a href="https://survey.aliyun.com/apps/zhiliao/SmDQwdihe" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">CASE COLLECTION</a><a class="navbar__item navbar__link" href="/en-us/docs/developers/developers_dev">DEVELOPERS</a><a class="navbar__item navbar__link" href="/en-us/blog">BLOG</a><a class="navbar__item navbar__link" href="/en-us/community">COMMUNITY</a><a href="https://github.com/alibaba/higress/releases" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DOWNLOAD</a><a href="http://demo.higress.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DEMO</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>En</a><ul class="dropdown__menu"><li><a href="/en-us/docs/user/wasm-go" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">En</a></li><li><a href="/zh-cn/docs/user/wasm-go" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中</a></li></ul></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Overview</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/overview/what-is-higress">What Is Higress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/overview/roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/overview/faq">Higress FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/overview/terminology">Higress Terminology</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">User Doc</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/user/quickstart">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en-us/docs/user/configmap">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en-us/docs/plugins/intro">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/en-us/docs/user/wasm-go">Parameters Configurations Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en-us/docs/user/wasm-go">Developing a WASM plugin with Golang</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/user/kruise-rollout">OpenKruise Rollout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/user/nacos-route">Nacos Route</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/user/spring-cloud">SpringCloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/user/dubbo">Higress Dubbo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/user/prometheus">Request Monitoring Based on Prometheus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/user/waf">WAF</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Ops</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en-us/docs/ops/deploy-by-helm">Deploy</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/ops/upgrade">Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/ops/log">Log</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/dev/code">Code Reading Instructions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/dev/architecture">Higress Architecture Description</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en-us/docs/dev/CustomResourceDefinition">Higress Custom CRD Development Guidelines</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en-us/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Doc</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Parameters Configurations Guide</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developing a WASM plugin with Golang</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Implement a WASM plugin with Golang</h1><h1>1. Prepare Development Tools</h1><p>First, install Golang and Tinygo.</p><a name="a81fa"></a>## 1. Golang Min Version: 1.18<br>Official download link: [https://go.dev/doc/install](https://go.dev/doc/install)<a name="JFoN6"></a>### Windows<ol><li>Download the installer: <a href="https://go.dev/dl/go1.19.windows-amd64.msi" target="_blank" rel="noopener noreferrer">https://go.dev/dl/go1.19.windows-amd64.msi</a></li><li>Run the downloaded installer to start the installation. It will be installed to <code>Program Files</code> or <code>Program Files (x86)</code> folder by default.</li><li>After completed the installation, open &quot;Run&quot; dialog with hotkey &quot;Win+R&quot;. Type &quot;cmd&quot; in the dialog and click &quot;OK&quot; to open Command Line Prompt. Type: <code>go version</code>. If version info is displayed, the package has been successfully installed.<a name="tavPX"></a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="macos">MacOS<a href="#macos" class="hash-link" aria-label="Direct link to MacOS" title="Direct link to MacOS">​</a></h3><ol><li>Download the installer: <a href="https://go.dev/dl/go1.19.darwin-amd64.pkg" target="_blank" rel="noopener noreferrer">https://go.dev/dl/go1.19.darwin-amd64.pkg</a></li><li>Run the downloaded installer to start the installation. It will be installed to <code>/usr/local/go</code> folder by default.</li><li>Open Terminal and type: <code>go version</code>. If version info is displayed, the package has been successfully installed.<a name="olPlT"></a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Direct link to Linux" title="Direct link to Linux">​</a></h3><ol><li>Download the installer: <a href="https://go.dev/dl/go1.19.linux-amd64.tar.gz" target="_blank" rel="noopener noreferrer">https://go.dev/dl/go1.19.linux-amd64.tar.gz</a></li><li>Execute following commands to start the installation:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -rf /usr/local/go </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -C /usr/local -xzf go1.19.linux-amd64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token plain">:/usr/local/go/bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Execute <code>go version</code>. If version info is displayed, the package has been successfully installed.</li></ol><a name="qugm0"></a>## 2. TinyGo Min Version: 0.25.0<br>Official download link: [https://tinygo.org/getting-started/install/](https://tinygo.org/getting-started/install/)<a name="ELNis"></a>### Windows<ol><li>Download the package: <a href="https://github.com/tinygo-org/tinygo/releases/download/v0.25.0/tinygo0.25.0.windows-amd64.zip" target="_blank" rel="noopener noreferrer">https://github.com/tinygo-org/tinygo/releases/download/v0.25.0/tinygo0.25.0.windows-amd64.zip</a></li><li>Unpack the package to the target folder</li><li>If the package is unpacked to folder <code>C:\tinygo</code>, you need to add <code>C:\tinygo\bin</code> into the environment variable <code>PATH</code>, using set command in Command Line Prompt for example.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">%</span><span class="token environment constant" style="color:#36acaa">PATH</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">;</span><span class="token string" style="color:#e3116c">&quot;C:</span><span class="token string entity" style="color:#36acaa">\t</span><span class="token string" style="color:#e3116c">inygo</span><span class="token string entity" style="color:#36acaa">\b</span><span class="token string" style="color:#e3116c">in&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Execute <code>tinygo version</code> command in Command Line Prompt. If version info is displayed, the package has been successfully installed.<a name="iCo9z"></a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="macos-1">MacOS<a href="#macos-1" class="hash-link" aria-label="Direct link to MacOS" title="Direct link to MacOS">​</a></h3><ol><li>Download and unpack the package</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/tinygo-org/tinygo/releases/download/v0.25.0/tinygo0.25.0.darwin-amd64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -zxf tinygo0.25.0.darwin-amd64.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>If the package is unpacked to folder <code>/tmp</code>, you need to add <code>/tmp/tinygo/bin</code> to the environment variable <code>PATH</code>:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/tmp/tinygo/bin:</span><span class="token environment constant" style="color:#36acaa">$PATH</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Execute command <code>tinygo version</code> in Terminal.  If version info is displayed, the package has been successfully installed.<a name="hNZeF"></a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux-1">Linux<a href="#linux-1" class="hash-link" aria-label="Direct link to Linux" title="Direct link to Linux">​</a></h3><p>Following steps are based on Ubuntu AMD64. For other OSes, please refer to the official document.</p><ol><li>Download and install the DEB package.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/tinygo-org/tinygo/releases/download/v0.25.0/tinygo_0.25.0_amd64.deb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dpkg -i tinygo_0.25.0_amd64.deb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token plain">:/usr/local/bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Execute command <code>tinygo version</code> in Terminal. If version info is displayed, the package has been successfully installed.</li></ol><a name="QZbcA"></a># 2. Write a plugin<a name="u83FM"></a>## 1. Initialize the project<p>You can create your wasm-go plugin directory in the repo <a href="https://github.com/alibaba/higress" target="_blank" rel="noopener noreferrer">higress</a>&#x27;s <a href="https://github.com/alibaba/higress/tree/main/plugins/wasm-go" target="_blank" rel="noopener noreferrer">plugins/wasm-go</a>
that you can use the scaffolding tools provided in this directory（see 1.1）；
or create a new directory for your Go project yourself(see 1.2).
If you are developing wasm-go plugins for the first time, it is recommended to take the former.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-create-wasm-go-plugin-in-pluginswasm-go">1.1 create wasm-go plugin in <a href="https://github.com/alibaba/higress/tree/main/plugins/wasm-go" target="_blank" rel="noopener noreferrer">plugins/wasm-go</a><a href="#11-create-wasm-go-plugin-in-pluginswasm-go" class="hash-link" aria-label="Direct link to 11-create-wasm-go-plugin-in-pluginswasm-go" title="Direct link to 11-create-wasm-go-plugin-in-pluginswasm-go">​</a></h3><ol><li><code>git clone https://github.com/alibaba/higress.git</code>, to clone project to local；</li><li><code>cd plugins/wasm-go; mkdir wasm-demo-go</code>, to go to the project&#x27;s plugins/wasm-go directory and create the wasm-demo-go directory.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-create-a-new-project-yourself">1.2 create a new project yourself<a href="#12-create-a-new-project-yourself" class="hash-link" aria-label="Direct link to 1.2 create a new project yourself" title="Direct link to 1.2 create a new project yourself">​</a></h3><ol><li>Create a new folder for the project. For example: <code>wasm-demo-go</code>.</li><li>Execute following commands in the new folder to initialize the Go project:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go mod init wasm-demo-go</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>If you are in the Chinese mainland, you may need to set a proxy for downloading dependencies.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go </span><span class="token function" style="color:#d73a49">env</span><span class="token plain"> -w </span><span class="token assign-left variable" style="color:#36acaa">GOPROXY</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://proxy.golang.com.cn,direct</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Download dependencies for plugin building. </li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go get github.com/tetratelabs/proxy-wasm-go-sdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go get github.com/alibaba/higress/plugins/wasm-go@main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go get github.com/tidwall/gjson</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><a name="Z2lFM"></a>## 2. Write main.go You can find a simple sample below, which provides following functions: 1. If `mockEnable` is set to `true`, send `hello world` directly as the response. 2. If `mockEnable` is not set or set to `false`, add an extra HTTP header `hello: world` to the original request. More samples can be found in section 4 below.<blockquote><p>Note: Plugin configurations use YAML format in the gateway console. But plugins receive them in JSON format. So in the sample below, actual config data are extracted from JSON by the <code>parseConfig</code> function.</p></blockquote><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/alibaba/higress/plugins/wasm-go/pkg/wrapper&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tetratelabs/proxy-wasm-go-sdk/proxywasm&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tetratelabs/proxy-wasm-go-sdk/proxywasm/types&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tidwall/gjson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        wrapper.SetCtx(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Plugin name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;my-plugin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // A custom function for parsing plugin configurations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                wrapper.ParseConfigBy(parseConfig),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // A custom function for processing request headers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                wrapper.ProcessRequestHeadersBy(onHttpRequestHeaders),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Custom plugin configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type MyConfig struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mockEnable bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Plugin configurations set in the console with YAML format will be converted to JSON. So we just need to parse config data from JSON.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func parseConfig(json gjson.Result, config *MyConfig, log wrapper.Log) error {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Get the configuration property and set to the config object.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.mockEnable = json.Get(&quot;mockEnable&quot;).Bool()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func onHttpRequestHeaders(ctx wrapper.HttpContext, config MyConfig, log wrapper.Log) types.Action {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxywasm.AddHttpRequestHeader(&quot;hello&quot;, &quot;world&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if config.mockEnable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                proxywasm.SendHttpResponse(200, nil, []byte(&quot;hello world&quot;), -1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return types.ActionContinue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><a name="SYNZJ"></a>### HTTP Processing Pointcuts In the sample above, `wrapper.ProcessRequestHeadersBy` applies custom function `onHttpRequestHeaders` when processing requests in`HTTP request header processing stage`. Besides that, you can use following methods to set custom processing functions for various stages.<table><thead><tr><th>HTTP Processing Stage</th><th>Trigger Time</th><th>Pointcut Mounting Method</th></tr></thead><tbody><tr><td>HTTP request header processing stage</td><td>When gateway receives request headers from client</td><td>wrapper.ProcessRequestHeadersBy</td></tr><tr><td>HTTP request body processing stage</td><td>When gateway receives request body from client</td><td>wrapper.ProcessRequestBodyBy</td></tr><tr><td>HTTP response header processing stage</td><td>When gateway receives response headers from upstream</td><td>wrapper.ProcessResponseHeadersBy</td></tr><tr><td>HTTP response body processing stage</td><td>When gateway receives response body from upstream</td><td>wrapper.ProcessResponseBodyBy</td></tr></tbody></table><a name="r6rK5"></a>### Utility Functions In the sample above, `proxywasm.AddHttpRequestHeader` and `proxywasm.SendHttpResponse` are two utility methods provided by the plugin SDK. You can find major utility functions in the table below:<table><thead><tr><th>Category</th><th>Name</th><th>Usage</th><th>Available<br>HTTP Processing Stage(s)</th></tr></thead><tbody><tr><td>Request Header Processing</td><td>GetHttpRequestHeaders</td><td>Get all the request headers sent by the client</td><td>HTTP request header processing stage</td></tr><tr><td></td><td>ReplaceHttpRequestHeaders</td><td>Replace all headers in the request.</td><td>HTTP request header processing stage</td></tr><tr><td></td><td>GetHttpRequestHeader</td><td>Get the specified header in the request.</td><td>HTTP request header processing stage</td></tr><tr><td></td><td>RemoveHttpRequestHeader</td><td>Remove the specified header from the request.</td><td>HTTP request header processing stage</td></tr><tr><td></td><td>ReplaceHttpRequestHeader</td><td>Replace the specified header in the response.</td><td>HTTP request header processing stage</td></tr><tr><td></td><td>AddHttpRequestHeader</td><td>Add a new header to the request.</td><td>HTTP request header processing stage</td></tr><tr><td>Request Body Processing</td><td>GetHttpRequestBody</td><td>Get the request body received from client.</td><td>HTTP request body processing stage</td></tr><tr><td></td><td>AppendHttpRequestBody</td><td>Append the specified binary data to the request body.</td><td>HTTP request body processing stage</td></tr><tr><td></td><td>PrependHttpRequestBody</td><td>Prepend the specified binary data to the request body.</td><td>HTTP request body processing stage</td></tr><tr><td></td><td>ReplaceHttpRequestBody</td><td>Replace the entire request body received from client.</td><td>HTTP request body processing stage</td></tr><tr><td>Response Header Processing</td><td>GetHttpResponseHeaders</td><td>Get all the response headers received from upstream.</td><td>HTTP response header processing stage</td></tr><tr><td></td><td>ReplaceHttpResponseHeaders</td><td>Replace all headers in the response.</td><td>HTTP response header processing stage</td></tr><tr><td></td><td>GetHttpResponseHeader</td><td>Get the specified header in the response.</td><td>HTTP response header processing stage</td></tr><tr><td></td><td>RemoveHttpResponseHeader</td><td>Remove the specified header from the response.</td><td>HTTP response header processing stage</td></tr><tr><td></td><td>ReplaceHttpResponseHeader</td><td>Replace the specified header in the response.</td><td>HTTP response header processing stage</td></tr><tr><td></td><td>AddHttpResponseHeader</td><td>Add a new header to the response.</td><td>HTTP response header processing stage</td></tr><tr><td>Response Body Processing</td><td>GetHttpResponseBody</td><td>Get the response body received from upstream.</td><td>HTTP response body processing stage</td></tr><tr><td></td><td>AppendHttpResponseBody</td><td>Append the specified binary data to the response body.</td><td>HTTP response body processing stage</td></tr><tr><td></td><td>PrependHttpResponseBody</td><td>Prepend the specified binary data to the response body.</td><td>HTTP response body processing stage</td></tr><tr><td></td><td>ReplaceHttpResponseBody</td><td>Replace the entire response body with specific data.</td><td>HTTP response body processing stage</td></tr><tr><td>HTTP Call</td><td>DispatchHttpCall</td><td>Send an HTTP request.</td><td>-</td></tr><tr><td></td><td>GetHttpCallResponseHeaders</td><td>Get the response headers associated with a DispatchHttpCall call.</td><td>-</td></tr><tr><td></td><td>GetHttpCallResponseBody</td><td>Get the response body associated with a DispatchHttpCall call.</td><td>-</td></tr><tr><td></td><td>GetHttpCallResponseTrailers</td><td>Get the response trailer associated with a DispatchHttpCall call.</td><td>-</td></tr><tr><td>Respond Directly</td><td>SendHttpResponse</td><td>Return a specific HTTP response immediately.</td><td>-</td></tr><tr><td>Process Resuming</td><td>ResumeHttpRequest</td><td>Resume the request processing workflow paused before.</td><td>-</td></tr><tr><td></td><td>ResumeHttpResponse</td><td>Resume the response processing workflow paused before.</td><td>-</td></tr></tbody></table><a name="GAa0T"></a>## 3. Build WASM file If your project directory is in the [plugins/wasm-go](https://github.com/alibaba/higress/tree/main/plugins/wasm-go) directory See 3.1; if you are using a self-initialized directory, see 3.2.<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-building-wasm-go-plugin-image-with-scaffolding">3.1 Building wasm-go plugin image with scaffolding<a href="#31-building-wasm-go-plugin-image-with-scaffolding" class="hash-link" aria-label="Direct link to 3.1 Building wasm-go plugin image with scaffolding" title="Direct link to 3.1 Building wasm-go plugin image with scaffolding">​</a></h3><p>The wasm-go plugin can be built quickly with the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token assign-left variable" style="color:#36acaa">PLUGIN_NAME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">wasm-demo-go </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image:            wasm-demo-go:20230223-173305-3b1a471</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output wasm file: extensions/wasm-demo-go/plugin.wasm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command eventually builds a wasm file and a Docker image.
This local wasm file is exported to the specified plugin&#x27;s directory and can be used directly for local debugging.
You can also use <code>make build-push</code> to build and push the image together.
See <a href="https://github.com/alibaba/higress/tree/main/plugins/wasm-go" target="_blank" rel="noopener noreferrer">plugins/wasm-go</a> for more.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-compile-wasm-files-locally">3.2 Compile wasm files locally<a href="#32-compile-wasm-files-locally" class="hash-link" aria-label="Direct link to 3.2 Compile wasm files locally" title="Direct link to 3.2 Compile wasm files locally">​</a></h3><p>Execute the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tinygo build -o main.wasm -scheduler</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">none -target</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">wasi ./main.go</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A new file named main.wasm will be created after a successful compilation, which will be used in the local debugging sample below as well.<br>When using custom plugin function in the cloud native gateway market, you just need to upload this file.</p><a name="yJdN5"></a># 3. Local Debugging<p>TBD</p><h1>More Samples</h1><a name="vdifW"></a>## Plugin with No Configuration If the plugin needs no configuration, just define an empty config struct.<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/alibaba/higress/plugins/wasm-go/pkg/wrapper&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tetratelabs/proxy-wasm-go-sdk/proxywasm&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tetratelabs/proxy-wasm-go-sdk/proxywasm/types&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        wrapper.SetCtx(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;hello-world&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                wrapper.ProcessRequestHeadersBy(onHttpRequestHeaders),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type MyConfig struct {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func onHttpRequestHeaders(ctx wrapper.HttpContext, config MyConfig, log wrapper.Log) types.Action {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxywasm.SendHttpResponse(200, nil, []byte(&quot;hello world&quot;), -1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return types.ActionContinue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><a name="dSdLn"></a>## Send Requests to External Services in the Plugin Only HTTP requests are supported for now. You can send requests to Nacos and K8s services with service sources configured in the gateway console, and services with a static IP or DNS source. Please be noted, HTTP client in the `net/http` package cannot be used here. You only use the wrapped HTTP client as shown in the sample below.<br>In the following sample works as below: 1. Parse service type in the config parsing stage, and generate the corresponding HTTP client. 2. In the HTTP request header processing stage, send a service request to the configured URL. 3. Parse response headers and get token value using the specified key. 4. Set the token value to the headers of the original request.<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;errors&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;net/http&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;strings&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/alibaba/higress/plugins/wasm-go/pkg/wrapper&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tetratelabs/proxy-wasm-go-sdk/proxywasm&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tetratelabs/proxy-wasm-go-sdk/proxywasm/types&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;github.com/tidwall/gjson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wrapper.SetCtx(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;http-call&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        wrapper.ParseConfigBy(parseConfig),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        wrapper.ProcessRequestHeadersBy(onHttpRequestHeaders),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type MyConfig struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // The client used to initiate an HTTP request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    client      wrapper.HttpClient</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Request URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    requestPath string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Use this key when extracting token header from the service response and setting a header to the request. The value is configurable.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tokenHeader string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func parseConfig(json gjson.Result, config *MyConfig, log wrapper.Log) error {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config.tokenHeader = json.Get(&quot;tokenHeader&quot;).String()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if config.tokenHeader == &quot;&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return errors.New(&quot;missing tokenHeader in config&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config.requestPath = json.Get(&quot;requestPath&quot;).String()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if config.requestPath == &quot;&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return errors.New(&quot;missing requestPath in config&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serviceSource := json.Get(&quot;serviceSource&quot;).String()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If serviceSource is set to &quot;ip&quot; or &quot;dns&quot;, serviceName shall be specified when creating the service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If serviceSource is set to &quot;nacos&quot; or &quot;k8s&quot;, serviceName shall be set to the original name specified when registering the service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serviceName := json.Get(&quot;serviceName&quot;).String()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    servicePort := json.Get(&quot;servicePort&quot;).Int()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if serviceName == &quot;&quot; || servicePort == 0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return errors.New(&quot;invalid service config&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    switch serviceSource {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case &quot;k8s&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        namespace := json.Get(&quot;namespace&quot;).String()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.client = wrapper.NewClusterClient(wrapper.K8sCluster{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ServiceName: serviceName,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Namespace:   namespace,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Port:        servicePort,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case &quot;nacos&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        namespace := json.Get(&quot;namespace&quot;).String()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.client = wrapper.NewClusterClient(wrapper.NacosCluster{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ServiceName: serviceName,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            NamespaceID: namespace,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Port:        servicePort,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case &quot;ip&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.client = wrapper.NewClusterClient(wrapper.StaticIpCluster{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ServiceName: serviceName,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Port:        servicePort,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    case &quot;dns&quot;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        domain := json.Get(&quot;domain&quot;).String()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.client = wrapper.NewClusterClient(wrapper.DnsCluster{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ServiceName: serviceName,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Port:        servicePort,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Domain:      domain,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return errors.New(&quot;unknown service source: &quot; + serviceSource)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func onHttpRequestHeaders(ctx wrapper.HttpContext, config MyConfig, log wrapper.Log) types.Action {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Use the Get function of the client to initiate an HTTP Get request.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // The timeout parameter is omitted here, whose default value is 500ms.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config.client.Get(config.requestPath, nil,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // A callback function which will be called asynchronously when receiving the response.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        func(statusCode int, responseHeaders http.Header, responseBody []byte) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Process the response with a status code other than 200.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if statusCode != http.StatusOK {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                log.Errorf(&quot;http call failed, status: %d&quot;, statusCode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                proxywasm.SendHttpResponse(http.StatusInternalServerError, nil,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    []byte(&quot;http call failed&quot;), -1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Print out the status code and response body</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            log.Infof(&quot;get status: %d, response body: %s&quot;, statusCode, responseBody)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Extract token value from the response header and set the header of the original request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            token := responseHeaders.Get(config.tokenHeader)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if token != &quot;&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                proxywasm.AddHttpRequestHeader(config.tokenHeader, token)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Resume the original request processing workflow. Continue the process, so the request can be forwarded to the upstream.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            proxywasm.ResumeHttpRequest()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // We need to wait for the callback to finish its process.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Return Pause action here to pause the request processing workflow, which can be resumed by a ResumeHttpRequest call.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return types.ActionPause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/higress-group/higress-group.github.io/blob/main/i18n/zh-cn/docusaurus-plugin-content-docs/current/user/wasm-go.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en-us/docs/plugins/waf"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">waf</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en-us/docs/user/kruise-rollout"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OpenKruise Rollout</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#macos" class="table-of-contents__link toc-highlight">MacOS</a></li><li><a href="#linux" class="table-of-contents__link toc-highlight">Linux</a></li><li><a href="#macos-1" class="table-of-contents__link toc-highlight">MacOS</a></li><li><a href="#linux-1" class="table-of-contents__link toc-highlight">Linux</a></li><li><a href="#11-create-wasm-go-plugin-in-pluginswasm-go" class="table-of-contents__link toc-highlight">1.1 create wasm-go plugin in plugins/wasm-go</a></li><li><a href="#12-create-a-new-project-yourself" class="table-of-contents__link toc-highlight">1.2 create a new project yourself</a></li><li><a href="#31-building-wasm-go-plugin-image-with-scaffolding" class="table-of-contents__link toc-highlight">3.1 Building wasm-go plugin image with scaffolding</a></li><li><a href="#32-compile-wasm-files-locally" class="table-of-contents__link toc-highlight">3.2 Compile wasm files locally</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Vision</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en-us/">Higress is ...</a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en-us/docs/overview/what-is-higress">What is Higress?</a></li><li class="footer__item"><a class="footer__link-item" href="/en-us/docs/user/quickstart">Quick Start</a></li><li class="footer__item"><a href="https://github.com/higress-group/higress-group.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a doc issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/higress-group/higress-group.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Edit This Page on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en-us/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/en-us/community">Community</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="//img.alicdn.com/imgextra/i2/O1CN01oNTGgE1lfW7oEPIzP_!!6000000004846-2-tps-960-290.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="120" height="36"><img src="//img.alicdn.com/imgextra/i2/O1CN01oNTGgE1lfW7oEPIzP_!!6000000004846-2-tps-960-290.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="120" height="36"></div><div class="footer__copyright">Copyright © 2023 Higress<br>浙公网安备 33011002016922号 浙ICP备12022327号-1119</div></div></div></footer></div>
<script src="/en-us/assets/js/runtime~main.9a9c6132.js"></script>
<script src="/en-us/assets/js/main.a78e6811.js"></script>
</body>
</html>