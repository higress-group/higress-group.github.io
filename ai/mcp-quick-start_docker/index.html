<!DOCTYPE html><html lang="zh-cn" data-theme="light"> <head><meta charset="utf-8"><!-- @ts-ignore --><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"> <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>MCP Server 快速开始（Docker 版）_AI-Higress官网</title><link rel="canonical" href="https://higress.cn/ai/mcp-quick-start_docker/"/><link rel="alternate" hreflang="zh-CN" href="https://higress.cn/ai/mcp-quick-start_docker/"/><link rel="alternate" hreflang="en" href="https://higress.cn/en/ai/mcp-quick-start_docker/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/higress_logo.png" type="image/png"/><meta name="aplus-core" content="aplus.js"/><meta property="og:title" content="MCP Server 快速开始（Docker 版）_AI"/><meta property="og:type" content="article"/><meta property="og:url" content="https://higress.cn/ai/mcp-quick-start_docker/"/><meta property="og:locale"/><meta property="og:site_name" content="Higress"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="MCP Server 快速开始（Docker 版）_AI"/><meta name="baidu-site-verification" content="codeva-x6yW4DqCn3"/><meta name="msvalidate.01" content="418883CE9AE2CAD01E7FC1A7B9F20801"/><meta name="twitter:description" content="Higress AI 网关提供 MCP Server 统一托管能力，可以帮助 AI Agent 快速对接各类数据源。通过 MCP Server，AI Agent 可以方便地访问数据库、REST API 等外部服务，无需关心具体的连接细节。其中，数据库对接能力是网关内置的能力；而对于 REST API，任何外部 REST API 都可以通过简单的配置转换成 MCP Server"/><meta name="description" content="Higress AI 网关提供 MCP Server 统一托管能力，可以帮助 AI Agent 快速对接各类数据源。通过 MCP Server，AI Agent 可以方便地访问数据库、REST API 等外部服务，无需关心具体的连接细节。其中，数据库对接能力是网关内置的能力；而对于 REST API，任何外部 REST API 都可以通过简单的配置转换成 MCP Server"/><meta property="og:description" content="Higress AI 网关提供 MCP Server 统一托管能力，可以帮助 AI Agent 快速对接各类数据源。通过 MCP Server，AI Agent 可以方便地访问数据库、REST API 等外部服务，无需关心具体的连接细节。其中，数据库对接能力是网关内置的能力；而对于 REST API，任何外部 REST API 都可以通过简单的配置转换成 MCP Server"/><meta property="keywords" content="AI Gateway,AI 网关,AI Proxy,API Gateway,API 网关"/> <!--初始化SDK-->   <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-YHS75WKFBR"></script> <meta name="generator" content="Astro v4.9.1"><meta name="robots" content="index, follow"><meta name="applicable-device" content="pc,mobile"><meta property="og:image" content="https://img.alicdn.com/imgextra/i1/O1CN01Q9UWyF23bY1R0U0KE_!!6000000007274-2-tps-2560-1440.png"><link data-rh="true" rel="icon" href="https://img.alicdn.com/imgextra/i4/O1CN01AViQMJ1J2lY4OPRgv_!!6000000000971-2-tps-376-375.png"><link rel="stylesheet" href="/_astro/_page_.8CUVaieU.css">
<style>.table-of-contents-wrapper ul{padding:0;list-style:none}.table-of-contents-wrapper a{--pad-inline: .5rem;display:block;border-radius:.25rem;padding-block:.25rem;padding-inline:calc(1rem * var(--depth) + var(--pad-inline)) var(--pad-inline);line-height:1.25}.table-of-contents-wrapper a[aria-current=true],.table-of-contents-wrapper a[aria-current=true]:hover,.table-of-contents-wrapper a[aria-current=true]:focus{color:var(--fallback-n,oklch(var(--n)/1))!important;background-color:var(--fallback-s,oklch(var(--s)/1))!important;border-left-style:solid;border-left-width:3px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important;font-weight:400!important;border-radius:0!important}.table-of-contents-wrapper .isMobile a{--pad-inline: 1rem;display:flex;justify-content:space-between;gap:var(--pad-inline);border-top:1px solid var(--sl-color-gray-6);border-radius:0;padding-block:.5rem;color:var(--sl-color-text);font-size:var(--sl-text-sm);text-decoration:none;outline-offset:var(--sl-outline-offset-inside)}.table-of-contents-wrapper .isMobile:first-child>li:first-child>a{border-top:0}.table-of-contents-wrapper .isMobile a[aria-current=true],.table-of-contents-wrapper .isMobile a[aria-current=true]:hover,.table-of-contents-wrapper .isMobile a[aria-current=true]:focus{color:var(--sl-color-white);background-color:unset}.table-of-contents-wrapper .isMobile a[aria-current=true]:after{content:"";width:1rem;background-color:var(--sl-color-text-accent);-webkit-mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;flex-shrink:0}
</style>
<link rel="stylesheet" href="/_astro/index.BNvWlo8S.css">
<style>.badge-wrapper .sl-badge{display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-size:.75rem;padding:.125rem .375rem;line-height:1;color:var(--sl-color-bg-badge);overflow-wrap:anywhere;transform:scale(.83);transform-origin:0 0}.badge-wrapper .outline{outline-style:none!important;--sl-color-bg-badge: var(--fallback-wa,oklch(var(--wa)/1));--sl-color-border-badge: var(--fallback-p,oklch(var(--p)/1))}.badge-wrapper .default{--sl-color-bg-badge: var(--sl-color-accent-low);--sl-color-border-badge: var(--sl-color-accent)}.badge-wrapper .note{--sl-color-bg-badge: var(--sl-color-blue-low);--sl-color-border-badge: var(--sl-color-blue)}.badge-wrapper .danger{--sl-color-bg-badge: var(--sl-color-red-low);--sl-color-border-badge: var(--sl-color-red)}.badge-wrapper .success{--sl-color-bg-badge: var(--sl-color-green-low);--sl-color-border-badge: var(--sl-color-green)}.badge-wrapper .caution{--sl-color-bg-badge: var(--sl-color-orange-low);--sl-color-border-badge: var(--sl-color-orange)}.badge-wrapper .tip{--sl-color-bg-badge: var(--sl-color-purple-low);--sl-color-border-badge: var(--sl-color-purple)}.badge-wrapper [data-theme=light] .default{--sl-color-bg-badge: var(--sl-color-accent-high)}.badge-wrapper [data-theme=light] .note{--sl-color-bg-badge: var(--sl-color-blue-high)}.badge-wrapper [data-theme=light] .danger{--sl-color-bg-badge: var(--sl-color-red-high)}.badge-wrapper [data-theme=light] .success{--sl-color-bg-badge: var(--sl-color-green-high)}.badge-wrapper [data-theme=light] .caution{--sl-color-bg-badge: var(--sl-color-orange-high)}.badge-wrapper [data-theme=light] .tip{--sl-color-bg-badge: var(--sl-color-purple-high)}.sidebar-sublist-wrapper ul{--sl-sidebar-item-padding-inline: .5rem;list-style:none;padding:0}.sidebar-sublist-wrapper li{overflow-wrap:anywhere}.sidebar-sublist-wrapper ul ul li{margin-inline-start:var(--sl-sidebar-item-padding-inline);border-inline-start:1px solid var(--sl-color-hairline-light);padding-inline-start:var(--sl-sidebar-item-padding-inline)}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-lg);font-weight:600;color:var(--sl-color-white)}.sidebar-sublist-wrapper .top-level>li+li{margin-top:.75rem}.sidebar-sublist-wrapper summary{display:flex;align-items:center;justify-content:space-between;padding:.2em var(--sl-sidebar-item-padding-inline);line-height:1.4;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-sublist-wrapper summary::marker,.sidebar-sublist-wrapper summary::-webkit-details-marker{display:none}.sidebar-sublist-wrapper .caret{transition:transform .2s ease-in-out;flex-shrink:0}.sidebar-sublist-wrapper [dir=rtl] .caret{transform:rotate(180deg)}.sidebar-sublist-wrapper [open]>summary .caret{transform:rotate(90deg)}.sidebar-sublist-wrapper a{display:block;border-radius:.25rem;text-decoration:none;color:var(--sl-color-gray-2);padding:.3em var(--sl-sidebar-item-padding-inline);line-height:1.4}.sidebar-sublist-wrapper a:hover,.sidebar-sublist-wrapper a:focus{color:var(--sl-color-white)}.sidebar-sublist-wrapper [aria-current=page],.sidebar-sublist-wrapper [aria-current=page]:hover,.sidebar-sublist-wrapper [aria-current=page]:focus{color:var(--fallback-n,oklch(var(--n)/1));background-color:var(--fallback-er,oklch(var(--er)/1));border-left-style:solid;border-left-width:4px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important}.sidebar-sublist-wrapper a>*:not(:last-child),.sidebar-sublist-wrapper .group-label>*:not(:last-child){margin-inline-end:.25em}@media (min-width: 50rem){.sidebar-sublist-wrapper .top-level>li+li{margin-top:.5rem}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-base)}.sidebar-sublist-wrapper a{font-size:var(--sl-text-sm)}}
.blog-slug-wrapper .sidebar-content{height:100%;padding:1rem var(--sl-sidebar-pad-x) 0;flex-direction:column;gap:1rem}.blog-slug-wrapper .right-sidebar-panel{flex-direction:column;justify-content:space-between;height:calc(100vh - 3.5rem);padding:1rem var(--sl-sidebar-pad-x)}.blog-slug-wrapper .right-sidebar-panel h2{color:var(--sl-color-white);font-size:var(--sl-text-h5);font-weight:600;line-height:var(--sl-line-height-headings);margin-bottom:.5rem}.blog-slug-wrapper .right-sidebar-panel a{display:block;font-size:var(--sl-text-xs);text-decoration:none;color:var(--sl-color-gray-3);overflow-wrap:anywhere}.blog-slug-wrapper .right-sidebar-panel a:hover{color:var(--sl-color-white)}
</style>
<link rel="stylesheet" href="/_astro/index.B0a9OMnn.css">
<link rel="stylesheet" href="/_astro/_page_.BwWph3Ek.css">
<style>.header-wrapper my-layout{--header-content-width: var(--width);--logo-height: 2rem;--header-height: var(--height);--header-xl-padding: var(--xpadding)}.header-wrapper .header-content{width:var(--header-content-width);padding-left:var(--header-xl-padding);padding-right:var(--header-xl-padding);background-color:#e0e9fb73!important}.header-wrapper .header-content .toggle-wrapper .toggle-component a{color:#121316}.header-wrapper .header-content .toggle-wrapper .toggle-component a:hover{color:#3e5cf4}.header-wrapper .header-content .toggle-wrapper .toggle-component a .toggle-text-ailogo{color:#fff!important}.header-wrapper .left-content .logo{vertical-align:sub;height:var(--logo-height)}.header-wrapper .left-content .mobile-navbar{display:none}@media (max-width: 85.125rem){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}}@media (max-width: 1070px){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}.header-wrapper .left-content .mobile-navbar{display:block}.header-wrapper .center-content{display:none}.header-wrapper .code-toggle{padding:0!important;background-color:transparent!important}.header-wrapper .code-toggle span{display:none}.header-wrapper .code-toggle svg{width:1.5rem;height:1.5rem}}.ai-header-wrapper .DocSearch-Button{background-color:#e0e9fb73!important;color:#333;padding:0 8px}.ai-header-wrapper .DocSearch-Button .DocSearch-Search-Icon{color:#333}
.link-icon:where(.astro-ld27styo){transition:width .3s ease}
toggle-content:where(.astro-bxjx6km4){--toggle-ml-width: 7rem;--toggle-xl-width: 7.5rem;--toggle-ml-height: 2rem;--toggle-xl-height: 2.5rem;--toggle-ml-font: .75rem;--toggle-xl-font: .85rem;--toggle-ml-switch-width: 3.5rem;--toggle-xl-switch-width: 3.75rem;--toggle-ml-switch-height: 1.5rem;--toggle-xl-switch-height: 2rem}.switch:where(.astro-bxjx6km4){width:var(--toggle-ml-width)}.switch-inner:where(.astro-bxjx6km4){width:200%;margin-left:-100%}.switch-inner:where(.astro-bxjx6km4):before,.switch-inner:where(.astro-bxjx6km4):after{display:block;float:right;width:50%;height:var(--toggle-ml-height);padding:0;line-height:var(--toggle-ml-height);font-size:var(--toggle-ml-font);box-sizing:border-box}.switch-inner:where(.astro-bxjx6km4):after{content:attr(data-on);padding-left:1.25rem}.switch-inner:where(.astro-bxjx6km4):before{content:attr(data-off);padding-right:1.25rem;text-align:right}.switch-switch:where(.astro-bxjx6km4){height:var(--toggle-ml-switch-height);width:var(--toggle-ml-switch-width);bottom:.25rem;border-radius:2rem;transition:all .3s ease-in 0s;text-align:right}.switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-off);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-inner:where(.astro-bxjx6km4){margin-left:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4){right:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-on);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}
.link-text:where(.astro-zb5a5pg4) .link-icon:where(.astro-zb5a5pg4){width:0;opacity:0;transition:transform .5s ease,width .3s ease,opacity .3s ease}.link-text:where(.astro-zb5a5pg4):hover .link-icon:where(.astro-zb5a5pg4){transform:translate(3px);opacity:1;width:8px}
</style>
<link rel="stylesheet" href="/_astro/tailwind.D1OAr-9K.css">
<link rel="stylesheet" href="/_astro/style.Czao6FyS.css"><script type="module" src="/_astro/hoisted.BV9abase.js"></script>
<script type="module" src="/_astro/page.CIklkdzg.js"></script></head> <body> <span class="header-wrapper ai-header-wrapper" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="alert-bar w-full  h-12 flex align-center justify-between top-0 bg-cover bg-[url('https://img.alicdn.com/imgextra/i3/O1CN010OMCW91rMde4sifaA_!!6000000005617-0-tps-828-52.jpg')] md:bg-[url('https://img.alicdn.com/imgextra/i4/O1CN01wkq3Nl1O9FCjTbQNk_!!6000000001662-0-tps-2880-96.jpg')]" client:load><div class="md:text-base text-sm m-auto leading-6 "><span class=" text-muted mr-4 md:mr-6 opacity-30 hidden md:inline-block">&lt;/&gt;</span><span class="alert-text hidden md:inline-block bg-gradient-to-r from-link to-success font-medium">新一代 Agentic Coding 平台 Qoder 来了</span><span class="alert-text bg-gradient-to-r from-link to-success text-muted  md:hidden font-medium">新一代 Agentic Coding 平台 Qoder 来了</span><a href="https://qoder.com/" target="_blank" class="mx-auto flex justify-center md:inline text-primary font-medium md:ml-4 no-underline">点此了解</a></div><button class="close-button text-muted bg-transparent border-none cursor-pointer text-lg leading-6 mr-1 md:mr-4">
&times;
</button></div> <my-layout style="position: sticky; height: 3.5rem; --width: 100%;--height: 3.5rem;--xpadding: 1.5rem;" class="w-full backdrop-blur-md top-0 z-[10] flex justify-center"> <!-- 方便控制header宽度 --> <div class="header-content flex items-center justify-between" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="left-content h-full flex flex-1 items-center after:content-[''] after:grow after:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <a class="no-underline flex" href="/" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <img class="logo" src="https://framerusercontent.com/images/pQ8aJuFZIMiP89TbxUoG075mc.png" alt="Higress-logo" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> </a> <span class="mobile-navbar-wrapper" style="--top: 3.5rem;"> <div class="mobile-navbar mobile-navbar h-full ml-4" style="--top: 3.5rem;"> <mobile-menu-button style="--top: 3.5rem;"> <button aria-expanded="false" aria-label="mobile-menu-button" style="--top: 3.5rem;"> <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6304" width="28" height="28" style="--top: 3.5rem;"> <path d="M192.037 287.953h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32zM832.161 479.169H438.553c-17.673 0-32 14.327-32 32s14.327 32 32 32h393.608c17.673 0 32-14.327 32-32s-14.327-32-32-32zM832.161 735.802H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32zM319.028 351.594l-160 160 160 160z" class="fill-gray" p-id="6305" style="--top: 3.5rem;"></path> </svg> </button> </mobile-menu-button> <div class="navbar-panel bg-secondary" style="--top: 3.5rem;"> <div class="navbar-content flex" style="--top: 3.5rem;"> <span class="mobile-nav-sublist-wrapper"> <ul class="top-level"> <li> <a href="https://higress.ai/" class="large flex items-center"> <span>AI 网关</span> </a> </li><li> <a href="/docs/latest/overview/what-is-higress/" class="large flex items-center"> <span>文档</span> </a> </li><li> <a href="/plugin/" class="large flex items-center"> <span>插件</span> </a> </li><li> <a href="/cloud/" class="large flex items-center"> <span>企业版 Higress</span> </a> </li><li> <a href="/blog/" class="large flex items-center"> <span>博客</span> </a> </li><li> <details> <summary> <div class="group-label"> <span class="large undefined">社区</span> </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-color: #818598;--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="mobile-nav-sublist-wrapper"> <ul>  </ul> </span>  </details> </li><li> <a href="/docs/developers/developers_dev/" class="large flex items-center"> <span>开发者</span> </a> </li><li> <a href="http://demo.higress.io/" class="large flex items-center"> <span>控制台样例</span> </a> </li><li> <a href="/faq/wuyi-intro/" class="large flex items-center"> <span>答疑样例</span> </a> </li> </ul> </span>  </div> </div> </div> </span>   </div> <div class="center-content justify-center flex-2 h-full" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <span class="navbar-wrapper"> <navbar-component class="navbar-component h-full"> <div class="pc-navbar pc-navbar h-full"> <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="https://higress.ai/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> AI 网关  <span class="toggle-text-ailogo text-xs text-center rounded-xl absolute top-[0.5rem] right-[-0.5rem] text-white bg-[red] w-[2rem] h-[1rem] font-medium">
NEW
</span> </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/docs/latest/overview/what-is-higress/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 文档   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/plugin/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  toggle-text-aiwrapper relative"> 插件 <span class="toggle-text-ailogo text-center rounded-xl absolute top-[0] right-[-1.5rem] text-white bg-[red] w-[2rem] h-[1.25rem] font-bold">
AI
</span>  </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/cloud/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 企业版 Higress   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/blog/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 博客   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="hover" class="toggle-component h-full static"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <div class="toggle-text flex items-center justify-center h-full  toggle-text-acai"> 社区 </div>  <svg width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg" data-updown class="ml-2"> <path d="M8.05264 2L5.05264 5.00649L2.05264 2" stroke="#a3a6b3" stroke-width="1.25" stroke-linecap="square"></path> </svg> </div> <div class="toggle-dropdown w-fit inset-x-0 absolute t-3.5rem">   <menu-container class="menu-container dropdown-docs w-screen h-screen flex flex-col justify-start items-center"> <div class="bg-neutral p-10 w-full flex justify-center menu-container-ai"> <div class="w-fit"> <div class="flex justify-between mb-[3.5rem]"> <div class="flex"> <!-- 社区label --> <div class="border-l border-warning flex flex-col px-7 min-w-[12rem]"> <span class="text-xs text-warning mb-2">社区</span> <a href="https://github.com/higress-group/higress-group.github.io/issues" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 报告文档问题  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/developers/contributor-guide/guide_dev/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 贡献社区  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="https://github.com/alibaba/higress/graphs/contributors" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 贡献者  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> <!-- 事件、资源label --> <div class="border-l border-warning flex flex-col px-7 mr-10"> <span class="text-xs text-warning mb-2">资源</span> <a href="/blog/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 博客  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/ebook/wasm14/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 电子书  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> </div> <div class="flex" id="blog-card-container"> <div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01bGnAVW1pFeLFnlaQL_!!6000000005331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> API赋能AI，AI网关零代码解决AI幻觉问题 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_im44tpldqyt8c97d/?source=blog_case">阅读文章</a></span> </div><div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01zfayJW1Lhe4kliPv9_!!6000000001331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> Higress 发布 v1.4，开放 AI 网关能力，增强云原生能力 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_picigqfume3k5lf3/?source=blog_article">阅读文章</a></span> </div> </div>  </div> <!-- 联系我们 --> <div class="w-[70rem] contact-us flex items-center justify-between rounded-2xl h-9 pl-10 pr-[8.5rem]"> <span class="text-success text-xs leading-9 tracking-[0.15em]"> 联系我们 </span> <div class="flex items-center cursor-pointer"> <a target="_blank" href="https://github.com/alibaba/higress" class="mr-16 flex items-center no-underline"> <svg viewBox="0 80 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3233" width="16" height="16"> <path d="M20.48 503.72608c0 214.4256 137.4208 396.73856 328.94976 463.6672 25.8048 6.5536 21.87264-11.8784 21.87264-24.33024v-85.07392c-148.93056 17.44896-154.86976-81.1008-164.94592-97.52576-20.23424-34.52928-67.91168-43.33568-53.69856-59.76064 33.91488-17.44896 68.48512 4.42368 108.46208 63.61088 28.95872 42.88512 85.44256 35.6352 114.15552 28.4672a138.8544 138.8544 0 0 1 38.0928-66.7648c-154.25536-27.60704-218.60352-121.77408-218.60352-233.79968 0-54.31296 17.94048-104.2432 53.0432-144.54784-22.36416-66.43712 2.08896-123.24864 5.3248-131.6864 63.81568-5.7344 130.00704 45.6704 135.168 49.68448 36.2496-9.78944 77.57824-14.9504 123.82208-14.9504 46.4896 0 88.064 5.3248 124.5184 15.23712 12.288-9.4208 73.80992-53.53472 133.12-48.128 3.15392 8.43776 27.0336 63.93856 6.02112 129.4336 35.59424 40.38656 53.69856 90.76736 53.69856 145.24416 0 112.18944-64.7168 206.4384-219.42272 233.71776a140.0832 140.0832 0 0 1 41.7792 99.9424v123.4944c0.86016 9.87136 0 19.6608 16.50688 19.6608 194.31424-65.49504 334.2336-249.15968 334.2336-465.5104C1002.57792 232.48896 782.66368 12.77952 511.5904 12.77952 240.18944 12.65664 20.48 232.40704 20.48 503.72608z" fill="currentColor" p-id="3234"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">GitHub</span> </a> <div class="mr-16 hoverable relative"> <img class="tooltip hidden w-40 absolute bottom-9" src="/img/dingding_3.jpg" alt="Higress Dingding Code"> <span class="text-neutral flex items-center"> <svg class="icon" viewBox="0 50 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4747" width="16" height="16"> <path d="M0 0h1024v1024H0z" class="secondary-fill" fill-opacity="0" p-id="4748"></path><path d="M786.978133 481.6896c-153.770667-117.5552-327.133867-273.237333-517.188266-440.183467-14.984533-13.141333-28.2624-7.953067-34.952534 9.5232-42.8032 111.957333-1.297067 211.421867 65.774934 268.731734 67.345067 57.582933 167.492267 110.592 228.829866 138.683733 2.389333 1.092267 0.3072 4.573867-2.116266 3.515733-112.674133-49.152-191.044267-84.650667-297.3696-165.819733-11.434667-8.738133-23.04-5.3248-24.405334 11.707733-8.704 107.042133 60.484267 191.146667 137.728 219.5456 47.786667 17.6128 100.0448 27.3408 148.548267 33.109334 2.525867 0.341333 1.9456 4.027733-0.580267 4.027733-62.498133 0.2048-138.001067-14.609067-203.332266-39.458133-13.789867-5.256533-18.5344 5.632-16.418134 14.267733 11.1616 45.226667 67.652267 114.346667 157.5936 128.887467 16.827733 2.730667 34.747733 3.072 50.722134 2.628266 3.7888-0.136533 4.7104 1.9456 3.4816 4.846934 0 0-61.098667 103.6288-63.761067 108.066133-2.082133 3.447467-0.8192 6.212267 3.515733 6.212267h80.622934c3.754667 0 6.0416 2.389333 4.096 5.5296-1.877333 3.140267-107.656533 176.7424-112.64 185.0368-4.369067 7.202133 0.785067 12.731733 8.942933 6.826666 8.192-5.9392 346.180267-250.88 355.805867-257.911466 4.437333-3.208533 3.413333-7.5776-2.833067-7.5776h-72.2944c-4.744533 0-5.768533-3.140267-2.56-6.314667 3.242667-3.1744 82.090667-80.964267 110.08-110.08 29.184-30.378667 44.100267-86.050133-5.290667-123.8016" class="secondary-fill" p-id="4749"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">钉钉</span> </span> </div> </div> </div> </div> </div> <div class="dropdown-overlay w-full flex-1 bg-neutral-900/[.4]"></div> </menu-container>    </div> </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/docs/developers/developers_dev/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 开发者   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="http://demo.higress.io/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> 控制台样例   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item item-last-child">  <a href="/faq/wuyi-intro/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 答疑样例   </a>   </div>  </toggle-component> </span>   </div> </navbar-component> </span>  </div> <div class="right-content flex flex-1 items-center md:gap-4  before:content-[''] before:grow before:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="astro-bxjx6km4"> <!-- pc --> <toggle-content class="switch float-left relative m-0 rounded-[2rem] max-md:hidden astro-bxjx6km4"> <input disabled data-switch class="switch-checkbox hidden astro-bxjx6km4" id="pc-toggle-switch" type="checkbox"> <!-- container --> <label class="switch-label block overflow-hidden cursor-pointer rounded-[2rem]  
                bg-info
             astro-bxjx6km4" for="pc-toggle-switch"> <!-- static --> <span class="switch-inner block 
                    text-info-button
                 astro-bxjx6km4" data-on="中文" data-off="EN"></span> <!-- active --> <span class="switch-switch absolute float-right mx-1 
                    text-info-button-active
                    bg-info-button
                 astro-bxjx6km4" data-on="EN" data-off="中文"></span> </label> </toggle-content> <!-- mobile --> <div data-switch class="w-[3.5rem] h-[1.5rem] leading-[1.5rem] text-xs text-center rounded-2xl bg-gray-12 max-md:inline-block md:hidden border astro-bxjx6km4" id="pc-toggle-switch"> 中文 </div> </div>   <sl-doc-search data-translations="{&#34;translations&#34;:{&#34;button&#34;:{},&#34;modal&#34;:{&#34;searchBox&#34;:{},&#34;startScreen&#34;:{},&#34;errorScreen&#34;:{},&#34;footer&#34;:{},&#34;noResultsScreen&#34;:{}}}}"> <button type="button" class="DocSearch DocSearch-Button"> <span class="DocSearch-Button-Container"> <svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"> <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <span class="DocSearch-Button-Placeholder"></span> </span> <span class="DocSearch-Button-Keys"></span> </button> </sl-doc-search>   </div> </div> </my-layout> </span>      <div class="w-full blog-slug-wrapper"> <div class="w-[20%] sidebar-content fixed overflow-auto h-full hidden 2xl:inline-block xl:inline-block lg:inline-block md:inline-block"> <!-- @ts-ignore --> <blog-theme> <span class="sidebar-sublist-wrapper"> <ul class="top-level"> <li> <details open> <summary> <div class="group-label"> <span class="large">AI</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/ai/quick-start/" class="flex items-center"> <span>一键部署 Higress AI 网关</span>   </a> </li><li> <a href="/ai/mcp-server/" class="flex items-center"> <span>MCP Server 插件配置</span>   </a> </li><li> <a href="/ai/mcp-quick-start/" class="flex items-center"> <span>MCP Server 快速开始</span>   </a> </li><li> <a href="/ai/mcp-quick-start_docker/" aria-current="page" class="flex items-center"> <span>MCP Server 快速开始（Docker 版）</span>   </a> </li><li> <a href="/ai/mcp-with-sse/" class="flex items-center"> <span>MCP Server 快速开始（对接现存 SSE Server）</span>   </a> </li><li> <details open> <summary> <div class="group-label"> <span class="large">场景体验</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/ai/scene-guide/token-management/" class="flex items-center"> <span>令牌限流</span>   </a> </li><li> <a href="/ai/scene-guide/semantic-cache/" class="flex items-center"> <span>语义缓存</span>   </a> </li><li> <a href="/ai/scene-guide/multi-proxy/" class="flex items-center"> <span>多模型代理</span>   </a> </li><li> <a href="/ai/scene-guide/application-safety/" class="flex items-center"> <span>内容安全</span>   </a> </li> </ul> </span>  </details> </li> </ul> </span>  </details> </li> </ul> </span>  </blog-theme>  </div> <div class="w-full 2xl:ml-[20%] xl:ml-[20%] lg:ml-[20%] md:ml-[20%] 2xl:w-[60%] xl:w-[60%] lg:w-[80%] md:w-[80%] inline-block"> <span class="markdown-detail-wrapper"> <div class="sl-markdown-content"> <div class="hero-image">  </div> <main> <div class="website-prose mx-auto"> <div class="title"> <h1 id="_top">MCP Server 快速开始（Docker 版）</h1> <div></div> <p class="text-left">发布时间 2025-04-20</p> <hr> </div>  <h2 id="概述">概述</h2>
<p>Higress AI 网关提供 MCP Server 统一托管能力，可以帮助 AI Agent 快速对接各类数据源。通过 MCP Server，AI Agent 可以方便地访问数据库、REST API 等外部服务，无需关心具体的连接细节。其中，数据库对接能力是网关内置的能力；而对于 REST API，任何外部 REST API 都可以通过简单的配置转换成 MCP Server。本文将以 一个简单的 REST API 为例，介绍通过 Higress 将一个 REST API 转化为 MCP Server 的配置流程。</p>
<h2 id="前提条件">前提条件</h2>
<ol>
<li>确认本机安装有 Docker 且 <code dir="auto">docker</code> 命令可用。</li>
</ol>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.1vui4.css"><script type="module" src="/_astro/ec.dy9ns.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">docker</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker"><div></div></button></div></figure></div>
<ol start="2">
<li>确认本机可以访问外网。</li>
</ol>
<h2 id="部署-higress">部署 Higress</h2>
<p>在开始使用 MCP Server 之前，需要先部署 Higress。我们这里使用的是 all-in-one 镜像的部署方式。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6"># 创建一个工作目录</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">mkdir</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress</span><span style="--0:#E1E4E8">; </span><span style="--0:#79B8FF">cd</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6"># 拉取最新的 Higress all-in-one 镜像</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">docker</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">pull</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/all-in-one:latest</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6"># 启动 Higress，配置文件会写到工作目录下</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">docker</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">run</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-d</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--rm</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--name</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress-ai</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-v</span><span style="--0:#E1E4E8"> ${PWD}</span><span style="--0:#9ECBFF">:/data</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-e</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">O11Y=on</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF">-p</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">8001:8001</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-p</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">8080:8080</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-p</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">8443:8443</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#9ECBFF">higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/all-in-one:latest</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mkdir higress; cd higressdocker pull higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/all-in-one:latestdocker run -d --rm --name higress-ai -v ${PWD}:/data -e O11Y=on \        -p 8001:8001 -p 8080:8080 -p 8443:8443 \        higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/all-in-one:latest"><div></div></button></div></figure></div>
<p>**重要：**后续操作过程中，请勿切换终端的工作目录。应使其保持在新创建的 <code dir="auto">higress</code> 目录下。</p>
<p>您也可以参考 <a href="https://higress.cn/docs/latest/user/quickstart" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">Higress 快速入门指南</a> 完成这部分的部署工作。</p>
<h2 id="部署-redis">部署 Redis</h2>
<p>MCP Server 的 SSE 功能需要依赖 Redis 服务用于数据缓存。我们可以使用以下命令在后台启动一个 Redis 服务容器，并将其 6379 端口映射到本机。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">docker</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">run</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-d</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--rm</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--name</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress-redis</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-p</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">6379:6379</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/redis-stack-server:7.4.0-v3</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker run -d --rm --name higress-redis -p 6379:6379 higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/redis-stack-server:7.4.0-v3"><div></div></button></div></figure></div>
<h2 id="配置-mcp-server">配置 MCP Server</h2>
<h3 id="configmap-全局参数配置">ConfigMap 全局参数配置</h3>
<p>在 ConfigMap 中配置 MCP Server 的相关全局参数。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">vi</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">./configmaps/higress-config.yaml</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="vi ./configmaps/higress-config.yaml"><div></div></button></div></figure></div>
<p>配置 Redis 连接信息和 MCP Server 的路由规则：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">apiVersion</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">v1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">kind</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">ConfigMap</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">metadata</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">higress-config</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">namespace</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">higress-system</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">creationTimestamp</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"2000-01-01T00:00:00Z"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">resourceVersion</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"1"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">data</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">higress</span><span style="--0:#E1E4E8">: </span><span style="--0:#F97583">|-</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">    </span></span><span style="--0:#9ECBFF">mcpServer:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">sse_path_suffix: /sse  # SSE 连接的路径后缀</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">enable: true          # 启用 MCP Server</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">redis:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">address: IP:6379 # Redis服务地址。这里需要使用本机的内网 IP，不可以使用 127.0.0.1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">username: "" # Redis用户名（可选）</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">password: "" # Redis密码（可选）</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">db: 0 # Redis数据库（可选）</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">match_list:          # MCP Server 会话保持路由规则（当匹配下面路径时，将被识别为一个 MCP 会话，通过 SSE 等机制进行会话保持）</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">- match_rule_domain: "*"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">          </span></span><span style="--0:#9ECBFF">match_rule_path: /user</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">          </span></span><span style="--0:#9ECBFF">match_rule_type: "prefix"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">servers: []</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">    </span></span><span style="--0:#9ECBFF">downstream:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">    </span></span><span style="--0:#9ECBFF"># 以下配置无需修改，此处省略</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="apiVersion: v1kind: ConfigMapmetadata:  name: higress-config  namespace: higress-system  creationTimestamp: &#x22;2000-01-01T00:00:00Z&#x22;  resourceVersion: &#x22;1&#x22;data:  higress: |-    mcpServer:      sse_path_suffix: /sse  # SSE 连接的路径后缀      enable: true          # 启用 MCP Server      redis:        address: IP:6379 # Redis服务地址。这里需要使用本机的内网 IP，不可以使用 127.0.0.1        username: &#x22;&#x22; # Redis用户名（可选）        password: &#x22;&#x22; # Redis密码（可选）        db: 0 # Redis数据库（可选）      match_list:          # MCP Server 会话保持路由规则（当匹配下面路径时，将被识别为一个 MCP 会话，通过 SSE 等机制进行会话保持）        - match_rule_domain: &#x22;*&#x22;          match_rule_path: /user          match_rule_type: &#x22;prefix&#x22;      servers: []    downstream:    # 以下配置无需修改，此处省略"><div></div></button></div></figure></div>
<p>**注意：**受 Docker 运行环境的限制，非 Linux 操作系统在修改 yaml 文件之后，需要等待一段时间才能让新的配置生效。如果希望立即生效的话，可以使用以下命令重启 higress-ai 容器：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">docker</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">stop</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress-ai</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">docker</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">run</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-d</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--rm</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--name</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress-ai</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-v</span><span style="--0:#E1E4E8"> ${PWD}</span><span style="--0:#9ECBFF">:/data</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-e</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">O11Y=on</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF">-p</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">8001:8001</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-p</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">8080:8080</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-p</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">8443:8443</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#9ECBFF">higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/all-in-one:latest</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker stop higress-aidocker run -d --rm --name higress-ai -v ${PWD}:/data -e O11Y=on \        -p 8001:8001 -p 8080:8080 -p 8443:8443 \        higress-registry.cn-hangzhou.cr.aliyuncs.com/higress/all-in-one:latest"><div></div></button></div></figure></div>
<h3 id="配置-nacos-mcp-registry">配置 Nacos MCP Registry</h3>
<blockquote>
<p><strong>注意：</strong>
需要Nacos版本为3.0及以上，Higress版本在2.1.2及以上</p>
</blockquote>
<p>新增服务来源
<img src="https://img.alicdn.com/imgextra/i3/O1CN01Ksd48C1ru4g6ep9SU_!!6000000005690-2-tps-2422-198.png" alt="添加服务来源" referrerpolicy="no-referrer"></p>
<p>创建nacos3.x服务来源并完善相关信息</p>
<p><img src="https://img.alicdn.com/imgextra/i3/O1CN01FGvSE71HVVGHTp1Cu_!!6000000000763-2-tps-588-1039.png" alt="添加Nacos3.x服务来源" referrerpolicy="no-referrer"></p>
<p>通过以下规则访问接入点</p>
<ul>
<li>
<p>REST API 转 MCP 类型。http://{关联MCP Server的域名}/{MCP Server路由路径前缀}/{Nacos中MCP Server的名称}，例如关联Nacos服务来源关联的域名是mcp-registry.com, mcp server 路由路径 为 /mcp，Nacos中mcp服务的名称为test，则最终的sse协议的访问路径为
<a href="http://mcp-registry.com/mcp/test/sse" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">http://mcp-registry.com/mcp/test/sse</a></p>
</li>
<li>
<p>直接代理原生 MCP 类型。http://{关联MCP Server的域名}/{MCP Server路由路径前缀}/{Nacos中MCP Server的名称}/{原生服务的sse路径}，例如关联Nacos服务来源关联的域名是mcp-registry.com, mcp server 路由路径 为 /mcp，Nacos中mcp服务的名称为test，test服务原本的sse路径为/mcp/sse，则最终的sse协议访问路径为 <a href="http://mcp-registry.com/mcp/test/mcp/sse" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">http://mcp-registry.com/mcp/test/mcp/sse</a></p>
</li>
</ul>
<h3 id="配置-rest-api-mcp-server">配置 REST API MCP Server</h3>
<p>任何 REST API 都可以通过以下步骤快速转换为 MCP Server：</p>
<h4 id="1-打开-higress-控制台">1. 打开 Higress 控制台</h4>
<p>在浏览器中访问 <code dir="auto">http://localhost:8001</code>。</p>
<p>首次访问将会要求配置登录账号信息。配置完成后，请使用配置好的账号登录。</p>
<h4 id="1-添加服务来源">1. 添加服务来源</h4>
<p>在 Higress 控制台添加目标 REST API 的服务来源。本示例使用 <code dir="auto">randomuser.me</code> 作为服务来源。</p>
<p><img src="/img/ai/mcp-quick-start_docker/zh/add-servicesource-info.png" alt="添加服务来源-信息" referrerpolicy="no-referrer"></p>
<p>添加完成后，服务来源列表显示如下：</p>
<p><img src="/img/ai/mcp-quick-start_docker/zh/add-servicesource-list.png" alt="添加服务来源-列表" referrerpolicy="no-referrer"></p>
<h4 id="2-配置路由">2. 配置路由</h4>
<p>在 Higress 控制台添加路由并指向对应的服务来源：</p>
<p><img src="/img/ai/mcp-quick-start_docker/zh/add-route-info.png" alt="配置路由-信息" referrerpolicy="no-referrer"></p>
<p>添加完成后，路由列表显示如下：</p>
<p><img src="/img/ai/mcp-quick-start_docker/zh/add-route-list.png" alt="配置路由-列表" referrerpolicy="no-referrer"></p>
<h4 id="3-配置-mcp-server-插件">3. 配置 MCP Server 插件</h4>
<ol>
<li>点击新创建的路由右侧的“策略”链接进入插件配置页面。</li>
<li>找到“MCP 服务器”插件，并点击其下方的配置按钮</li>
<li>将“开启状态”切换至绿色的开。</li>
<li>将下发配置部分切换到 YAML 视图，并填入以下配置。</li>
<li>点击右上角的保存。</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">server</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"random-user-server"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">tools</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Get random user information"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"get-user"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">method</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"GET"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">url</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"https://randomuser.me/api/"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">responseTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">body</span><span style="--0:#E1E4E8">: </span><span style="--0:#F97583">|-</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF"># User Information</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{- with (index .results 0) }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Name**: {{.name.first}} {{.name.last}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Email**: {{.email}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Location**: {{.location.city}}, {{.location.country}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Phone**: {{.phone}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{- end }}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="server:  name: &#x22;random-user-server&#x22;tools:- description: &#x22;Get random user information&#x22;  name: &#x22;get-user&#x22;  requestTemplate:    method: &#x22;GET&#x22;    url: &#x22;https://randomuser.me/api/&#x22;  responseTemplate:    body: |-      # User Information      {{- with (index .results 0) }}      - **Name**: {{.name.first}} {{.name.last}}      - **Email**: {{.email}}      - **Location**: {{.location.city}}, {{.location.country}}      - **Phone**: {{.phone}}      {{- end }}"><div></div></button></div></figure></div>
<br>
<p><img src="https://gw.alicdn.com/imgextra/i4/O1CN01HLJt6I26ehbSLSA57_!!6000000007687-0-tps-2940-1184.jpg" alt="配置MCP Server插件" referrerpolicy="no-referrer"></p>
<h2 id="mcp-server-使用">MCP Server 使用</h2>
<p>在 AI Agent 中配置 MCP Server 的 SSE Server，本文以 <a href="https://cherry-ai.com/" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">Cherry Studio</a> 为例。</p>
<h3 id="1-添加-mcp-服务器">1. 添加 MCP 服务器</h3>
<p>按照以下说明添加一个新的 MCP 服务器指向我们刚刚配置的路由：</p>
<ol>
<li>名称：可以任意填写</li>
<li>类型：<code dir="auto">服务器发送事件（sse）</code></li>
<li>URL：<code dir="auto">http://localhost:8080/user/sse</code></li>
</ol>
<p><img src="/img/ai/mcp-quick-start_docker/zh/cherry-studio-add-mcp-1.png" alt="配置MCP Server插件-1" referrerpolicy="no-referrer"></p>
<p><img src="/img/ai/mcp-quick-start_docker/zh/cherry-studio-add-mcp-2.png" alt="配置MCP Server插件-2" referrerpolicy="no-referrer"></p>
<h3 id="2-使用-mcp-服务">2. 使用 MCP 服务</h3>
<p>在 Cherry Studio 中，要在对话中使用 MCP 服务，我们需要先激活它。</p>
<ol>
<li>切换到“助手”页面</li>
<li>点击右侧输入框下方的“MCP 服务器”按钮</li>
<li>在弹出的 MCP 服务器列表中点击我们刚刚添加的“GetRandomUser”服务，使其变绿且右侧出现“√”标识</li>
</ol>
<p><img src="/img/ai/mcp-quick-start_docker/zh/activate-mcp-server.png" alt="激活MCP Server" referrerpolicy="no-referrer"></p>
<p>现在我们就可以在对话中使用这个 MCP 服务服务了。</p>
<p>在输入框中输入“帮我生成一段用户信息”。就可以看到 Cherry Studio 利用大模型并通过 MCP Server 来为我们生成了一段随机的用户信息。</p>
<p><img src="/img/ai/mcp-quick-start_docker/zh/use-mcp-server.png" alt="使用MCP Server" referrerpolicy="no-referrer"></p>
<h2 id="常见问题">常见问题</h2>
<h3 id="1-higress-config-中的-mcpserver-配置与路由配置以及路由策略中的-mcp-服务器插件之间是什么关系">1. higress-config 中的 mcpServer 配置与路由配置以及路由策略中的 MCP 服务器插件之间是什么关系？</h3>
<p><code dir="auto">higress-config</code> 中的 <code dir="auto">mcpServer</code> 配置是用来进行 SSE 数据流推送的。所以它里面的 <code dir="auto">matchList</code> 中的匹配规则必须要覆盖所有使用 SSE 协议的 MCP 服务器路径。</p>
<p>路由配置是用来让请求能够正常被转发到目标 REST API 的。所以路由所指向的目标服务必须是 MCP 服务所对应的 REST API。</p>
<p>路由策略配置中的 MCP 服务器插件配置有两个功能，一个是向 MCP 客户端（也就是例子中的 Cherry Studio）提供 MCP 服务所支持的工具方法的元数据，另一个则是在转发请求的时候将 MCP 请求转换成目标服务可以支持的格式，也就是 <code dir="auto">requestTemplate</code> 部分所配置的内容。</p>
<h3 id="2-是否可以不用部署-redis">2. 是否可以不用部署 Redis？</h3>
<p>由于 MCP 协议发起工具调用和推送响应所对应的是不同的请求，甚至在集群部署的时候，这些请求可能会由集群中的不同服务器进行处理，所以 Higress 引入了 Redis 来进行会话管理，确保所有的工具调用都可以关联到最初开启会话的 SSE 请求。</p>
<p>如果不想用 Redis 的话，可以尝试一下 MCP 协议中新推出的 Streamble HTTP 通信方式。</p>
<h3 id="3-如何查看日志">3. 如何查看日志？</h3>
<p>Higress all-in-one 容器的所有日志都保存在容器中的 <code dir="auto">/var/log/higress</code> 目录中。大家可以使用以下命令进入到容器中进行查看。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">docker</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">exec</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-it</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">higress-ai</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">bash</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF">cd</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/log/higress</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">cat</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">gateway.log</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker exec -it higress-ai bashcd /var/log/higresscat gateway.log"><div></div></button></div></figure></div>
<h2 id="总结">总结</h2>
<p>通过 Higress 的 MCP Server 功能，您可以快速为 AI Agent 添加各种数据源支持，提高工作效率。任何 REST API 都可以通过简单的配置转换为 MCP Server，无需编写额外的代码。</p>
<blockquote>
<p>如您在使用 MCP Server 过程中遇到问题，可在 <a href="https://github.com/alibaba/higress/issues" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">Higress Github Issue</a> 中留下您的信息。</p>
<p>如您对 Higress 后续更新感兴趣，或希望给 Higress 提供反馈，欢迎 Star <a href="https://github.com/alibaba/higress/" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">Higress Github Repo</a>。</p>
</blockquote>  </div> </main> </div> </span> <div class="pb-6"> <div class="pagination-links astro-u2l5gyhi"> <a href="/ai/mcp-quick-start/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-u2l5gyhi"> 上一篇 <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">MCP Server 快速开始</span> </span> </a> <a href="/ai/mcp-with-sse/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> 下一篇 <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">MCP Server 快速开始（对接现存 SSE Server）</span> </span> </a> </div>  </div> </div> <div class="right-sidebar-panel w-[18%] fixed h-full hidden 2xl:inline-block xl:inline-block"> <span class="toc-component-wrapper" style="--depth: 0;"> <markdown-toc data-min-h="1" data-max-h="4" class="isMobile" style="--depth: 0;"> <nav aria-labelledby="starlight__on-this-page" class="starlight__on-this-page" style="--depth: 0;"> <h2 id="starlight__on-this-page" class="heading" style="--depth: 0;"> 本页内容 </h2> <span class="table-of-contents-wrapper" style="--depth: 0;"> <ul style="--depth: 0;"> <li style="--depth: 0;"> <a href="#_top" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">概述</span> </a>  </li><li style="--depth: 0;"> <a href="#概述" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">概述</span> </a>  </li><li style="--depth: 0;"> <a href="#前提条件" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">前提条件</span> </a>  </li><li style="--depth: 0;"> <a href="#部署-higress" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">部署 Higress</span> </a>  </li><li style="--depth: 0;"> <a href="#部署-redis" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">部署 Redis</span> </a>  </li><li style="--depth: 0;"> <a href="#配置-mcp-server" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">配置 MCP Server</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#configmap-全局参数配置" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">ConfigMap 全局参数配置</span> </a>  </li><li style="--depth: 1;"> <a href="#配置-nacos-mcp-registry" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">配置 Nacos MCP Registry</span> </a>  </li><li style="--depth: 1;"> <a href="#配置-rest-api-mcp-server" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">配置 REST API MCP Server</span> </a> <span class="table-of-contents-wrapper" style="--depth: 2;"> <ul style="--depth: 2;"> <li style="--depth: 2;"> <a href="#1-打开-higress-控制台" class="py-1" style="--depth: 2;"> <span style="--depth: 2;">1. 打开 Higress 控制台</span> </a>  </li><li style="--depth: 2;"> <a href="#1-添加服务来源" class="py-1" style="--depth: 2;"> <span style="--depth: 2;">1. 添加服务来源</span> </a>  </li><li style="--depth: 2;"> <a href="#2-配置路由" class="py-1" style="--depth: 2;"> <span style="--depth: 2;">2. 配置路由</span> </a>  </li><li style="--depth: 2;"> <a href="#3-配置-mcp-server-插件" class="py-1" style="--depth: 2;"> <span style="--depth: 2;">3. 配置 MCP Server 插件</span> </a>  </li> </ul> </span>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#mcp-server-使用" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">MCP Server 使用</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#1-添加-mcp-服务器" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">1. 添加 MCP 服务器</span> </a>  </li><li style="--depth: 1;"> <a href="#2-使用-mcp-服务" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">2. 使用 MCP 服务</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#常见问题" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">常见问题</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#1-higress-config-中的-mcpserver-配置与路由配置以及路由策略中的-mcp-服务器插件之间是什么关系" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">1. higress-config 中的 mcpServer 配置与路由配置以及路由策略中的 MCP 服务器插件之间是什么关系？</span> </a>  </li><li style="--depth: 1;"> <a href="#2-是否可以不用部署-redis" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">2. 是否可以不用部署 Redis？</span> </a>  </li><li style="--depth: 1;"> <a href="#3-如何查看日志" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">3. 如何查看日志？</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#总结" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">总结</span> </a>  </li> </ul> </span>  </nav> </markdown-toc> </span>   </div> </div>   </body> </html>  