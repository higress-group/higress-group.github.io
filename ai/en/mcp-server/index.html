<!DOCTYPE html><html lang="zh-cn" data-theme="light"> <head><meta charset="utf-8"><!-- @ts-ignore --><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"> <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>MCP Server Plugin Configuration_AI-Higress官网</title><link rel="canonical" href="https://higress.cn/ai/en/mcp-server/"/><link rel="alternate" hreflang="zh-CN" href="https://higress.cn/ai/en/mcp-server/"/><link rel="alternate" hreflang="en" href="https://higress.cn/en/ai/en/mcp-server/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/higress_logo.png" type="image/png"/><meta name="aplus-core" content="aplus.js"/><meta property="og:title" content="MCP Server Plugin Configuration_AI"/><meta property="og:type" content="article"/><meta property="og:url" content="https://higress.cn/ai/en/mcp-server/"/><meta property="og:locale"/><meta property="og:site_name" content="Higress"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="MCP Server Plugin Configuration_AI"/><meta name="baidu-site-verification" content="codeva-x6yW4DqCn3"/><meta name="msvalidate.01" content="418883CE9AE2CAD01E7FC1A7B9F20801"/><meta name="twitter:description" content="MCP Server Plugin Configuration Reference"/><meta name="description" content="MCP Server Plugin Configuration Reference"/><meta property="og:description" content="MCP Server Plugin Configuration Reference"/><meta property="keywords" content="AI Gateway,AI 网关,AI Proxy,API Gateway,API 网关"/> <!--初始化SDK-->   <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-YHS75WKFBR"></script> <meta name="generator" content="Astro v4.9.1"><meta name="robots" content="index, follow"><meta name="applicable-device" content="pc,mobile"><meta property="og:image" content="https://img.alicdn.com/imgextra/i1/O1CN01Q9UWyF23bY1R0U0KE_!!6000000007274-2-tps-2560-1440.png"><link data-rh="true" rel="icon" href="https://img.alicdn.com/imgextra/i4/O1CN01AViQMJ1J2lY4OPRgv_!!6000000000971-2-tps-376-375.png"><link rel="stylesheet" href="/_astro/_page_.8CUVaieU.css">
<style>.table-of-contents-wrapper ul{padding:0;list-style:none}.table-of-contents-wrapper a{--pad-inline: .5rem;display:block;border-radius:.25rem;padding-block:.25rem;padding-inline:calc(1rem * var(--depth) + var(--pad-inline)) var(--pad-inline);line-height:1.25}.table-of-contents-wrapper a[aria-current=true],.table-of-contents-wrapper a[aria-current=true]:hover,.table-of-contents-wrapper a[aria-current=true]:focus{color:var(--fallback-n,oklch(var(--n)/1))!important;background-color:var(--fallback-s,oklch(var(--s)/1))!important;border-left-style:solid;border-left-width:3px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important;font-weight:400!important;border-radius:0!important}.table-of-contents-wrapper .isMobile a{--pad-inline: 1rem;display:flex;justify-content:space-between;gap:var(--pad-inline);border-top:1px solid var(--sl-color-gray-6);border-radius:0;padding-block:.5rem;color:var(--sl-color-text);font-size:var(--sl-text-sm);text-decoration:none;outline-offset:var(--sl-outline-offset-inside)}.table-of-contents-wrapper .isMobile:first-child>li:first-child>a{border-top:0}.table-of-contents-wrapper .isMobile a[aria-current=true],.table-of-contents-wrapper .isMobile a[aria-current=true]:hover,.table-of-contents-wrapper .isMobile a[aria-current=true]:focus{color:var(--sl-color-white);background-color:unset}.table-of-contents-wrapper .isMobile a[aria-current=true]:after{content:"";width:1rem;background-color:var(--sl-color-text-accent);-webkit-mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxNCAxNCc+PHBhdGggZD0nTTEwLjkxNCA0LjIwNmEuNTgzLjU4MyAwIDAgMC0uODI4IDBMNS43NCA4LjU1NyAzLjkxNCA2LjcyNmEuNTk2LjU5NiAwIDAgMC0uODI4Ljg1N2wyLjI0IDIuMjRhLjU4My41ODMgMCAwIDAgLjgyOCAwbDQuNzYtNC43NmEuNTgzLjU4MyAwIDAgMCAwLS44NTdaJy8+PC9zdmc+Cg==);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;flex-shrink:0}
</style>
<link rel="stylesheet" href="/_astro/index.BNvWlo8S.css">
<style>.badge-wrapper .sl-badge{display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-size:.75rem;padding:.125rem .375rem;line-height:1;color:var(--sl-color-bg-badge);overflow-wrap:anywhere;transform:scale(.83);transform-origin:0 0}.badge-wrapper .outline{outline-style:none!important;--sl-color-bg-badge: var(--fallback-wa,oklch(var(--wa)/1));--sl-color-border-badge: var(--fallback-p,oklch(var(--p)/1))}.badge-wrapper .default{--sl-color-bg-badge: var(--sl-color-accent-low);--sl-color-border-badge: var(--sl-color-accent)}.badge-wrapper .note{--sl-color-bg-badge: var(--sl-color-blue-low);--sl-color-border-badge: var(--sl-color-blue)}.badge-wrapper .danger{--sl-color-bg-badge: var(--sl-color-red-low);--sl-color-border-badge: var(--sl-color-red)}.badge-wrapper .success{--sl-color-bg-badge: var(--sl-color-green-low);--sl-color-border-badge: var(--sl-color-green)}.badge-wrapper .caution{--sl-color-bg-badge: var(--sl-color-orange-low);--sl-color-border-badge: var(--sl-color-orange)}.badge-wrapper .tip{--sl-color-bg-badge: var(--sl-color-purple-low);--sl-color-border-badge: var(--sl-color-purple)}.badge-wrapper [data-theme=light] .default{--sl-color-bg-badge: var(--sl-color-accent-high)}.badge-wrapper [data-theme=light] .note{--sl-color-bg-badge: var(--sl-color-blue-high)}.badge-wrapper [data-theme=light] .danger{--sl-color-bg-badge: var(--sl-color-red-high)}.badge-wrapper [data-theme=light] .success{--sl-color-bg-badge: var(--sl-color-green-high)}.badge-wrapper [data-theme=light] .caution{--sl-color-bg-badge: var(--sl-color-orange-high)}.badge-wrapper [data-theme=light] .tip{--sl-color-bg-badge: var(--sl-color-purple-high)}.sidebar-sublist-wrapper ul{--sl-sidebar-item-padding-inline: .5rem;list-style:none;padding:0}.sidebar-sublist-wrapper li{overflow-wrap:anywhere}.sidebar-sublist-wrapper ul ul li{margin-inline-start:var(--sl-sidebar-item-padding-inline);border-inline-start:1px solid var(--sl-color-hairline-light);padding-inline-start:var(--sl-sidebar-item-padding-inline)}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-lg);font-weight:600;color:var(--sl-color-white)}.sidebar-sublist-wrapper .top-level>li+li{margin-top:.75rem}.sidebar-sublist-wrapper summary{display:flex;align-items:center;justify-content:space-between;padding:.2em var(--sl-sidebar-item-padding-inline);line-height:1.4;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-sublist-wrapper summary::marker,.sidebar-sublist-wrapper summary::-webkit-details-marker{display:none}.sidebar-sublist-wrapper .caret{transition:transform .2s ease-in-out;flex-shrink:0}.sidebar-sublist-wrapper [dir=rtl] .caret{transform:rotate(180deg)}.sidebar-sublist-wrapper [open]>summary .caret{transform:rotate(90deg)}.sidebar-sublist-wrapper a{display:block;border-radius:.25rem;text-decoration:none;color:var(--sl-color-gray-2);padding:.3em var(--sl-sidebar-item-padding-inline);line-height:1.4}.sidebar-sublist-wrapper a:hover,.sidebar-sublist-wrapper a:focus{color:var(--sl-color-white)}.sidebar-sublist-wrapper [aria-current=page],.sidebar-sublist-wrapper [aria-current=page]:hover,.sidebar-sublist-wrapper [aria-current=page]:focus{color:var(--fallback-n,oklch(var(--n)/1));background-color:var(--fallback-er,oklch(var(--er)/1));border-left-style:solid;border-left-width:4px;border-left-color:var(--fallback-n,oklch(var(--n)/1));padding-left:.625rem!important}.sidebar-sublist-wrapper a>*:not(:last-child),.sidebar-sublist-wrapper .group-label>*:not(:last-child){margin-inline-end:.25em}@media (min-width: 50rem){.sidebar-sublist-wrapper .top-level>li+li{margin-top:.5rem}.sidebar-sublist-wrapper .large{font-size:var(--sl-text-base)}.sidebar-sublist-wrapper a{font-size:var(--sl-text-sm)}}
.blog-slug-wrapper .sidebar-content{height:100%;padding:1rem var(--sl-sidebar-pad-x) 0;flex-direction:column;gap:1rem}.blog-slug-wrapper .right-sidebar-panel{flex-direction:column;justify-content:space-between;height:calc(100vh - 3.5rem);padding:1rem var(--sl-sidebar-pad-x)}.blog-slug-wrapper .right-sidebar-panel h2{color:var(--sl-color-white);font-size:var(--sl-text-h5);font-weight:600;line-height:var(--sl-line-height-headings);margin-bottom:.5rem}.blog-slug-wrapper .right-sidebar-panel a{display:block;font-size:var(--sl-text-xs);text-decoration:none;color:var(--sl-color-gray-3);overflow-wrap:anywhere}.blog-slug-wrapper .right-sidebar-panel a:hover{color:var(--sl-color-white)}
</style>
<link rel="stylesheet" href="/_astro/index.B0a9OMnn.css">
<link rel="stylesheet" href="/_astro/_page_.BwWph3Ek.css">
<style>.header-wrapper my-layout{--header-content-width: var(--width);--logo-height: 2rem;--header-height: var(--height);--header-xl-padding: var(--xpadding)}.header-wrapper .header-content{width:var(--header-content-width);padding-left:var(--header-xl-padding);padding-right:var(--header-xl-padding);background-color:#e0e9fb73!important}.header-wrapper .header-content .toggle-wrapper .toggle-component a{color:#121316}.header-wrapper .header-content .toggle-wrapper .toggle-component a:hover{color:#3e5cf4}.header-wrapper .header-content .toggle-wrapper .toggle-component a .toggle-text-ailogo{color:#fff!important}.header-wrapper .left-content .logo{vertical-align:sub;height:var(--logo-height)}.header-wrapper .left-content .mobile-navbar{display:none}@media (max-width: 85.125rem){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}}@media (max-width: 1070px){.header-wrapper .header-content{width:100%;padding-left:1.5rem;padding-right:1.5rem}.header-wrapper .left-content .mobile-navbar{display:block}.header-wrapper .center-content{display:none}.header-wrapper .code-toggle{padding:0!important;background-color:transparent!important}.header-wrapper .code-toggle span{display:none}.header-wrapper .code-toggle svg{width:1.5rem;height:1.5rem}}.ai-header-wrapper .DocSearch-Button{background-color:#e0e9fb73!important;color:#333;padding:0 8px}.ai-header-wrapper .DocSearch-Button .DocSearch-Search-Icon{color:#333}
.link-icon:where(.astro-ld27styo){transition:width .3s ease}
toggle-content:where(.astro-bxjx6km4){--toggle-ml-width: 7rem;--toggle-xl-width: 7.5rem;--toggle-ml-height: 2rem;--toggle-xl-height: 2.5rem;--toggle-ml-font: .75rem;--toggle-xl-font: .85rem;--toggle-ml-switch-width: 3.5rem;--toggle-xl-switch-width: 3.75rem;--toggle-ml-switch-height: 1.5rem;--toggle-xl-switch-height: 2rem}.switch:where(.astro-bxjx6km4){width:var(--toggle-ml-width)}.switch-inner:where(.astro-bxjx6km4){width:200%;margin-left:-100%}.switch-inner:where(.astro-bxjx6km4):before,.switch-inner:where(.astro-bxjx6km4):after{display:block;float:right;width:50%;height:var(--toggle-ml-height);padding:0;line-height:var(--toggle-ml-height);font-size:var(--toggle-ml-font);box-sizing:border-box}.switch-inner:where(.astro-bxjx6km4):after{content:attr(data-on);padding-left:1.25rem}.switch-inner:where(.astro-bxjx6km4):before{content:attr(data-off);padding-right:1.25rem;text-align:right}.switch-switch:where(.astro-bxjx6km4){height:var(--toggle-ml-switch-height);width:var(--toggle-ml-switch-width);bottom:.25rem;border-radius:2rem;transition:all .3s ease-in 0s;text-align:right}.switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-off);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-inner:where(.astro-bxjx6km4){margin-left:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4){right:0}.switch-checkbox:where(.astro-bxjx6km4):checked+.switch-label:where(.astro-bxjx6km4) .switch-switch:where(.astro-bxjx6km4):before{display:flex;content:attr(data-on);height:100%;font-size:var(--toggle-ml-font);align-items:center;justify-content:center}
.link-text:where(.astro-zb5a5pg4) .link-icon:where(.astro-zb5a5pg4){width:0;opacity:0;transition:transform .5s ease,width .3s ease,opacity .3s ease}.link-text:where(.astro-zb5a5pg4):hover .link-icon:where(.astro-zb5a5pg4){transform:translate(3px);opacity:1;width:8px}
</style>
<link rel="stylesheet" href="/_astro/tailwind.D1OAr-9K.css">
<link rel="stylesheet" href="/_astro/style.Czao6FyS.css"><script type="module" src="/_astro/hoisted.BV9abase.js"></script>
<script type="module" src="/_astro/page.CIklkdzg.js"></script></head> <body> <span class="header-wrapper ai-header-wrapper" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="alert-bar w-full  h-12 flex align-center justify-between top-0 bg-cover bg-[url('https://img.alicdn.com/imgextra/i3/O1CN010OMCW91rMde4sifaA_!!6000000005617-0-tps-828-52.jpg')] md:bg-[url('https://img.alicdn.com/imgextra/i4/O1CN01wkq3Nl1O9FCjTbQNk_!!6000000001662-0-tps-2880-96.jpg')]" client:load><div class="md:text-base text-sm m-auto leading-6 "><span class=" text-muted mr-4 md:mr-6 opacity-30 hidden md:inline-block">&lt;/&gt;</span><span class="alert-text hidden md:inline-block bg-gradient-to-r from-link to-success font-medium">新一代 Agentic Coding 平台 Qoder 来了</span><span class="alert-text bg-gradient-to-r from-link to-success text-muted  md:hidden font-medium">新一代 Agentic Coding 平台 Qoder 来了</span><a href="https://qoder.com/" target="_blank" class="mx-auto flex justify-center md:inline text-primary font-medium md:ml-4 no-underline">点此了解</a></div><button class="close-button text-muted bg-transparent border-none cursor-pointer text-lg leading-6 mr-1 md:mr-4">
&times;
</button></div> <my-layout style="position: sticky; height: 3.5rem; --width: 100%;--height: 3.5rem;--xpadding: 1.5rem;" class="w-full backdrop-blur-md top-0 z-[10] flex justify-center"> <!-- 方便控制header宽度 --> <div class="header-content flex items-center justify-between" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="left-content h-full flex flex-1 items-center after:content-[''] after:grow after:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <a class="no-underline flex" href="/" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <img class="logo" src="https://framerusercontent.com/images/pQ8aJuFZIMiP89TbxUoG075mc.png" alt="Higress-logo" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> </a> <span class="mobile-navbar-wrapper" style="--top: 3.5rem;"> <div class="mobile-navbar mobile-navbar h-full ml-4" style="--top: 3.5rem;"> <mobile-menu-button style="--top: 3.5rem;"> <button aria-expanded="false" aria-label="mobile-menu-button" style="--top: 3.5rem;"> <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6304" width="28" height="28" style="--top: 3.5rem;"> <path d="M192.037 287.953h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32zM832.161 479.169H438.553c-17.673 0-32 14.327-32 32s14.327 32 32 32h393.608c17.673 0 32-14.327 32-32s-14.327-32-32-32zM832.161 735.802H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32zM319.028 351.594l-160 160 160 160z" class="fill-gray" p-id="6305" style="--top: 3.5rem;"></path> </svg> </button> </mobile-menu-button> <div class="navbar-panel bg-secondary" style="--top: 3.5rem;"> <div class="navbar-content flex" style="--top: 3.5rem;"> <span class="mobile-nav-sublist-wrapper"> <ul class="top-level"> <li> <a href="https://higress.ai/" class="large flex items-center"> <span>AI 网关</span> </a> </li><li> <a href="/docs/latest/overview/what-is-higress/" class="large flex items-center"> <span>文档</span> </a> </li><li> <a href="/plugin/" class="large flex items-center"> <span>插件</span> </a> </li><li> <a href="/cloud/" class="large flex items-center"> <span>企业版 Higress</span> </a> </li><li> <a href="/blog/" class="large flex items-center"> <span>博客</span> </a> </li><li> <details> <summary> <div class="group-label"> <span class="large undefined">社区</span> </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-color: #818598;--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="mobile-nav-sublist-wrapper"> <ul>  </ul> </span>  </details> </li><li> <a href="/docs/developers/developers_dev/" class="large flex items-center"> <span>开发者</span> </a> </li><li> <a href="http://demo.higress.io/" class="large flex items-center"> <span>控制台样例</span> </a> </li><li> <a href="/faq/wuyi-intro/" class="large flex items-center"> <span>答疑样例</span> </a> </li> </ul> </span>  </div> </div> </div> </span>   </div> <div class="center-content justify-center flex-2 h-full" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <span class="navbar-wrapper"> <navbar-component class="navbar-component h-full"> <div class="pc-navbar pc-navbar h-full"> <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="https://higress.ai/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> AI 网关  <span class="toggle-text-ailogo text-xs text-center rounded-xl absolute top-[0.5rem] right-[-0.5rem] text-white bg-[red] w-[2rem] h-[1rem] font-medium">
NEW
</span> </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/docs/latest/overview/what-is-higress/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 文档   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/plugin/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  toggle-text-aiwrapper relative"> 插件 <span class="toggle-text-ailogo text-center rounded-xl absolute top-[0] right-[-1.5rem] text-white bg-[red] w-[2rem] h-[1.25rem] font-bold">
AI
</span>  </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/cloud/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 企业版 Higress   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/blog/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 博客   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="hover" class="toggle-component h-full static"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <div class="toggle-text flex items-center justify-center h-full  toggle-text-acai"> 社区 </div>  <svg width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg" data-updown class="ml-2"> <path d="M8.05264 2L5.05264 5.00649L2.05264 2" stroke="#a3a6b3" stroke-width="1.25" stroke-linecap="square"></path> </svg> </div> <div class="toggle-dropdown w-fit inset-x-0 absolute t-3.5rem">   <menu-container class="menu-container dropdown-docs w-screen h-screen flex flex-col justify-start items-center"> <div class="bg-neutral p-10 w-full flex justify-center menu-container-ai"> <div class="w-fit"> <div class="flex justify-between mb-[3.5rem]"> <div class="flex"> <!-- 社区label --> <div class="border-l border-warning flex flex-col px-7 min-w-[12rem]"> <span class="text-xs text-warning mb-2">社区</span> <a href="https://github.com/higress-group/higress-group.github.io/issues" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 报告文档问题  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/developers/contributor-guide/guide_dev/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 贡献社区  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="https://github.com/alibaba/higress/graphs/contributors" target="_blank" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 贡献者  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> <!-- 事件、资源label --> <div class="border-l border-warning flex flex-col px-7 mr-10"> <span class="text-xs text-warning mb-2">资源</span> <a href="/blog/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 博客  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a> <a href="/docs/ebook/wasm14/" target="_self" class="link-text cursor-pointer no-underline flex items-center w-fit text-neutral text-sm mt-3 astro-zb5a5pg4"> 电子书  <svg version="1.1" width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="link-icon  ml-2 fill-neutral astro-zb5a5pg4"> <g transform="matrix(-1,0,0,1,16,0)" class="astro-zb5a5pg4"> <path d="M9.27237,2.16302L9.27237,6.99801Q9.27237,7.26839,9.08915,7.45161Q8.905925,7.63483,8.636183,7.6342Q8.365805,7.6342,8.183221,7.45097Q8.000636137,7.26775,8,6.99801L8,0.636183Q8,0.365805,8.183221,0.183221Q8.366441,0.000636364,8.636183,0L14.99801,0Q15.26839,0,15.451609999999999,0.183221Q15.634830000000001,0.366441,15.63419,0.636183Q15.63419,0.906561,15.45097,1.08978Q15.26775,1.273,14.99801,1.27237L10.16302,1.27237L15.825050000000001,6.93439Q16,7.10935,16,7.37972Q16,7.6501,15.825050000000001,7.82505Q15.6501,8,15.379719999999999,8Q15.10935,8,14.93439,7.82505L9.27237,2.16302Z" fill-opacity="1" class="astro-zb5a5pg4"></path> </g> </svg>  </a>  </div> </div> <div class="flex" id="blog-card-container"> <div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01bGnAVW1pFeLFnlaQL_!!6000000005331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> API赋能AI，AI网关零代码解决AI幻觉问题 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_im44tpldqyt8c97d/?source=blog_case">阅读文章</a></span> </div><div class="relative blog-card w-[16.875] h-[22.5rem] rounded-2xl p-2 flex flex-col ml-4 "> <img src="https://img.alicdn.com/imgextra/i4/O1CN01zfayJW1Lhe4kliPv9_!!6000000001331-2-tps-508-370.png" alt="Higress case" class="rounded-lg" width="254" height="185" loading="lazy" decoding="async"> <p class="w-[15.875rem] text-lg line-clamp-2 mt-3 text-base-100"> Higress 发布 v1.4，开放 AI 网关能力，增强云原生能力 </p> <span class="not-content"><a class="btn rounded-3xl w-[8.5rem] h-[2.5rem] absolute bottom-2 article-button border-none text-secondary no-underline" target="_self" rel="noopener noreferrer" id="article-button" href="/blog/higress-gvr7dx_awbbpb_picigqfume3k5lf3/?source=blog_article">阅读文章</a></span> </div> </div>  </div> <!-- 联系我们 --> <div class="w-[70rem] contact-us flex items-center justify-between rounded-2xl h-9 pl-10 pr-[8.5rem]"> <span class="text-success text-xs leading-9 tracking-[0.15em]"> 联系我们 </span> <div class="flex items-center cursor-pointer"> <a target="_blank" href="https://github.com/alibaba/higress" class="mr-16 flex items-center no-underline"> <svg viewBox="0 80 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3233" width="16" height="16"> <path d="M20.48 503.72608c0 214.4256 137.4208 396.73856 328.94976 463.6672 25.8048 6.5536 21.87264-11.8784 21.87264-24.33024v-85.07392c-148.93056 17.44896-154.86976-81.1008-164.94592-97.52576-20.23424-34.52928-67.91168-43.33568-53.69856-59.76064 33.91488-17.44896 68.48512 4.42368 108.46208 63.61088 28.95872 42.88512 85.44256 35.6352 114.15552 28.4672a138.8544 138.8544 0 0 1 38.0928-66.7648c-154.25536-27.60704-218.60352-121.77408-218.60352-233.79968 0-54.31296 17.94048-104.2432 53.0432-144.54784-22.36416-66.43712 2.08896-123.24864 5.3248-131.6864 63.81568-5.7344 130.00704 45.6704 135.168 49.68448 36.2496-9.78944 77.57824-14.9504 123.82208-14.9504 46.4896 0 88.064 5.3248 124.5184 15.23712 12.288-9.4208 73.80992-53.53472 133.12-48.128 3.15392 8.43776 27.0336 63.93856 6.02112 129.4336 35.59424 40.38656 53.69856 90.76736 53.69856 145.24416 0 112.18944-64.7168 206.4384-219.42272 233.71776a140.0832 140.0832 0 0 1 41.7792 99.9424v123.4944c0.86016 9.87136 0 19.6608 16.50688 19.6608 194.31424-65.49504 334.2336-249.15968 334.2336-465.5104C1002.57792 232.48896 782.66368 12.77952 511.5904 12.77952 240.18944 12.65664 20.48 232.40704 20.48 503.72608z" fill="currentColor" p-id="3234"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">GitHub</span> </a> <div class="mr-16 hoverable relative"> <img class="tooltip hidden w-40 absolute bottom-9" src="/img/dingding_3.jpg" alt="Higress Dingding Code"> <span class="text-neutral flex items-center"> <svg class="icon" viewBox="0 50 1024 800" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4747" width="16" height="16"> <path d="M0 0h1024v1024H0z" class="secondary-fill" fill-opacity="0" p-id="4748"></path><path d="M786.978133 481.6896c-153.770667-117.5552-327.133867-273.237333-517.188266-440.183467-14.984533-13.141333-28.2624-7.953067-34.952534 9.5232-42.8032 111.957333-1.297067 211.421867 65.774934 268.731734 67.345067 57.582933 167.492267 110.592 228.829866 138.683733 2.389333 1.092267 0.3072 4.573867-2.116266 3.515733-112.674133-49.152-191.044267-84.650667-297.3696-165.819733-11.434667-8.738133-23.04-5.3248-24.405334 11.707733-8.704 107.042133 60.484267 191.146667 137.728 219.5456 47.786667 17.6128 100.0448 27.3408 148.548267 33.109334 2.525867 0.341333 1.9456 4.027733-0.580267 4.027733-62.498133 0.2048-138.001067-14.609067-203.332266-39.458133-13.789867-5.256533-18.5344 5.632-16.418134 14.267733 11.1616 45.226667 67.652267 114.346667 157.5936 128.887467 16.827733 2.730667 34.747733 3.072 50.722134 2.628266 3.7888-0.136533 4.7104 1.9456 3.4816 4.846934 0 0-61.098667 103.6288-63.761067 108.066133-2.082133 3.447467-0.8192 6.212267 3.515733 6.212267h80.622934c3.754667 0 6.0416 2.389333 4.096 5.5296-1.877333 3.140267-107.656533 176.7424-112.64 185.0368-4.369067 7.202133 0.785067 12.731733 8.942933 6.826666 8.192-5.9392 346.180267-250.88 355.805867-257.911466 4.437333-3.208533 3.413333-7.5776-2.833067-7.5776h-72.2944c-4.744533 0-5.768533-3.140267-2.56-6.314667 3.242667-3.1744 82.090667-80.964267 110.08-110.08 29.184-30.378667 44.100267-86.050133-5.290667-123.8016" class="secondary-fill" p-id="4749"></path> </svg> <span class="ml-2 mt-1 text-sm text-secondary">钉钉</span> </span> </div> </div> </div> </div> </div> <div class="dropdown-overlay w-full flex-1 bg-neutral-900/[.4]"></div> </menu-container>    </div> </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="/docs/developers/developers_dev/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 开发者   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item ">  <a href="http://demo.higress.io/" target="_blank" class="toggle-text flex items-center justify-center no-underline h-full  "> 控制台样例   </a>   </div>  </toggle-component> </span>  <span class="toggle-wrapper"> <toggle-component data-trigger="click" class="toggle-component h-full relative"> <div class="toggle-trigger relative cursor-pointer flex items-center h-full item item-last-child">  <a href="/faq/wuyi-intro/" target="_self" class="toggle-text flex items-center justify-center no-underline h-full  "> 答疑样例   </a>   </div>  </toggle-component> </span>   </div> </navbar-component> </span>  </div> <div class="right-content flex flex-1 items-center md:gap-4  before:content-[''] before:grow before:invisible" style="--width: 100%;--height: 3.5rem;--xpadding: 1.5rem;"> <div class="astro-bxjx6km4"> <!-- pc --> <toggle-content class="switch float-left relative m-0 rounded-[2rem] max-md:hidden astro-bxjx6km4"> <input disabled data-switch class="switch-checkbox hidden astro-bxjx6km4" id="pc-toggle-switch" type="checkbox"> <!-- container --> <label class="switch-label block overflow-hidden cursor-pointer rounded-[2rem]  
                bg-info
             astro-bxjx6km4" for="pc-toggle-switch"> <!-- static --> <span class="switch-inner block 
                    text-info-button
                 astro-bxjx6km4" data-on="中文" data-off="EN"></span> <!-- active --> <span class="switch-switch absolute float-right mx-1 
                    text-info-button-active
                    bg-info-button
                 astro-bxjx6km4" data-on="EN" data-off="中文"></span> </label> </toggle-content> <!-- mobile --> <div data-switch class="w-[3.5rem] h-[1.5rem] leading-[1.5rem] text-xs text-center rounded-2xl bg-gray-12 max-md:inline-block md:hidden border astro-bxjx6km4" id="pc-toggle-switch"> 中文 </div> </div>   <sl-doc-search data-translations="{&#34;translations&#34;:{&#34;button&#34;:{},&#34;modal&#34;:{&#34;searchBox&#34;:{},&#34;startScreen&#34;:{},&#34;errorScreen&#34;:{},&#34;footer&#34;:{},&#34;noResultsScreen&#34;:{}}}}"> <button type="button" class="DocSearch DocSearch-Button"> <span class="DocSearch-Button-Container"> <svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"> <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <span class="DocSearch-Button-Placeholder"></span> </span> <span class="DocSearch-Button-Keys"></span> </button> </sl-doc-search>   </div> </div> </my-layout> </span>      <div class="w-full blog-slug-wrapper"> <div class="w-[20%] sidebar-content fixed overflow-auto h-full hidden 2xl:inline-block xl:inline-block lg:inline-block md:inline-block"> <!-- @ts-ignore --> <blog-theme> <span class="sidebar-sublist-wrapper"> <ul class="top-level"> <li> <details open> <summary> <div class="group-label"> <span class="large">AI</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/ai/quick-start/" class="flex items-center"> <span>一键部署 Higress AI 网关</span>   </a> </li><li> <a href="/ai/mcp-server/" class="flex items-center"> <span>MCP Server 插件配置</span>   </a> </li><li> <a href="/ai/mcp-quick-start/" class="flex items-center"> <span>MCP Server 快速开始</span>   </a> </li><li> <a href="/ai/mcp-quick-start_docker/" class="flex items-center"> <span>MCP Server 快速开始（Docker 版）</span>   </a> </li><li> <a href="/ai/mcp-with-sse/" class="flex items-center"> <span>MCP Server 快速开始（对接现存 SSE Server）</span>   </a> </li><li> <details open> <summary> <div class="group-label"> <span class="large">场景体验</span>  </div> <svg aria-hidden="true" class="caret astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <span class="sidebar-sublist-wrapper"> <ul> <li> <a href="/ai/scene-guide/token-management/" class="flex items-center"> <span>令牌限流</span>   </a> </li><li> <a href="/ai/scene-guide/semantic-cache/" class="flex items-center"> <span>语义缓存</span>   </a> </li><li> <a href="/ai/scene-guide/multi-proxy/" class="flex items-center"> <span>多模型代理</span>   </a> </li><li> <a href="/ai/scene-guide/application-safety/" class="flex items-center"> <span>内容安全</span>   </a> </li> </ul> </span>  </details> </li> </ul> </span>  </details> </li> </ul> </span>  </blog-theme>  </div> <div class="w-full 2xl:ml-[20%] xl:ml-[20%] lg:ml-[20%] md:ml-[20%] 2xl:w-[60%] xl:w-[60%] lg:w-[80%] md:w-[80%] inline-block"> <span class="markdown-detail-wrapper"> <div class="sl-markdown-content"> <div class="hero-image">  </div> <main> <div class="website-prose mx-auto"> <div class="title"> <h1 id="_top">MCP Server Plugin Configuration</h1> <div></div> <p class="text-left">发布时间 2025-04-03</p> <hr> </div>  <h2 id="feature-description">Feature Description</h2>
<p>The <code dir="auto">mcp-server</code> plugin provides AI tool integration capabilities based on the Model Context Protocol (MCP). MCP is a protocol designed specifically for AI assistants, defining a standard way for AI models to interact with external tools and resources. Through this plugin, you can:</p>
<ol>
<li>Convert existing REST APIs into tools callable by AI assistants without writing any code</li>
<li>Leverage Higress gateway’s unified authentication, authorization, rate limiting, and observability capabilities</li>
<li>Quickly build and deploy AI tools and services</li>
</ol>
<p><img src="https://img.alicdn.com/imgextra/i1/O1CN01wv8H4g1mS4MUzC1QC_!!6000000004952-2-tps-1764-597.png" alt="" referrerpolicy="no-referrer"></p>
<p>By hosting MCP Servers with Higress, you can achieve:</p>
<ul>
<li>Unified authentication and authorization mechanisms, ensuring the security of AI tool calls</li>
<li>Fine-grained rate limiting to prevent abuse and resource exhaustion</li>
<li>Comprehensive audit logs recording all tool call behaviors</li>
<li>Rich observability for monitoring the performance and health of tool calls</li>
<li>Simplified deployment and management through Higress’s plugin mechanism for quickly adding new MCP Servers</li>
</ul>
<h2 id="runtime-properties">Runtime Properties</h2>
<p>Plugin execution phase: <code dir="auto">Default Phase</code>
Plugin execution priority: <code dir="auto">30</code></p>
<h2 id="configuration-fields">Configuration Fields</h2>
<h3 id="server-configuration">Server Configuration</h3>

































<table><thead><tr><th>Name</th><th>Data Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code dir="auto">server.name</code></td><td>string</td><td>Yes</td><td>-</td><td>Name of the MCP server. If using a pre-integrated MCP server (like quark-search), you only need to configure this field with the corresponding name and don’t need to configure the tools field. For REST-to-MCP scenarios, this field can be any arbitrary value.</td></tr><tr><td><code dir="auto">server.config</code></td><td>object</td><td>No</td><td>{}</td><td>Server configuration, such as API keys</td></tr><tr><td><code dir="auto">server.securitySchemes</code></td><td>array of object</td><td>No</td><td>-</td><td>Defines reusable security schemes that can be referenced by tools. See the Authentication and Security section for details.</td></tr></tbody></table>
<h3 id="allowed-tools-configuration">Allowed Tools Configuration</h3>



















<table><thead><tr><th>Name</th><th>Data Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code dir="auto">allowTools</code></td><td>array of string</td><td>No</td><td>-</td><td>List of tools allowed to be called. If not specified, all tools are allowed</td></tr></tbody></table>
<h3 id="rest-to-mcp-tool-configuration">REST-to-MCP Tool Configuration</h3>



















































































































































































































































<table><thead><tr><th>Name</th><th>Data Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code dir="auto">tools</code></td><td>array of object</td><td>No</td><td>[]</td><td>List of REST-to-MCP tool configurations</td></tr><tr><td><code dir="auto">tools[].name</code></td><td>string</td><td>Yes</td><td>-</td><td>Tool name</td></tr><tr><td><code dir="auto">tools[].description</code></td><td>string</td><td>Yes</td><td>-</td><td>Tool functionality description</td></tr><tr><td><code dir="auto">tools[].args</code></td><td>array of object</td><td>Yes</td><td>[]</td><td>Tool parameter definitions</td></tr><tr><td><code dir="auto">tools[].args[].name</code></td><td>string</td><td>Yes</td><td>-</td><td>Parameter name</td></tr><tr><td><code dir="auto">tools[].args[].description</code></td><td>string</td><td>Yes</td><td>-</td><td>Parameter description</td></tr><tr><td><code dir="auto">tools[].args[].type</code></td><td>string</td><td>No</td><td>string</td><td>Parameter type (string, number, integer, boolean, array, object)</td></tr><tr><td><code dir="auto">tools[].args[].required</code></td><td>boolean</td><td>No</td><td>false</td><td>Whether the parameter is required</td></tr><tr><td><code dir="auto">tools[].args[].default</code></td><td>any</td><td>No</td><td>-</td><td>Parameter default value</td></tr><tr><td><code dir="auto">tools[].args[].enum</code></td><td>array</td><td>No</td><td>-</td><td>List of allowed values for the parameter</td></tr><tr><td><code dir="auto">tools[].args[].items</code></td><td>object</td><td>No</td><td>-</td><td>Schema for array items (when type is array)</td></tr><tr><td><code dir="auto">tools[].args[].properties</code></td><td>object</td><td>No</td><td>-</td><td>Schema for object properties (when type is object)</td></tr><tr><td><code dir="auto">tools[].args[].position</code></td><td>string</td><td>No</td><td>-</td><td>Position of the parameter in the request (query, path, header, cookie, body)</td></tr><tr><td><code dir="auto">tools[].requestTemplate</code></td><td>object</td><td>Yes</td><td>-</td><td>HTTP request template</td></tr><tr><td><code dir="auto">tools[].requestTemplate.url</code></td><td>string</td><td>Yes</td><td>-</td><td>Request URL template</td></tr><tr><td><code dir="auto">tools[].requestTemplate.method</code></td><td>string</td><td>Yes</td><td>-</td><td>HTTP method (GET/POST, etc.)</td></tr><tr><td><code dir="auto">tools[].requestTemplate.headers</code></td><td>array of object</td><td>No</td><td>[]</td><td>Request header templates</td></tr><tr><td><code dir="auto">tools[].requestTemplate.headers[].key</code></td><td>string</td><td>Yes</td><td>-</td><td>Request header name</td></tr><tr><td><code dir="auto">tools[].requestTemplate.headers[].value</code></td><td>string</td><td>Yes</td><td>-</td><td>Request header value template</td></tr><tr><td><code dir="auto">tools[].requestTemplate.body</code></td><td>string</td><td>No</td><td>-</td><td>Request body template (mutually exclusive with argsToJsonBody, argsToUrlParam, argsToFormBody)</td></tr><tr><td><code dir="auto">tools[].requestTemplate.argsToJsonBody</code></td><td>boolean</td><td>No</td><td>false</td><td>When true, arguments will be used directly as the JSON request body (mutually exclusive with body, argsToUrlParam, argsToFormBody)</td></tr><tr><td><code dir="auto">tools[].requestTemplate.argsToUrlParam</code></td><td>boolean</td><td>No</td><td>false</td><td>When true, arguments will be added to the URL as query parameters (mutually exclusive with body, argsToJsonBody, argsToFormBody)</td></tr><tr><td><code dir="auto">tools[].requestTemplate.argsToFormBody</code></td><td>boolean</td><td>No</td><td>false</td><td>When true, arguments will be encoded as application/x-www-form-urlencoded in the request body (mutually exclusive with body, argsToJsonBody, argsToUrlParam)</td></tr><tr><td><code dir="auto">tools[].responseTemplate</code></td><td>object</td><td>Yes</td><td>-</td><td>HTTP response transformation template</td></tr><tr><td><code dir="auto">tools[].responseTemplate.body</code></td><td>string</td><td>No</td><td>-</td><td>Response body transformation template (mutually exclusive with prependBody and appendBody)</td></tr><tr><td><code dir="auto">tools[].responseTemplate.prependBody</code></td><td>string</td><td>No</td><td>-</td><td>Text to insert before the response body (mutually exclusive with body)</td></tr><tr><td><code dir="auto">tools[].responseTemplate.appendBody</code></td><td>string</td><td>No</td><td>-</td><td>Text to insert after the response body (mutually exclusive with body)</td></tr><tr><td><code dir="auto">tools[].security</code></td><td>object</td><td>No</td><td>-</td><td>Tool-level security configuration, defining authentication between MCP Client and MCP Server, with support for credential passthrough.</td></tr><tr><td><code dir="auto">tools[].security.id</code></td><td>string</td><td>Required when <code dir="auto">tools[].security</code> is configured</td><td>-</td><td>References a security scheme ID defined in <code dir="auto">server.securitySchemes</code>.</td></tr><tr><td><code dir="auto">tools[].security.passthrough</code></td><td>boolean</td><td>No</td><td>false</td><td>Enables transparent authentication. If <code dir="auto">true</code>, credentials extracted from the MCP Client request will be used for the authentication scheme defined in <code dir="auto">requestTemplate.security</code>.</td></tr><tr><td><code dir="auto">tools[].requestTemplate.security</code></td><td>object</td><td>No</td><td>-</td><td>Security configuration for the HTTP request template, defining authentication between MCP Server and REST API.</td></tr><tr><td><code dir="auto">tools[].requestTemplate.security.id</code></td><td>string</td><td>Required when <code dir="auto">tools[].requestTemplate.security</code> is configured</td><td>-</td><td>References a security scheme ID defined in <code dir="auto">server.securitySchemes</code>.</td></tr><tr><td><code dir="auto">tools[].requestTemplate.security.credential</code></td><td>string</td><td>No</td><td>-</td><td>Overrides the default credential defined in <code dir="auto">server.securitySchemes</code>. If <code dir="auto">tools[].security.passthrough</code> is enabled, this field will be ignored, and the passthrough credential will be used instead.</td></tr></tbody></table>
<h2 id="authentication-and-security">Authentication and Security</h2>
<p>The MCP Server plugin supports flexible authentication configurations to ensure secure communication with backend REST APIs.</p>
<h3 id="defining-security-schemes-serversecurityschemes">Defining Security Schemes (<code dir="auto">server.securitySchemes</code>)</h3>
<p>You can define a set of reusable security schemes at the server level. These schemes can later be referenced by tools to configure how the MCP Server authenticates requests to backend REST APIs.</p>
<p><strong>Configuration Fields (<code dir="auto">server.securitySchemes[]</code>)</strong>:</p>















































<table><thead><tr><th>Name</th><th>Data Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code dir="auto">id</code></td><td>string</td><td>Yes</td><td>Unique identifier for the security scheme, to be referenced in tool configurations.</td></tr><tr><td><code dir="auto">type</code></td><td>string</td><td>Yes</td><td>Authentication type, supporting <code dir="auto">http</code> (for Basic and Bearer auth) and <code dir="auto">apiKey</code>.</td></tr><tr><td><code dir="auto">scheme</code></td><td>string</td><td>No</td><td>When <code dir="auto">type</code> is <code dir="auto">http</code>, specifies the specific scheme, such as <code dir="auto">basic</code> or <code dir="auto">bearer</code>.</td></tr><tr><td><code dir="auto">in</code></td><td>string</td><td>No</td><td>When <code dir="auto">type</code> is <code dir="auto">apiKey</code>, specifies the location of the API key, such as <code dir="auto">header</code> or <code dir="auto">query</code>.</td></tr><tr><td><code dir="auto">name</code></td><td>string</td><td>No</td><td>When <code dir="auto">type</code> is <code dir="auto">apiKey</code>, specifies the header name or query parameter name.</td></tr><tr><td><code dir="auto">defaultCredential</code></td><td>string</td><td>No</td><td>Default credential for this scheme. For Basic Auth, this can be “user:password
”; for Bearer Token, the token itself; for API Key, the key itself.</td></tr></tbody></table>
<p><strong>Example (<code dir="auto">server.securitySchemes</code>)</strong>:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.1vui4.css"><script type="module" src="/_astro/ec.dy9ns.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">server</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">my-api-server</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">securitySchemes</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">MyBasicAuth</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">http</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">scheme</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">basic</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">defaultCredential</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"admin:secretpassword"</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># Default username and password</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">MyBearerToken</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">http</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">scheme</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">bearer</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">defaultCredential</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># Default Bearer Token</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">MyApiKeyInHeader</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">apiKey</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">in</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">header</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">X-Custom-API-Key</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># API Key in a header named X-Custom-API-Key</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">defaultCredential</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"abcdef123456"</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># Default API Key</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">MyApiKeyInQuery</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">apiKey</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">in</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">query</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"api_token"</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># API Key in a query parameter named api_token</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">defaultCredential</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"uvwxyz789012"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="server:  name: my-api-server  securitySchemes:  - id: MyBasicAuth    type: http    scheme: basic    defaultCredential: &#x22;admin:secretpassword&#x22; # Default username and password  - id: MyBearerToken    type: http    scheme: bearer    defaultCredential: &#x22;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&#x22; # Default Bearer Token  - id: MyApiKeyInHeader    type: apiKey    in: header    name: X-Custom-API-Key # API Key in a header named X-Custom-API-Key    defaultCredential: &#x22;abcdef123456&#x22; # Default API Key  - id: MyApiKeyInQuery    type: apiKey    in: query    name: &#x22;api_token&#x22; # API Key in a query parameter named api_token    defaultCredential: &#x22;uvwxyz789012&#x22;"><div></div></button></div></figure></div>
<h3 id="applying-security-schemes-in-tools">Applying Security Schemes in Tools</h3>
<p>After defining <code dir="auto">server.securitySchemes</code>, you can reference these schemes in each tool’s <code dir="auto">requestTemplate.security</code> by their <code dir="auto">id</code> to specify the authentication method used by the MCP Server when calling the backend REST API.</p>
<ul>
<li><strong><code dir="auto">tools[].requestTemplate.security.id</code></strong>: References the <code dir="auto">id</code> of a security scheme defined in <code dir="auto">server.securitySchemes</code>.</li>
<li><strong><code dir="auto">tools[].requestTemplate.security.credential</code></strong>: Optional. If provided, it will override the <code dir="auto">defaultCredential</code> in the referenced scheme. This allows you to use different credentials for specific tools, even if they share the same authentication mechanism.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">tools</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">get-user-details</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#99A0A6"># ... other tool configuration ...</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">url</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"https://api.example.com/users/{{.args.userId}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">method</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">GET</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">security</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">MyBearerToken</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># Use the MyBearerToken scheme defined above</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6"># credential: "override_token_for_this_tool" # Optional: Override the default token for this tool</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6"># ...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">update-inventory</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#99A0A6"># ... other tool configuration ...</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">url</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"https://api.example.com/inventory/{{.args.itemId}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">method</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">POST</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">security</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">MyApiKeyInHeader</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># Use the MyApiKeyInHeader scheme</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6"># This tool will use the defaultCredential defined in MyApiKeyInHeader</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="tools:- name: get-user-details  # ... other tool configuration ...  requestTemplate:    url: &#x22;https://api.example.com/users/{{.args.userId}}&#x22;    method: GET    security:      id: MyBearerToken # Use the MyBearerToken scheme defined above      # credential: &#x22;override_token_for_this_tool&#x22; # Optional: Override the default token for this tool# ...- name: update-inventory  # ... other tool configuration ...  requestTemplate:    url: &#x22;https://api.example.com/inventory/{{.args.itemId}}&#x22;    method: POST    security:      id: MyApiKeyInHeader # Use the MyApiKeyInHeader scheme      # This tool will use the defaultCredential defined in MyApiKeyInHeader"><div></div></button></div></figure></div>
<h3 id="passthrough-authentication">Passthrough Authentication</h3>
<p>The passthrough authentication feature allows credentials provided by the MCP Client (e.g., an AI assistant) when calling the MCP Server to be passed through to the authentication process when the MCP Server calls the backend REST API.</p>
<p><strong>Configuration</strong>:</p>
<ol>
<li>
<p><strong>Ensure relevant security schemes are defined in <code dir="auto">server.securitySchemes</code></strong>. This includes schemes for both client-to-MCP Server and MCP Server-to-backend REST API authentication.</p>
</li>
<li>
<p><strong>Configure tool-level authentication (<code dir="auto">tools[].security</code>)</strong>:
In tools where credential passthrough is needed, configure the <code dir="auto">security</code> field:</p>
<ul>
<li><code dir="auto">id</code>: References a security scheme defined in <code dir="auto">server.securitySchemes</code> that is used for <strong>MCP Client to MCP Server</strong> authentication. The plugin will extract credentials from the client request based on this scheme and clean the original credential from the request.</li>
<li><code dir="auto">passthrough: true</code>: Enables passthrough authentication.</li>
</ul>
</li>
<li>
<p><strong>Configure request template authentication (<code dir="auto">tools[].requestTemplate.security</code>)</strong>:
In the tool’s <code dir="auto">requestTemplate</code>, configure the <code dir="auto">security</code> field:</p>
<ul>
<li><code dir="auto">id</code>: References a security scheme defined in <code dir="auto">server.securitySchemes</code> that is used for <strong>MCP Server to backend REST API</strong> authentication.</li>
<li>When <code dir="auto">tools[].security.passthrough</code> is <code dir="auto">true</code>, the credential extracted from the client will be applied to the backend REST API call according to this <code dir="auto">requestTemplate.security</code> scheme.</li>
</ul>
</li>
</ol>
<p><strong>Example</strong>:</p>
<p>Suppose the MCP Client uses a Bearer Token to call the MCP Server, and the MCP Server needs to use an API Key to call the backend REST API.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">server</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">product-api-server</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">securitySchemes</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">ClientSideBearer</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># Client uses Bearer Token</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">http</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">scheme</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">bearer</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">BackendApiKey</span><span style="--0:#E1E4E8">    </span><span style="--0:#99A0A6"># Backend API uses X-API-Key</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">apiKey</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">in</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">header</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">X-API-Key</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6"># defaultCredential: "optional_default_backend_key"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">tools</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">get-product-securely</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Get product information (secure passthrough)"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">security</span><span style="--0:#E1E4E8">: </span><span style="--0:#99A0A6"># Client -> MCP Server authentication configuration</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">ClientSideBearer</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># MCP Server expects clients to use this scheme and will extract this type of credential</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">passthrough</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span><span style="--0:#E1E4E8">   </span><span style="--0:#99A0A6"># Enable passthrough</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">args</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">product_id</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Product ID"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">security</span><span style="--0:#E1E4E8">: </span><span style="--0:#99A0A6"># MCP Server -> backend REST API authentication configuration</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">id</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">BackendApiKey</span><span style="--0:#E1E4E8"> </span><span style="--0:#99A0A6"># Backend API requires this scheme. The passthrough credential will be applied according to this scheme.</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">url</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"https://api.example.com/products/{{.args.product_id}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">method</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">GET</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="server:  name: product-api-server  securitySchemes:  - id: ClientSideBearer # Client uses Bearer Token    type: http    scheme: bearer  - id: BackendApiKey    # Backend API uses X-API-Key    type: apiKey    in: header    name: X-API-Key    # defaultCredential: &#x22;optional_default_backend_key&#x22;tools:- name: get-product-securely  description: &#x22;Get product information (secure passthrough)&#x22;  security: # Client -> MCP Server authentication configuration    id: ClientSideBearer # MCP Server expects clients to use this scheme and will extract this type of credential    passthrough: true   # Enable passthrough  args:  - name: product_id    description: &#x22;Product ID&#x22;    type: string    required: true  requestTemplate:    security: # MCP Server -> backend REST API authentication configuration      id: BackendApiKey # Backend API requires this scheme. The passthrough credential will be applied according to this scheme.    url: &#x22;https://api.example.com/products/{{.args.product_id}}&#x22;    method: GET"><div></div></button></div></figure></div>
<p><strong>Workflow</strong>:</p>
<ol>
<li>The MCP Client sends a request to the MCP Server’s <code dir="auto">get-product-securely</code> tool, with an <code dir="auto">Authorization</code> header containing <code dir="auto">Bearer &#x3C;client_token></code>.</li>
<li>The MCP Server identifies that the client is using a Bearer Token based on <code dir="auto">tools[].security</code> (id: <code dir="auto">ClientSideBearer</code>). It extracts <code dir="auto">&#x3C;client_token></code> from the request and removes the original <code dir="auto">Authorization</code> header.</li>
<li>Because <code dir="auto">passthrough: true</code> is set, the extracted <code dir="auto">&#x3C;client_token></code> is marked for passthrough.</li>
<li>The MCP Server prepares to call the backend REST API. It looks at <code dir="auto">requestTemplate.security</code> (id: <code dir="auto">BackendApiKey</code>).</li>
<li>Since passthrough is enabled, the MCP Server uses the previously extracted <code dir="auto">&#x3C;client_token></code> as the credential value, applying it according to the <code dir="auto">BackendApiKey</code> scheme (i.e., as an HTTP header named <code dir="auto">X-API-Key</code>).</li>
<li>The backend REST API receives the request with the <code dir="auto">X-API-Key</code> header containing the value <code dir="auto">&#x3C;client_token></code>.</li>
</ol>
<p><strong>Notes</strong>:</p>
<ul>
<li>When <code dir="auto">tools[].security.passthrough</code> is <code dir="auto">true</code>, the <code dir="auto">requestTemplate.security.credential</code> field is ignored, and the passthrough credential takes precedence.</li>
<li>The passthrough credential value is applied directly to the authentication scheme specified by <code dir="auto">requestTemplate.security</code>. Ensure that the credential format is compatible with the target authentication scheme. The <code dir="auto">extractAndRemoveIncomingCredential</code> function attempts to extract the core credential part (e.g., the Bearer token value, the base64-encoded part of Basic auth).</li>
</ul>
<h2 id="parameter-type-support">Parameter Type Support</h2>
<p>REST-to-MCP tools support various parameter types, allowing you to define tool parameters more precisely:</p>
<ul>
<li><strong>string</strong>: String type (default)</li>
<li><strong>number</strong>: Number type (floating point)</li>
<li><strong>integer</strong>: Integer type</li>
<li><strong>boolean</strong>: Boolean type (true/false)</li>
<li><strong>array</strong>: Array type, using the <code dir="auto">items</code> field to define the schema for array elements</li>
<li><strong>object</strong>: Object type, using the <code dir="auto">properties</code> field to define the schema for object properties</li>
</ul>
<p>Example:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">args</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">query</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Search keyword"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">limit</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Number of results to return"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">integer</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">default</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">10</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">filters</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Filter conditions"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">object</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">properties</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">category</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">enum</span><span style="--0:#E1E4E8">: [</span><span style="--0:#9ECBFF">"food"</span><span style="--0:#E1E4E8">, </span><span style="--0:#9ECBFF">"hotel"</span><span style="--0:#E1E4E8">, </span><span style="--0:#9ECBFF">"attraction"</span><span style="--0:#E1E4E8">]</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">price</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">integer</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">minimum</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">0</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">coordinates</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"List of coordinate points"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">array</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">items</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">object</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">properties</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">lat</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">number</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">lng</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">number</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="args:- name: query  description: &#x22;Search keyword&#x22;  type: string  required: true- name: limit  description: &#x22;Number of results to return&#x22;  type: integer  default: 10- name: filters  description: &#x22;Filter conditions&#x22;  type: object  properties:    category:      type: string      enum: [&#x22;food&#x22;, &#x22;hotel&#x22;, &#x22;attraction&#x22;]    price:      type: integer      minimum: 0- name: coordinates  description: &#x22;List of coordinate points&#x22;  type: array  items:    type: object    properties:      lat:        type: number      lng:        type: number"><div></div></button></div></figure></div>
<h2 id="parameter-position-control">Parameter Position Control</h2>
<p>REST-to-MCP tools support precise control of each parameter’s position in the request through the <code dir="auto">position</code> field. This allows you to build API requests more flexibly, for example, using path parameters, query parameters, and request body parameters simultaneously.</p>
<h3 id="supported-position-types">Supported Position Types</h3>
<ul>
<li><strong>query</strong>: Parameter will be added to the URL as a query parameter</li>
<li><strong>path</strong>: Parameter will replace a path placeholder in the URL, such as <code dir="auto">{petId}</code> in <code dir="auto">/pet/{petId}</code></li>
<li><strong>header</strong>: Parameter will be added to the request as an HTTP header</li>
<li><strong>cookie</strong>: Parameter will be added to the request as a Cookie</li>
<li><strong>body</strong>: Parameter will be added to the request body (automatically formatted as JSON or form based on content type)</li>
</ul>
<h3 id="usage-example">Usage Example</h3>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">args</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">petId</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Pet ID"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">position</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">path</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">token</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Authentication token"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">position</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">header</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">sessionId</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Session ID"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">position</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">cookie</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">limit</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Number of results to return"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">integer</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">default</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">10</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">position</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">query</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">tags</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"List of tags"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">array</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">position</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">body</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="args:- name: petId  description: &#x22;Pet ID&#x22;  type: string  required: true  position: path- name: token  description: &#x22;Authentication token&#x22;  type: string  required: true  position: header- name: sessionId  description: &#x22;Session ID&#x22;  type: string  position: cookie- name: limit  description: &#x22;Number of results to return&#x22;  type: integer  default: 10  position: query- name: tags  description: &#x22;List of tags&#x22;  type: array  position: body"><div></div></button></div></figure></div>
<p>In the example above:</p>
<ul>
<li><code dir="auto">petId</code> will replace the <code dir="auto">{petId}</code> placeholder in the URL</li>
<li><code dir="auto">token</code> will be added as an HTTP header to the request</li>
<li><code dir="auto">sessionId</code> will be added as a Cookie to the request</li>
<li><code dir="auto">limit</code> will be added as a query parameter to the URL</li>
<li><code dir="auto">tags</code> will be added to the request body</li>
</ul>
<h3 id="relationship-with-bulk-parameter-processing-options">Relationship with Bulk Parameter Processing Options</h3>
<p>When using <code dir="auto">position</code> to specify parameter locations, these parameters will be processed according to their specified positions and will not be affected by bulk parameter processing options (<code dir="auto">argsToJsonBody</code>, <code dir="auto">argsToUrlParam</code>, <code dir="auto">argsToFormBody</code>). Only parameters without a specified <code dir="auto">position</code> will be affected by these bulk options.</p>
<p>For example, if you use both <code dir="auto">position</code> and <code dir="auto">argsToJsonBody</code>:</p>
<ul>
<li>Parameters with <code dir="auto">position: query</code> will be added to the URL query string</li>
<li>Parameters with <code dir="auto">position: header</code> will be added as HTTP headers</li>
<li>Parameters with <code dir="auto">position: path</code> will replace placeholders in the URL</li>
<li>Parameters with <code dir="auto">position: cookie</code> will be added as Cookies</li>
<li>Parameters with <code dir="auto">position: body</code> will be added to the JSON request body</li>
<li>Parameters without a specified <code dir="auto">position</code> will be added to the JSON request body via <code dir="auto">argsToJsonBody</code></li>
</ul>
<p>Additionally, if a <code dir="auto">body</code> is explicitly specified in the <code dir="auto">requestTemplate</code>, all parameters with <code dir="auto">position: body</code> will be ignored to avoid conflicts.</p>
<h2 id="request-parameter-passing-methods">Request Parameter Passing Methods</h2>
<p>In addition to precisely controlling each parameter’s position using <code dir="auto">position</code>, REST-to-MCP tools also support four bulk parameter processing methods, which are <strong>mutually exclusive</strong> - only one can be used:</p>
<ol>
<li>
<p><strong>body</strong>: Manually construct the request body using a template. This is the most flexible approach, allowing you complete control over the request body format.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">body</span><span style="--0:#E1E4E8">: </span><span style="--0:#F97583">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">    </span></span><span style="--0:#9ECBFF">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">"query": "{{.args.query}}",</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">"filters": {{toJson .args.filters}},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">"options": {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">"limit": {{.args.limit}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">    </span></span><span style="--0:#9ECBFF">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="requestTemplate:  body: |    {      &#x22;query&#x22;: &#x22;{{.args.query}}&#x22;,      &#x22;filters&#x22;: {{toJson .args.filters}},      &#x22;options&#x22;: {        &#x22;limit&#x22;: {{.args.limit}}      }    }"><div></div></button></div></figure></div>
</li>
<li>
<p><strong>argsToJsonBody</strong>: When set to <code dir="auto">true</code>, parameters without a specified <code dir="auto">position</code> will be sent directly as a JSON object in the request body, and the <code dir="auto">Content-Type: application/json; charset=utf-8</code> header will be automatically added.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">argsToJsonBody</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="requestTemplate:  argsToJsonBody: true"><div></div></button></div></figure></div>
</li>
<li>
<p><strong>argsToUrlParam</strong>: When set to <code dir="auto">true</code>, parameters without a specified <code dir="auto">position</code> will be added to the URL as query parameters.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">argsToUrlParam</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="requestTemplate:  argsToUrlParam: true"><div></div></button></div></figure></div>
</li>
<li>
<p><strong>argsToFormBody</strong>: When set to <code dir="auto">true</code>, parameters without a specified <code dir="auto">position</code> will be encoded as <code dir="auto">application/x-www-form-urlencoded</code> in the request body, and the appropriate Content-Type header will be automatically added.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">argsToFormBody</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="requestTemplate:  argsToFormBody: true"><div></div></button></div></figure></div>
</li>
</ol>
<p>These options simplify the configuration of common API call patterns without having to manually construct request bodies or URL parameters. Note that these four options are mutually exclusive, and only one can be used in a tool configuration. If multiple options are configured simultaneously, the system will return an error and refuse to load the tool configuration.</p>
<h2 id="template-syntax">Template Syntax</h2>
<p>The REST-to-MCP feature uses the <a href="https://github.com/higress-group/gjson_template" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">GJSON Template</a> library for template rendering, which combines Go’s template syntax with GJSON’s powerful path syntax:</p>
<h3 id="request-templates">Request Templates</h3>
<p>Used to construct HTTP request URLs, headers, and bodies:</p>
<ul>
<li>Access configuration values: <code dir="auto">.config.fieldName</code></li>
<li>Access tool parameters: <code dir="auto">.args.paramName</code></li>
</ul>
<h3 id="response-templates">Response Templates</h3>
<p>Used to transform HTTP responses into formats suitable for AI consumption:</p>
<ul>
<li>Access JSON response fields using GJSON path syntax</li>
<li>Use template functions like <code dir="auto">add</code>, <code dir="auto">upper</code>, <code dir="auto">lower</code>, etc.</li>
<li>Use control structures like <code dir="auto">if</code>, <code dir="auto">range</code>, etc.</li>
</ul>
<p>GJSON Template includes all <a href="https://github.com/Masterminds/sprig" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">Sprig</a> functions, providing 70+ template functions for string manipulation, mathematical operations, date formatting, and more, making it functionally equivalent to Helm’s template capabilities.</p>
<p>Commonly used Sprig functions include:</p>
<ul>
<li><strong>String manipulation</strong>: <code dir="auto">trim</code>, <code dir="auto">upper</code>, <code dir="auto">lower</code>, <code dir="auto">replace</code>, <code dir="auto">plural</code>, <code dir="auto">nospace</code></li>
<li><strong>Math operations</strong>: <code dir="auto">add</code>, <code dir="auto">sub</code>, <code dir="auto">mul</code>, <code dir="auto">div</code>, <code dir="auto">max</code>, <code dir="auto">min</code></li>
<li><strong>Date formatting</strong>: <code dir="auto">now</code>, <code dir="auto">date</code>, <code dir="auto">dateInZone</code>, <code dir="auto">dateModify</code></li>
<li><strong>List operations</strong>: <code dir="auto">list</code>, <code dir="auto">first</code>, <code dir="auto">last</code>, <code dir="auto">uniq</code>, <code dir="auto">sortAlpha</code></li>
<li><strong>Dictionary operations</strong>: <code dir="auto">dict</code>, <code dir="auto">get</code>, <code dir="auto">set</code>, <code dir="auto">hasKey</code>, <code dir="auto">pluck</code></li>
<li><strong>Flow control</strong>: <code dir="auto">ternary</code>, <code dir="auto">default</code>, <code dir="auto">empty</code>, <code dir="auto">coalesce</code></li>
<li><strong>Type conversion</strong>: <code dir="auto">toString</code>, <code dir="auto">toJson</code>, <code dir="auto">toPrettyJson</code>, <code dir="auto">toRawJson</code></li>
<li><strong>Encoding/decoding</strong>: <code dir="auto">b64enc</code>, <code dir="auto">b64dec</code>, <code dir="auto">urlquery</code>, <code dir="auto">urlqueryescape</code></li>
<li><strong>UUID generation</strong>: <code dir="auto">uuidv4</code></li>
</ul>
<p>For a complete reference of all available functions, see the <a href="https://helm.sh/docs/chart_template_guide/function_list/" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">Helm function documentation</a>, as GJSON Template includes the same function set.</p>
<h3 id="gjson-path-syntax">GJSON Path Syntax</h3>
<p>GJSON provides powerful JSON querying capabilities:</p>
<ul>
<li><strong>Dot notation</strong>: <code dir="auto">address.city</code></li>
<li><strong>Array indexing</strong>: <code dir="auto">users.0.name</code></li>
<li><strong>Array iteration</strong>: <code dir="auto">users.#.name</code></li>
<li><strong>Array filtering</strong>: <code dir="auto">users.#(age>=30)#.name</code></li>
<li><strong>Modifiers</strong>: <code dir="auto">users.@reverse.#.name</code></li>
<li><strong>Multipath</strong>: <code dir="auto">{name:users.0.name,count:users.#}</code></li>
<li><strong>Escape characters</strong>: <code dir="auto">path.with\.dot</code></li>
</ul>
<p>For more complex queries, you can use the <code dir="auto">gjson</code> function:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">&#x3C;!-- Using the gjson function for complex queries --></span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Active users: {{gjson "users.#(active==true)#.name"}}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">&#x3C;!-- Array filtering with multiple conditions --></span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Active developers over 30: {{gjson "users.#(active==true &#x26;&#x26; age>30)#.name"}}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">&#x3C;!-- Using modifiers --></span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">User names (reversed): {{gjson "users.@reverse.#.name"}}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">&#x3C;!-- Iterating over filtered results --></span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Admins:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">{{range $user := gjson "users.#(roles.#(==admin)>0)#"}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">- {{$user.name}} ({{$user.age}})</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">{{end}}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<!-- Using the gjson function for complex queries -->Active users: {{gjson &#x22;users.#(active==true)#.name&#x22;}}<!-- Array filtering with multiple conditions -->Active developers over 30: {{gjson &#x22;users.#(active==true &#x26;&#x26; age>30)#.name&#x22;}}<!-- Using modifiers -->User names (reversed): {{gjson &#x22;users.@reverse.#.name&#x22;}}<!-- Iterating over filtered results -->Admins:{{range $user := gjson &#x22;users.#(roles.#(==admin)>0)#&#x22;}}  - {{$user.name}} ({{$user.age}}){{end}}"><div></div></button></div></figure></div>
<p>For a complete reference of GJSON path syntax, see the <a href="https://github.com/tidwall/gjson#path-syntax" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">GJSON documentation</a>.</p>
<h2 id="configuration-examples">Configuration Examples</h2>
<h3 id="using-built-in-mcp-server-example-configuring-quark-search">Using Built-in MCP Server Example: Configuring quark-search</h3>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">server</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"quark-search"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">config</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">apiKey</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"xxxx"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="server:  name: &#x22;quark-search&#x22;  config:    apiKey: &#x22;xxxx&#x22;"><div></div></button></div></figure></div>
<p>This configuration uses Higress’s built-in quark-search MCP server. In this case, you only need to specify the server name and necessary configuration (such as API key), without configuring the tools field, as the tools are already predefined in the server.</p>
<h3 id="basic-example-converting-amap-api">Basic Example: Converting AMap API</h3>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">server</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">rest-amap-server</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">config</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">apiKey</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">your-api-key-here</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">tools</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">maps-geo</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Convert structured address information to latitude and longitude coordinates. Supports parsing landmarks, scenic spots, and building names into coordinates."</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">args</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">address</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"The structured address to parse"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">city</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"The city to search in"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">false</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">output</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Output format"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">enum</span><span style="--0:#E1E4E8">: [</span><span style="--0:#9ECBFF">"json"</span><span style="--0:#E1E4E8">, </span><span style="--0:#9ECBFF">"xml"</span><span style="--0:#E1E4E8">]</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">default</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"json"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">url</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"https://restapi.amap.com/v3/geocode/geo"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">method</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">GET</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">argsToUrlParam</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">headers</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">    </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">key</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">x-api-key</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">value</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"{{.config.apiKey}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">responseTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">body</span><span style="--0:#E1E4E8">: </span><span style="--0:#F97583">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF"># Geocoding Information</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{- range $index, $geo := .geocodes }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">## Location {{add $index 1}}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Country**: {{ $geo.country }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Province**: {{ $geo.province }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **City**: {{ $geo.city }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **City Code**: {{ $geo.citycode }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **District**: {{ $geo.district }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Street**: {{ $geo.street }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Number**: {{ $geo.number }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Administrative Code**: {{ $geo.adcode }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Coordinates**: {{ $geo.location }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Level**: {{ $geo.level }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{- end }}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="server:  name: rest-amap-server  config:    apiKey: your-api-key-heretools:- name: maps-geo  description: &#x22;Convert structured address information to latitude and longitude coordinates. Supports parsing landmarks, scenic spots, and building names into coordinates.&#x22;  args:  - name: address    description: &#x22;The structured address to parse&#x22;    type: string    required: true  - name: city    description: &#x22;The city to search in&#x22;    type: string    required: false  - name: output    description: &#x22;Output format&#x22;    type: string    enum: [&#x22;json&#x22;, &#x22;xml&#x22;]    default: &#x22;json&#x22;  requestTemplate:    url: &#x22;https://restapi.amap.com/v3/geocode/geo&#x22;    method: GET    argsToUrlParam: true    headers:    - key: x-api-key      value: &#x22;{{.config.apiKey}}&#x22;  responseTemplate:    body: |      # Geocoding Information      {{- range $index, $geo := .geocodes }}      ## Location {{add $index 1}}      - **Country**: {{ $geo.country }}      - **Province**: {{ $geo.province }}      - **City**: {{ $geo.city }}      - **City Code**: {{ $geo.citycode }}      - **District**: {{ $geo.district }}      - **Street**: {{ $geo.street }}      - **Number**: {{ $geo.number }}      - **Administrative Code**: {{ $geo.adcode }}      - **Coordinates**: {{ $geo.location }}      - **Level**: {{ $geo.level }}      {{- end }}"><div></div></button></div></figure></div>
<p>This configuration converts AMap’s geocoding API into a tool callable by AI. When the AI calls this tool:</p>
<ol>
<li>It builds an API request using the provided address and city parameters</li>
<li>Calls the AMap API</li>
<li>Transforms the JSON response into an easy-to-read Markdown format</li>
<li>Returns the formatted result to the AI assistant</li>
</ol>
<h3 id="advanced-example-complex-response-processing-with-conditional-logic">Advanced Example: Complex Response Processing with Conditional Logic</h3>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">server</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">weather-api-server</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">config</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">apiKey</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">your-weather-api-key</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">tools</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">get-weather</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Get weather forecast information for a specified city"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">args</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">city</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"City name"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">days</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Number of days (1-7)"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">integer</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">false</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">default</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">3</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">include_hourly</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Whether to include hourly forecasts"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">boolean</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">default</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">url</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"https://api.weatherapi.com/v1/forecast.json"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">method</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">GET</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">argsToUrlParam</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">headers</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">    </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">key</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">x-api-key</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">value</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"{{.config.apiKey}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">responseTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">body</span><span style="--0:#E1E4E8">: </span><span style="--0:#F97583">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF"># {{.location.name}}, {{.location.country}} Weather Forecast</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">**Current Temperature**: {{.current.temp_c}}°C</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">**Feels Like**: {{.current.feelslike_c}}°C</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">**Conditions**: {{.current.condition.text}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">**Humidity**: {{.current.humidity}}%</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">**Wind Speed**: {{.current.wind_kph}} km/h</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">## Future Forecast</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{range $index, $day := .forecast.forecastday}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">### {{$day.date}} ({{dateFormat "Monday" $day.date_epoch | title}})</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{if gt $day.day.maxtemp_c 30}}**High Temperature Alert!**{{end}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{if lt $day.day.mintemp_c 0}}**Low Temperature Alert!**{{end}}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Max Temperature**: {{$day.day.maxtemp_c}}°C</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Min Temperature**: {{$day.day.mintemp_c}}°C</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Chance of Rain**: {{$day.day.daily_chance_of_rain}}%</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **Conditions**: {{$day.day.condition.text}}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">#### Hourly Forecast</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{range $hour := slice $day.hour 6 24 3}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **{{dateFormat "15:04" $hour.time_epoch}}**: {{$hour.temp_c}}°C, {{$hour.condition.text}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{end}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">{{end}}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="server:  name: weather-api-server  config:    apiKey: your-weather-api-keytools:- name: get-weather  description: &#x22;Get weather forecast information for a specified city&#x22;  args:  - name: city    description: &#x22;City name&#x22;    type: string    required: true  - name: days    description: &#x22;Number of days (1-7)&#x22;    type: integer    required: false    default: 3  - name: include_hourly    description: &#x22;Whether to include hourly forecasts&#x22;    type: boolean    default: true  requestTemplate:    url: &#x22;https://api.weatherapi.com/v1/forecast.json&#x22;    method: GET    argsToUrlParam: true    headers:    - key: x-api-key      value: &#x22;{{.config.apiKey}}&#x22;  responseTemplate:    body: |      # {{.location.name}}, {{.location.country}} Weather Forecast      **Current Temperature**: {{.current.temp_c}}°C      **Feels Like**: {{.current.feelslike_c}}°C      **Conditions**: {{.current.condition.text}}      **Humidity**: {{.current.humidity}}%      **Wind Speed**: {{.current.wind_kph}} km/h      ## Future Forecast      {{range $index, $day := .forecast.forecastday}}      ### {{$day.date}} ({{dateFormat &#x22;Monday&#x22; $day.date_epoch | title}})      {{if gt $day.day.maxtemp_c 30}}**High Temperature Alert!**{{end}}      {{if lt $day.day.mintemp_c 0}}**Low Temperature Alert!**{{end}}      - **Max Temperature**: {{$day.day.maxtemp_c}}°C      - **Min Temperature**: {{$day.day.mintemp_c}}°C      - **Chance of Rain**: {{$day.day.daily_chance_of_rain}}%      - **Conditions**: {{$day.day.condition.text}}      #### Hourly Forecast      {{range $hour := slice $day.hour 6 24 3}}      - **{{dateFormat &#x22;15:04&#x22; $hour.time_epoch}}**: {{$hour.temp_c}}°C, {{$hour.condition.text}}      {{end}}      {{end}}"><div></div></button></div></figure></div>
<p>This example demonstrates:</p>
<ul>
<li>Using conditional statements (<code dir="auto">if</code>) for temperature alerts</li>
<li>Using date formatting functions (<code dir="auto">dateFormat</code>)</li>
<li>Using array slicing (<code dir="auto">slice</code>) to select specific weather times</li>
<li>Nested loops to iterate through multiple days and time periods of weather data</li>
</ul>
<h3 id="using-prependbody-and-appendbody-openapi-conversion">Using PrependBody and AppendBody: OpenAPI Conversion</h3>
<p>When you want to preserve the original API response but add additional context information, the <code dir="auto">prependBody</code> and <code dir="auto">appendBody</code> fields are very useful. This is particularly valuable when converting OpenAPI/Swagger specifications to MCP tools, as you can keep the original JSON response while providing explanations of field meanings for the AI assistant.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#85E89D">server</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">product-api-server</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">config</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">apiKey</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">your-api-key-here</span></div></div><div class="ec-line"><div class="code"><span style="--0:#85E89D">tools</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">get-product</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Get detailed product information"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">args</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">  </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">name</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">product_id</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">description</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Product ID"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">type</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">string</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">required</span><span style="--0:#E1E4E8">: </span><span style="--0:#79B8FF">true</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">requestTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">url</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"https://api.example.com/products/{{.args.product_id}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">method</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">GET</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">headers</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8">    </span></span><span style="--0:#E1E4E8">- </span><span style="--0:#85E89D">key</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">Authorization</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#85E89D">value</span><span style="--0:#E1E4E8">: </span><span style="--0:#9ECBFF">"Bearer {{.config.apiKey}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#85E89D">responseTemplate</span><span style="--0:#E1E4E8">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">prependBody</span><span style="--0:#E1E4E8">: </span><span style="--0:#F97583">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF"># Product Information</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">Below is the detailed product information returned in JSON format. Field descriptions:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **id**: Unique product identifier</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **name**: Product name</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **description**: Product description</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **price**: Product price (USD)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **category**: Product category</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **inventory**: Inventory information</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">- **quantity**: Current stock quantity</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">- **warehouse**: Warehouse location</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">- **ratings**: List of user ratings</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">- **score**: Rating (1-5)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">        </span></span><span style="--0:#9ECBFF">- **comment**: Review content</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">Original JSON response:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#85E89D">appendBody</span><span style="--0:#E1E4E8">: </span><span style="--0:#F97583">|</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#9ECBFF">      </span></span><span style="--0:#9ECBFF">You can use this information to understand the product's details, pricing, inventory status, and user reviews.</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="server:  name: product-api-server  config:    apiKey: your-api-key-heretools:- name: get-product  description: &#x22;Get detailed product information&#x22;  args:  - name: product_id    description: &#x22;Product ID&#x22;    type: string    required: true  requestTemplate:    url: &#x22;https://api.example.com/products/{{.args.product_id}}&#x22;    method: GET    headers:    - key: Authorization      value: &#x22;Bearer {{.config.apiKey}}&#x22;  responseTemplate:    prependBody: |      # Product Information      Below is the detailed product information returned in JSON format. Field descriptions:      - **id**: Unique product identifier      - **name**: Product name      - **description**: Product description      - **price**: Product price (USD)      - **category**: Product category      - **inventory**: Inventory information        - **quantity**: Current stock quantity        - **warehouse**: Warehouse location      - **ratings**: List of user ratings        - **score**: Rating (1-5)        - **comment**: Review content      Original JSON response:    appendBody: |      You can use this information to understand the product&#x27;s details, pricing, inventory status, and user reviews."><div></div></button></div></figure></div>
<p>This example demonstrates:</p>
<ul>
<li>Using <code dir="auto">prependBody</code> to add field descriptions before the original JSON response</li>
<li>Using <code dir="auto">appendBody</code> to add usage suggestions at the end of the response</li>
<li>Preserving the original JSON response, allowing the AI assistant to directly access all data</li>
</ul>
<h2 id="ai-prompt-for-template-generation">AI Prompt for Template Generation</h2>
<p>When working with AI assistants to generate templates for REST-to-MCP configuration, you can use the following prompt:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">Please help me create a REST-to-MCP configuration for Higress that converts a REST API to an MCP tool.</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">## Configuration Format</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">The configuration should follow this format:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">```yaml</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">server:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">name: rest-api-server</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">config:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">apiKey: your-api-key-here</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">tools:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">- name: tool-name</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">description: "Detailed description of what this tool does"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">args:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">- name: arg1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">description: "Description of argument 1"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">type: string  # Optional types: string, number, integer, boolean, array, object</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">required: true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">position: path  # Optional positions: query, path, header, cookie, body</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">- name: arg2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">description: "Description of argument 2"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">type: integer</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">required: false</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">default: 10</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">position: query</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">- name: arg3</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">description: "Description of argument 3"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">type: array</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">items:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">type: string</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">position: body</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">- name: arg4</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">description: "Description of argument 4"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">type: object</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">properties:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">subfield1:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">        </span></span><span style="--0:#e1e4e8">type: string</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">subfield2:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">        </span></span><span style="--0:#e1e4e8">type: number</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># No position specified, will be handled by argsToJsonBody/argsToUrlParam/argsToFormBody</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">requestTemplate:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">url: "https://api.example.com/endpoint"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">method: POST</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># The following four options are mutually exclusive, only one can be used</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">argsToUrlParam: true  # Add arguments to URL query parameters</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># OR</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># argsToJsonBody: true  # Send arguments as a JSON object in the request body</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># OR</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># argsToFormBody: true  # Send arguments as form-encoded in the request body</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># OR</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># body: |  # Manually construct the request body</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#   {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#     "param1": "{{.args.arg1}}",</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#     "param2": {{.args.arg2}},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#     "complex": {{toJson .args.arg4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#   }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">headers:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">- key: x-api-key</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">value: "{{.config.apiKey}}"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">  </span></span><span style="--0:#e1e4e8">responseTemplate:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># The following three options are mutually exclusive, only one can be used</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">body: |</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8"># Result</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">{{- range $index, $item := .items }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">## Item {{add $index 1}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">- **Name**: {{ $item.name }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">- **Value**: {{ $item.value }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">      </span></span><span style="--0:#e1e4e8">{{- end }}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># OR</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># prependBody: |</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#   # API Response Description</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#   Below is the original JSON response, with field meanings:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#   - field1: Meaning of field 1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#   - field2: Meaning of field 2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8"># appendBody: |</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">#   You can use this data to...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="Please help me create a REST-to-MCP configuration for Higress that converts a REST API to an MCP tool.## Configuration FormatThe configuration should follow this format:&#x60;&#x60;&#x60;yamlserver:  name: rest-api-server  config:    apiKey: your-api-key-heretools:- name: tool-name  description: &#x22;Detailed description of what this tool does&#x22;  args:  - name: arg1    description: &#x22;Description of argument 1&#x22;    type: string  # Optional types: string, number, integer, boolean, array, object    required: true    position: path  # Optional positions: query, path, header, cookie, body  - name: arg2    description: &#x22;Description of argument 2&#x22;    type: integer    required: false    default: 10    position: query  - name: arg3    description: &#x22;Description of argument 3&#x22;    type: array    items:      type: string    position: body  - name: arg4    description: &#x22;Description of argument 4&#x22;    type: object    properties:      subfield1:        type: string      subfield2:        type: number    # No position specified, will be handled by argsToJsonBody/argsToUrlParam/argsToFormBody  requestTemplate:    url: &#x22;https://api.example.com/endpoint&#x22;    method: POST    # The following four options are mutually exclusive, only one can be used    argsToUrlParam: true  # Add arguments to URL query parameters    # OR    # argsToJsonBody: true  # Send arguments as a JSON object in the request body    # OR    # argsToFormBody: true  # Send arguments as form-encoded in the request body    # OR    # body: |  # Manually construct the request body    #   {    #     &#x22;param1&#x22;: &#x22;{{.args.arg1}}&#x22;,    #     &#x22;param2&#x22;: {{.args.arg2}},    #     &#x22;complex&#x22;: {{toJson .args.arg4}}    #   }    headers:    - key: x-api-key      value: &#x22;{{.config.apiKey}}&#x22;  responseTemplate:    # The following three options are mutually exclusive, only one can be used    body: |      # Result      {{- range $index, $item := .items }}      ## Item {{add $index 1}}      - **Name**: {{ $item.name }}      - **Value**: {{ $item.value }}      {{- end }}    # OR    # prependBody: |    #   # API Response Description    #    #   Below is the original JSON response, with field meanings:    #   - field1: Meaning of field 1    #   - field2: Meaning of field 2    #    # appendBody: |    #    #   You can use this data to..."><div></div></button></div></figure></div>
<h2 id="template-syntax-1">Template Syntax</h2>
<p>The templates use GJSON Template syntax (<a href="https://github.com/higress-group/gjson_template" referrerpolicy="unsafe-url" rel="nofollow" target="_blank">https://github.com/higress-group/gjson_template</a>), which combines Go templates with GJSON path syntax for JSON processing. The template engine supports:</p>
<ol>
<li>Basic dot notation for accessing fields: {{.fieldName}}</li>
<li>The gjson function for complex queries: {{gjson “users.#(active==true)#.name”}}</li>
<li>All Sprig template functions (like Helm): {{add}}, {{upper}}, {{lower}}, {{date}}, etc.</li>
<li>Control structures: {{if}}, {{range}}, {{with}}, etc.</li>
<li>Variable assignment: {{$var := .value}}</li>
</ol>
<p>For complex JSON responses, consider using GJSON’s powerful filtering and querying capabilities to extract and format the most relevant information.</p>
<h2 id="my-api-information">My API Information</h2>
<p>The REST API I want to convert is:</p>
<p>[Describe your API here, including endpoints, parameters, and response format, or paste a Swagger/OpenAPI specification]</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>  </div> </main> </div> </span> <div class="pb-6"> <div class="pagination-links astro-u2l5gyhi">  <a href="/ai/quick-start/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> 下一篇 <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">一键部署 Higress AI 网关</span> </span> </a> </div>  </div> </div> <div class="right-sidebar-panel w-[18%] fixed h-full hidden 2xl:inline-block xl:inline-block"> <span class="toc-component-wrapper" style="--depth: 0;"> <markdown-toc data-min-h="1" data-max-h="4" class="isMobile" style="--depth: 0;"> <nav aria-labelledby="starlight__on-this-page" class="starlight__on-this-page" style="--depth: 0;"> <h2 id="starlight__on-this-page" class="heading" style="--depth: 0;"> 本页内容 </h2> <span class="table-of-contents-wrapper" style="--depth: 0;"> <ul style="--depth: 0;"> <li style="--depth: 0;"> <a href="#_top" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">概述</span> </a>  </li><li style="--depth: 0;"> <a href="#feature-description" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Feature Description</span> </a>  </li><li style="--depth: 0;"> <a href="#runtime-properties" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Runtime Properties</span> </a>  </li><li style="--depth: 0;"> <a href="#configuration-fields" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Configuration Fields</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#server-configuration" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Server Configuration</span> </a>  </li><li style="--depth: 1;"> <a href="#allowed-tools-configuration" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Allowed Tools Configuration</span> </a>  </li><li style="--depth: 1;"> <a href="#rest-to-mcp-tool-configuration" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">REST-to-MCP Tool Configuration</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#authentication-and-security" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Authentication and Security</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#defining-security-schemes-serversecurityschemes" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Defining Security Schemes (server.securitySchemes)</span> </a>  </li><li style="--depth: 1;"> <a href="#applying-security-schemes-in-tools" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Applying Security Schemes in Tools</span> </a>  </li><li style="--depth: 1;"> <a href="#passthrough-authentication" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Passthrough Authentication</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#parameter-type-support" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Parameter Type Support</span> </a>  </li><li style="--depth: 0;"> <a href="#parameter-position-control" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Parameter Position Control</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#supported-position-types" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Supported Position Types</span> </a>  </li><li style="--depth: 1;"> <a href="#usage-example" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Usage Example</span> </a>  </li><li style="--depth: 1;"> <a href="#relationship-with-bulk-parameter-processing-options" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Relationship with Bulk Parameter Processing Options</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#request-parameter-passing-methods" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Request Parameter Passing Methods</span> </a>  </li><li style="--depth: 0;"> <a href="#template-syntax" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Template Syntax</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#request-templates" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Request Templates</span> </a>  </li><li style="--depth: 1;"> <a href="#response-templates" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Response Templates</span> </a>  </li><li style="--depth: 1;"> <a href="#gjson-path-syntax" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">GJSON Path Syntax</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#configuration-examples" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Configuration Examples</span> </a> <span class="table-of-contents-wrapper" style="--depth: 1;"> <ul style="--depth: 1;"> <li style="--depth: 1;"> <a href="#using-built-in-mcp-server-example-configuring-quark-search" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Using Built-in MCP Server Example: Configuring quark-search</span> </a>  </li><li style="--depth: 1;"> <a href="#basic-example-converting-amap-api" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Basic Example: Converting AMap API</span> </a>  </li><li style="--depth: 1;"> <a href="#advanced-example-complex-response-processing-with-conditional-logic" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Advanced Example: Complex Response Processing with Conditional Logic</span> </a>  </li><li style="--depth: 1;"> <a href="#using-prependbody-and-appendbody-openapi-conversion" class="py-1" style="--depth: 1;"> <span style="--depth: 1;">Using PrependBody and AppendBody: OpenAPI Conversion</span> </a>  </li> </ul> </span>  </li><li style="--depth: 0;"> <a href="#ai-prompt-for-template-generation" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">AI Prompt for Template Generation</span> </a>  </li><li style="--depth: 0;"> <a href="#template-syntax-1" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">Template Syntax</span> </a>  </li><li style="--depth: 0;"> <a href="#my-api-information" class="py-1" style="--depth: 0;"> <span style="--depth: 0;">My API Information</span> </a>  </li> </ul> </span>  </nav> </markdown-toc> </span>   </div> </div>   </body> </html>  